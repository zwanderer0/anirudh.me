/*! For license information please see editor-canvas.min.js.LICENSE.txt */
!function(){"use strict";var e,t,n={7557:function(e){e.exports=window.React},9106:function(e,t,n){var r=n(7557),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,l={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:l,_owner:s.current}}t.jsx=l,t.jsxs=l},9370:function(e,t,n){e.exports=n(9106)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,o),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(function(e){s[e]=function(){return n[e]}});return s.default=function(){return n},o.d(i,s),i},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{createPropsResolver:function(){return un},createTemplatedElementView:function(){return yr},createTransformer:function(){return $n},createTransformersRegistry:function(){return dn},endDragElementFromPanel:function(){return eo},getCanvasIframeDocument:function(){return Kt},init:function(){return Qr},registerElementType:function(){return wr},settingsTransformersRegistry:function(){return Rn},startDragElementFromPanel:function(){return Zr},styleTransformersRegistry:function(){return fn}});var s=window.elementorV2.editor,a=window.elementorV2.editorInteractions,l=window.elementorV2.editorMcp,c=o(7557),u=o.t(c,2),d=window.elementorV2.editorDocuments,f=window.elementorV2.editorStylesRepository,p=window.elementorV2.utils;const m=()=>((0,c.useEffect)(()=>{const e=h();return()=>{e()}},[]),null),h=()=>f.stylesRepository.subscribe((e,t)=>{e&&t&&Object.keys(t).forEach(n=>{if(!e[n]||(0,p.hash)(e[n])===(0,p.hash)(t[n]))return;const r=e[n],o=t[n];r.label!==o.label&&g(r.label,o.label)})}),g=(e,t)=>{Object.values((0,d.getV1DocumentsManager)().documents).forEach(n=>{const r=n.container;r.view?.el?.querySelectorAll(`.elementor .${e}`).forEach(n=>{n.classList.replace(e,t)})})};var y=window.elementorV2.editorElements,v=window.elementorV2.editorV1Adapters;const w={"e-heading":"title","e-paragraph":"paragraph"};var b=window.elementorV2.editorControls,E=window.elementorV2.editorProps,x=window.elementorV2.ui;function T(){return"undefined"!=typeof window}function S(e){return k(e)?(e.nodeName||"").toLowerCase():"#document"}function R(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $(e){var t;return null==(t=(k(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function k(e){return!!T()&&(e instanceof Node||e instanceof R(e).Node)}function P(e){return!!T()&&(e instanceof Element||e instanceof R(e).Element)}function C(e){return!!T()&&(e instanceof HTMLElement||e instanceof R(e).HTMLElement)}function A(e){return!(!T()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof R(e).ShadowRoot)}const O=new Set(["inline","contents"]);function _(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=B(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!O.has(o)}const I=new Set(["table","td","th"]);function L(e){return I.has(S(e))}const j=[":popover-open",":modal"];function M(e){return j.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const N=["transform","translate","scale","rotate","perspective"],V=["transform","translate","scale","rotate","perspective","filter"],D=["paint","layout","strict","content"];function z(e){const t=F(),n=P(e)?B(e):e;return N.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||V.some(e=>(n.willChange||"").includes(e))||D.some(e=>(n.contain||"").includes(e))}function F(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const W=new Set(["html","body","#document"]);function U(e){return W.has(S(e))}function B(e){return R(e).getComputedStyle(e)}function Y(e){return P(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function q(e){if("html"===S(e))return e;const t=e.assignedSlot||e.parentNode||A(e)&&e.host||$(e);return A(t)?t.host:t}function H(e){const t=q(e);return U(t)?e.ownerDocument?e.ownerDocument.body:e.body:C(t)&&_(t)?t:H(t)}function X(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=H(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),s=R(o);if(i){const e=K(s);return t.concat(s,s.visualViewport||[],_(o)?o:[],e&&n?X(e):[])}return t.concat(o,X(o,[],n))}function K(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var G=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),J="undefined"==typeof Element,Q=J?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Z=!J&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},ee=function(e,t){var n;void 0===t&&(t=!0);var r=null==e||null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,"inert");return""===r||"true"===r||t&&e&&ee(e.parentNode)},te=function(e,t,n){for(var r=[],o=Array.from(e);o.length;){var i=o.shift();if(!ee(i,!1))if("SLOT"===i.tagName){var s=i.assignedElements(),a=s.length?s:i.children,l=te(a,!0,n);n.flatten?r.push.apply(r,l):r.push({scopeParent:i,candidates:l})}else{Q.call(i,G)&&n.filter(i)&&(t||!e.includes(i))&&r.push(i);var c=i.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(i),u=!ee(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(i));if(c&&u){var d=te(!0===c?i.children:c.children,!0,n);n.flatten?r.push.apply(r,d):r.push({scopeParent:i,candidates:d})}else o.unshift.apply(o,i.children)}}return r},ne=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},re=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!ne(e)?0:e.tabIndex},oe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},ie=function(e){return"INPUT"===e.tagName},se=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},ae=function(e,t){return!(t.disabled||ee(t)||function(e){return ie(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("full-native"===n&&"checkVisibility"in e)return!e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if("hidden"===getComputedStyle(e).visibility)return!0;var o=Q.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Q.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"full-native"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return se(e)}else{if("function"==typeof r){for(var i=e;e;){var s=e.parentElement,a=Z(e);if(s&&!s.shadowRoot&&!0===r(s))return se(e);e=e.assignedSlot?e.assignedSlot:s||a===e.ownerDocument?s:a.host}e=i}if(function(e){var t,n,r,o,i=e&&Z(e),s=null===(t=i)||void 0===t?void 0:t.host,a=!1;if(i&&i!==e)for(a=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!a&&s;){var l,c,u;a=!(null===(c=s=null===(l=i=Z(s))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(s))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!Q.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},le=function(e,t){return!(function(e){return function(e){return ie(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Z(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)}(t)||re(t)<0||!ae(e,t))},ce=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ue=function(e){var t=[],n=[];return e.forEach(function(e,r){var o=!!e.scopeParent,i=o?e.scopeParent:e,s=function(e,t){var n=re(e);return n<0&&t&&!ne(e)?0:n}(i,o),a=o?ue(e.candidates):i;0===s?o?t.push.apply(t,a):t.push(i):n.push({documentOrder:r,tabIndex:s,item:e,isScope:o,content:a})}),n.sort(oe).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(t)},de=function(e,t){var n;return n=(t=t||{}).getShadowRoot?te([e],t.includeContainer,{filter:le.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:ce}):function(e,t,n){if(ee(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(G));return t&&Q.call(e,G)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,le.bind(null,t)),ue(n)};function fe(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&A(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function pe(e){return(null==e?void 0:e.ownerDocument)||document}function me(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}var he="undefined"!=typeof document?c.useLayoutEffect:function(){};function ge(e){const t=c.useRef(e);return he(()=>{t.current=e}),t}const ye={...u}.useInsertionEffect||(e=>e());function ve(e){const t=c.useRef(()=>{});return ye(()=>{t.current=e}),c.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}const we=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function be(e,t){const n=de(e,we()),r=n.length;if(0===r)return;const o=function(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}(pe(e)),i=n.indexOf(o);return n[-1===i?1===t?0:r-1:i+t]}function Ee(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!fe(n,r)}function xe(e){de(e,we()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function Te(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}var Se=o(9370),Re=window.ReactDOM;const $e=Math.min,ke=Math.max,Pe=Math.round,Ce=Math.floor,Ae=e=>({x:e,y:e});function Oe(e,t){return"function"==typeof e?e(t):e}function _e(e){return e.split("-")[0]}function Ie(e){return e.split("-")[1]}const Le=new Set(["top","bottom"]);function je(e){return Le.has(_e(e))?"y":"x"}function Me(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Ne(e,t,n){let{reference:r,floating:o}=e;const i=je(t),s=function(e){return"x"===je(e)?"y":"x"}(t),a="y"===s?"height":"width",l=_e(t),c="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Ie(t)){case"start":p[s]-=f*(n&&c?-1:1);break;case"end":p[s]+=f*(n&&c?-1:1)}return p}const Ve=new Set(["left","top"]);function De(e){const t=B(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=C(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Pe(n)!==i||Pe(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function ze(e){return P(e)?e:e.contextElement}function Fe(e){const t=ze(e);if(!C(t))return Ae(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=De(t);let s=(i?Pe(n.width):n.width)/r,a=(i?Pe(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const We=Ae(0);function Ue(e){const t=R(e);return F()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:We}function Be(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=ze(e);let s=Ae(1);t&&(r?P(r)&&(s=Fe(r)):s=Fe(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==R(e))&&t}(i,n,r)?Ue(i):Ae(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const e=R(i),t=r&&P(r)?R(r):r;let n=e,o=K(n);for(;o&&r&&t!==n;){const e=Fe(o),t=o.getBoundingClientRect(),r=B(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=s,n=R(o),o=K(n)}}return Me({width:u,height:d,x:l,y:c})}function Ye(e,t){const n=Y(e).scrollLeft;return t?t.left+n:Be($(e)).left+n}function qe(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-Ye(e,n),y:n.top+t.scrollTop}}const He=new Set(["absolute","fixed"]);function Xe(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=R(e),r=$(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const e=F();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}const c=Ye(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-o);s<=25&&(i-=s)}else c<=25&&(i+=c);return{width:i,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=$(e),n=Y(e),r=e.ownerDocument.body,o=ke(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ke(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ye(e);const a=-n.scrollTop;return"rtl"===B(r).direction&&(s+=ke(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}($(e));else if(P(t))r=function(e,t){const n=Be(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=C(e)?Fe(e):Ae(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=Ue(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Me(r)}function Ke(e,t){const n=q(e);return!(n===t||!P(n)||U(n))&&("fixed"===B(n).position||Ke(n,t))}function Ge(e,t,n){const r=C(t),o=$(t),i="fixed"===n,s=Be(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Ae(0);function c(){l.x=Ye(o)}if(r||!r&&!i)if(("body"!==S(t)||_(o))&&(a=Y(t)),r){const e=Be(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=!o||r||i?Ae(0):qe(o,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}function Je(e){return"static"===B(e).position}function Qe(e,t){if(!C(e)||"fixed"===B(e).position)return null;if(t)return t(e);let n=e.offsetParent;return $(e)===n&&(n=n.ownerDocument.body),n}function Ze(e,t){const n=R(e);if(M(e))return n;if(!C(e)){let t=q(e);for(;t&&!U(t);){if(P(t)&&!Je(t))return t;t=q(t)}return n}let r=Qe(e,t);for(;r&&L(r)&&Je(r);)r=Qe(r,t);return r&&U(r)&&Je(r)&&!z(r)?n:r||function(e){let t=q(e);for(;C(t)&&!U(t);){if(z(t))return t;if(M(t))return null;t=q(t)}return null}(e)||n}const et={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,s=$(r),a=!!t&&M(t.floating);if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ae(1);const u=Ae(0),d=C(r);if((d||!d&&!i)&&(("body"!==S(r)||_(s))&&(l=Y(r)),C(r))){const e=Be(r);c=Fe(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!s||d||i?Ae(0):qe(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:$,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?M(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=X(e,[],!1).filter(e=>P(e)&&"body"!==S(e)),o=null;const i="fixed"===B(e).position;let s=i?q(e):e;for(;P(s)&&!U(s);){const t=B(s),n=z(s);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&He.has(o.position)||_(s)&&!n&&Ke(e,s))?r=r.filter(e=>e!==s):o=t,s=q(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=i[0],a=i.reduce((e,n)=>{const r=Xe(t,n,o);return e.top=ke(r.top,e.top),e.right=$e(r.right,e.right),e.bottom=$e(r.bottom,e.bottom),e.left=ke(r.left,e.left),e},Xe(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Ze,getElementRects:async function(e){const t=this.getOffsetParent||Ze,n=this.getDimensions,r=await n(e.floating);return{reference:Ge(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=De(e);return{width:t,height:n}},getScale:Fe,isElement:P,isRTL:function(e){return"rtl"===B(e).direction}};function tt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nt(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=ze(e),u=o||i?[...c?X(c):[],...X(t)]:[];u.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});const d=c&&a?function(e,t){let n,r=null;const o=$(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||t(),!f||!p)return;const m={rootMargin:-Ce(d)+"px "+-Ce(o.clientWidth-(u+f))+"px "+-Ce(o.clientHeight-(d+p))+"px "+-Ce(u)+"px",threshold:ke(0,$e(1,l))||1};let h=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!h)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||tt(c,e.getBoundingClientRect())||s(),h=!1}try{r=new IntersectionObserver(g,{...m,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(g,m)}r.observe(e)}(!0),i}(c,n):null;let f,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let h=l?Be(e):null;return l&&function t(){const r=Be(e);h&&!tt(h,r)&&n(),h=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(f)}}const rt=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),s=_e(n),a=Ie(n),l="y"===je(n),c=Ve.has(s)?-1:1,u=i&&l?-1:1,d=Oe(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof m&&(p="end"===a?-1*m:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},ot=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=Oe(e,t),u=await async function(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Oe(t,e),m=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(p),h=a[f?"floating"===d?"reference":"floating":d],g=Me(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(h)))||n?h:h.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),w=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},b=Me(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-b.top+m.top)/w.y,bottom:(b.bottom-g.bottom+m.bottom)/w.y,left:(g.left-b.left+m.left)/w.x,right:(b.right-g.right+m.right)/w.x}}(t,c),d=_e(o),f=Ie(o),p="y"===je(o),{width:m,height:h}=i.floating;let g,y;"top"===d||"bottom"===d?(g=d,y=f===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g="end"===f?"top":"bottom");const v=h-u.top-u.bottom,w=m-u.left-u.right,b=$e(h-u[g],v),E=$e(m-u[y],w),x=!t.middlewareData.shift;let T=b,S=E;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=w),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(T=v),x&&!f){const e=ke(u.left,0),t=ke(u.right,0),n=ke(u.top,0),r=ke(u.bottom,0);p?S=m-2*(0!==e||0!==t?e+t:ke(u.left,u.right)):T=h-2*(0!==n||0!==r?n+r:ke(u.top,u.bottom))}await l({...t,availableWidth:S,availableHeight:T});const R=await s.getDimensions(a.floating);return m!==R.width||h!==R.height?{reset:{rects:!0}}:{}}}},it=(e,t,n)=>{const r=new Map,o={platform:et,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Ne(c,r,l),f=r,p={},m=0;for(let n=0;n<a.length;n++){const{name:i,fn:h}=a[n],{x:g,y:y,data:v,reset:w}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,p={...p,[i]:{...p[i],...v}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(c=!0===w.rects?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:u,y:d}=Ne(c,f,l))),n=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:p}})(e,t,{...o,platform:i})};var st="undefined"!=typeof document?c.useLayoutEffect:function(){};function at(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!at(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(!("_owner"===n&&e.$$typeof||at(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function lt(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ct(e,t){const n=lt(e);return Math.round(t*n)/n}function ut(e){const t=c.useRef(e);return st(()=>{t.current=e}),t}const dt=(e,t)=>({...rt(e),options:[e,t]}),ft="data-floating-ui-focusable",pt="active",mt="selected",ht={...u};let gt=!1,yt=0;const vt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+yt++,wt=ht.useId||function(){const[e,t]=c.useState(()=>gt?vt():void 0);return he(()=>{null==e&&t(vt())},[]),c.useEffect(()=>{gt=!0},[]),e};const bt=c.createContext(null),Et=c.createContext(null),xt=()=>{var e;return(null==(e=c.useContext(bt))?void 0:e.id)||null},Tt=()=>c.useContext(Et);function St(e){return"data-floating-ui-"+e}function Rt(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}const $t=St("safe-polygon");function kt(e,t,n){if(n&&!me(n))return 0;if("number"==typeof e)return e;if("function"==typeof e){const n=e();return"number"==typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}function Pt(e){return"function"==typeof e?e():e}function Ct(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:d=!1,restMs:f=0,move:p=!0}=t,m=Tt(),h=xt(),g=ge(u),y=ge(l),v=ge(n),w=ge(f),b=c.useRef(),E=c.useRef(-1),x=c.useRef(),T=c.useRef(-1),S=c.useRef(!0),R=c.useRef(!1),$=c.useRef(()=>{}),k=c.useRef(!1),C=ve(()=>{var e;const t=null==(e=o.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t});c.useEffect(()=>{if(a)return i.on("openchange",e),()=>{i.off("openchange",e)};function e(e){let{open:t}=e;t||(Rt(E),Rt(T),S.current=!0,k.current=!1)}},[a,i]),c.useEffect(()=>{if(!a)return;if(!g.current)return;if(!n)return;function e(e){C()&&r(!1,e,"hover")}const t=pe(s.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[s.floating,n,r,a,g,C]);const A=c.useCallback(function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const o=kt(y.current,"close",b.current);o&&!x.current?(Rt(E),E.current=window.setTimeout(()=>r(!1,e,n),o)):t&&(Rt(E),r(!1,e,n))},[y,r]),O=ve(()=>{$.current(),x.current=void 0}),_=ve(()=>{if(R.current){const e=pe(s.floating).body;e.style.pointerEvents="",e.removeAttribute($t),R.current=!1}}),I=ve(()=>!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type));c.useEffect(()=>{if(a&&P(s.domReference)){const r=s.domReference,o=s.floating;return n&&r.addEventListener("mouseleave",i),p&&r.addEventListener("mousemove",e,{once:!0}),r.addEventListener("mouseenter",e),r.addEventListener("mouseleave",t),o&&(o.addEventListener("mouseleave",i),o.addEventListener("mouseenter",l),o.addEventListener("mouseleave",c)),()=>{n&&r.removeEventListener("mouseleave",i),p&&r.removeEventListener("mousemove",e),r.removeEventListener("mouseenter",e),r.removeEventListener("mouseleave",t),o&&(o.removeEventListener("mouseleave",i),o.removeEventListener("mouseenter",l),o.removeEventListener("mouseleave",c))}}function e(e){if(Rt(E),S.current=!1,d&&!me(b.current)||Pt(w.current)>0&&!kt(y.current,"open"))return;const t=kt(y.current,"open",b.current);t?E.current=window.setTimeout(()=>{v.current||r(!0,e,"hover")},t):n||r(!0,e,"hover")}function t(e){if(I())return void _();$.current();const t=pe(s.floating);if(Rt(T),k.current=!1,g.current&&o.current.floatingContext){n||Rt(E),x.current=g.current({...o.current.floatingContext,tree:m,x:e.clientX,y:e.clientY,onClose(){_(),O(),I()||A(e,!0,"safe-polygon")}});const r=x.current;return t.addEventListener("mousemove",r),void($.current=()=>{t.removeEventListener("mousemove",r)})}("touch"!==b.current||!fe(s.floating,e.relatedTarget))&&A(e)}function i(e){I()||o.current.floatingContext&&(null==g.current||g.current({...o.current.floatingContext,tree:m,x:e.clientX,y:e.clientY,onClose(){_(),O(),I()||A(e)}})(e))}function l(){Rt(E)}function c(e){I()||A(e,!1)}},[s,a,e,d,p,A,O,_,r,n,v,m,y,g,o,I,w]),he(()=>{var e;if(a&&n&&null!=(e=g.current)&&null!=(e=e.__options)&&e.blockPointerEvents&&C()){R.current=!0;const e=s.floating;if(P(s.domReference)&&e){var t;const n=pe(s.floating).body;n.setAttribute($t,"");const r=s.domReference,o=null==m||null==(t=m.nodesRef.current.find(e=>e.id===h))||null==(t=t.context)?void 0:t.elements.floating;return o&&(o.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}},[a,n,h,s,m,g,C]),he(()=>{n||(b.current=void 0,k.current=!1,O(),_())},[n,O,_]),c.useEffect(()=>()=>{O(),Rt(E),Rt(T),_()},[a,s.domReference,O,_]);const L=c.useMemo(()=>{function e(e){b.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function o(){S.current||v.current||r(!0,t,"hover")}d&&!me(b.current)||n||0===Pt(w.current)||k.current&&e.movementX**2+e.movementY**2<2||(Rt(T),"touch"===b.current?o():(k.current=!0,T.current=window.setTimeout(o,Pt(w.current))))}}},[d,r,n,v,w]);return c.useMemo(()=>a?{reference:L}:{},[a,L])}const At={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Ot=c.forwardRef(function(e,t){const[n,r]=c.useState();he(()=>{/apple/i.test(navigator.vendor)&&r("button")},[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[St("focus-guard")]:"",style:At};return(0,Se.jsx)("span",{...e,...o})}),_t=c.createContext(null),It=St("portal");function Lt(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,i=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=wt(),o=jt(),[i,s]=c.useState(null),a=c.useRef(null);return he(()=>()=>{null==i||i.remove(),queueMicrotask(()=>{a.current=null})},[i]),he(()=>{if(!r)return;if(a.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(It,""),e.appendChild(n),a.current=n,s(n)},[t,r]),he(()=>{if(null===n)return;if(!r)return;if(a.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!k(e)&&(e=e.current),e=e||document.body;let i=null;t&&(i=document.createElement("div"),i.id=t,e.appendChild(i));const l=document.createElement("div");l.id=r,l.setAttribute(It,""),e=i||e,e.appendChild(l),a.current=l,s(l)},[t,n,r,o]),i}({id:n,root:r}),[s,a]=c.useState(null),l=c.useRef(null),u=c.useRef(null),d=c.useRef(null),f=c.useRef(null),p=null==s?void 0:s.modal,m=null==s?void 0:s.open,h=!!s&&!s.modal&&s.open&&o&&!(!r&&!i);return c.useEffect(()=>{if(i&&o&&!p)return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){i&&Ee(e)&&("focusin"===e.type?Te:xe)(i)}},[i,o,p]),c.useEffect(()=>{i&&(m||Te(i))},[m,i]),(0,Se.jsxs)(_t.Provider,{value:c.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:d,afterInsideRef:f,portalNode:i,setFocusManagerState:a}),[o,i]),children:[h&&i&&(0,Se.jsx)(Ot,{"data-type":"outside",ref:l,onFocus:e=>{if(Ee(e,i)){var t;null==(t=d.current)||t.focus()}else{const e=be(pe(n=s?s.domReference:null).body,-1)||n;null==e||e.focus()}var n}}),h&&i&&(0,Se.jsx)("span",{"aria-owns":i.id,style:At}),i&&Re.createPortal(t,i),h&&i&&(0,Se.jsx)(Ot,{"data-type":"outside",ref:u,onFocus:e=>{if(Ee(e,i)){var t;null==(t=f.current)||t.focus()}else{const t=be(pe(n=s?s.domReference:null).body,1)||n;null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}var n}})]})}const jt=()=>c.useContext(_t);function Mt(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=wt(),i=c.useRef({}),[s]=c.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}()),a=null!=xt(),[l,u]=c.useState(r.reference),d=ve((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:a}),null==n||n(e,t,r)}),f=c.useMemo(()=>({setPositionReference:u}),[]),p=c.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return c.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:p,events:s,floatingId:o,refs:f}),[t,d,p,s,o,f])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=c.useState(null),[a,l]=c.useState(null),u=(null==o?void 0:o.domReference)||i,d=c.useRef(null),f=Tt();he(()=>{u&&(d.current=u)},[u]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=c.useState(r);at(p,r)||m(r);const[h,g]=c.useState(null),[y,v]=c.useState(null),w=c.useCallback(e=>{e!==T.current&&(T.current=e,g(e))},[]),b=c.useCallback(e=>{e!==S.current&&(S.current=e,v(e))},[]),E=i||h,x=s||y,T=c.useRef(null),S=c.useRef(null),R=c.useRef(d),$=null!=l,k=ut(l),P=ut(o),C=ut(u),A=c.useCallback(()=>{if(!T.current||!S.current)return;const e={placement:t,strategy:n,middleware:p};P.current&&(e.platform=P.current),it(T.current,S.current,e).then(e=>{const t={...e,isPositioned:!1!==C.current};O.current&&!at(R.current,t)&&(R.current=t,Re.flushSync(()=>{f(t)}))})},[p,t,n,P,C]);st(()=>{!1===u&&R.current.isPositioned&&(R.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[u]);const O=c.useRef(!1);st(()=>(O.current=!0,()=>{O.current=!1}),[]),st(()=>{if(E&&(T.current=E),x&&(S.current=x),E&&x){if(k.current)return k.current(E,x,A);A()}},[E,x,A,k,$]);const _=c.useMemo(()=>({reference:T,floating:S,setReference:w,setFloating:b}),[w,b]),I=c.useMemo(()=>({reference:E,floating:x}),[E,x]),L=c.useMemo(()=>{const e={position:n,left:0,top:0};if(!I.floating)return e;const t=ct(I.floating,d.x),r=ct(I.floating,d.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...lt(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,I.floating,d.x,d.y]);return c.useMemo(()=>({...d,update:A,refs:_,elements:I,floatingStyles:L}),[d,A,_,I,L])}({...e,elements:{...o,...a&&{reference:a}}}),m=c.useCallback(e=>{const t=P(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;l(t),p.refs.setReference(t)},[p.refs]),h=c.useCallback(e=>{(P(e)||null===e)&&(d.current=e,s(e)),(P(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!P(e))&&p.refs.setReference(e)},[p.refs]),g=c.useMemo(()=>({...p.refs,setReference:h,setPositionReference:m,domReference:d}),[p.refs,h,m]),y=c.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),v=c.useMemo(()=>({...p,...r,refs:g,elements:y,nodeId:t}),[p,g,y,t,r]);return he(()=>{r.dataRef.current.floatingContext=v;const e=null==f?void 0:f.nodesRef.current.find(e=>e.id===t);e&&(e.context=v)}),c.useMemo(()=>({...p,context:v,refs:g,elements:y}),[p,g,y,v])}function Nt(e,t,n){const r=new Map,o="item"===n;let i=e;if(o&&e){const{[pt]:t,[mt]:n,...r}=e;i=r}return{..."floating"===n&&{tabIndex:-1,[ft]:""},...i,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,i]=t;var s;o&&[pt,mt].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof i&&(null==(s=r.get(n))||s.push(i),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return null==(e=r.get(n))?void 0:e.map(e=>e(...o)).find(e=>void 0!==e)})):e[n]=i)}),e):e,{})}}function Vt({element:e,isSelected:t}){const[n,r]=(0,c.useState)(!1),{refs:o,floatingStyles:i,context:s}=Mt({open:n||t,onOpenChange:r,whileElementsMounted:nt,middleware:[(a=()=>({apply({elements:e,rects:t}){Object.assign(e.floating.style,{width:`${t.reference.width+2}px`,height:`${t.reference.height+2}px`})}}),{...ot(a),options:[a,undefined]}),dt(({rects:e})=>-e.reference.height/2-e.floating.height/2)]});var a;return(0,c.useEffect)(()=>{o.setReference(e)},[e,o]),{isVisible:n||t,context:s,floating:{setRef:o.setFloating,ref:o.floating,styles:i}}}const Dt=[".e-off-canvas"];function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(null,arguments)}const Ft="elementor-preview-responsive-wrapper",Wt=(0,x.styled)(x.Box,{shouldForwardProp:e=>"isSelected"!==e&&"isSmallerOffset"!==e})(({theme:e,isSelected:t,isSmallerOffset:n})=>({outline:`${t?"2px":"1px"} solid ${e.palette.primary.light}`,outlineOffset:t&&!n?"-2px":"-1px",pointerEvents:"none"})),Ut="atomic",Bt=[{component:({element:e,isSelected:t,id:n})=>{const{context:r,floating:o,isVisible:i}=Vt({element:e,isSelected:t}),{getFloatingProps:s,getReferenceProps:a}=function(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),o=c.useCallback(t=>Nt(t,e,"reference"),t),i=c.useCallback(t=>Nt(t,e,"floating"),n),s=c.useCallback(t=>Nt(t,e,"item"),r);return c.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}([Ct(r)]),l=(()=>{const e=window.elementor?.$preview?.[0];return!!e&&Dt.map(t=>Array.from(e?.contentWindow?.document.body.querySelectorAll(t)??[])).flat().some(e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}))})();!function(e,t){(0,c.useEffect)(()=>{const n=e,{events:r,attrs:o}=function(e){const t=/^on(?=[A-Z])/;return Object.entries(e).reduce((e,[n,r])=>{if(!t.test(n))return e.attrs.push([n,r]),e;const o=n.replace(t,"").toLowerCase(),i=r;return e.events.push([o,i]),e},{events:[],attrs:[]})}(t());return r.forEach(([e,t])=>n.addEventListener(e,t)),o.forEach(([e,t])=>n.setAttribute(e,t)),()=>{r.forEach(([e,t])=>n.removeEventListener(e,t)),o.forEach(([e])=>n.removeAttribute(e))}},[t,e])}(e,a);const u=e.offsetHeight<=1;return i&&!l&&c.createElement(Lt,{id:Ft},c.createElement(Wt,zt({ref:o.setRef,isSelected:t,style:o.styles,"data-element-overlay":n,role:"presentation",isSmallerOffset:u},s())))},shouldRender:()=>!0},{component:({element:e,isSelected:t,id:n})=>{const{floating:r,isVisible:o}=Vt({element:e,isSelected:t}),i=c.useMemo(()=>(e=>(e=>{const t=e?.model?.get("widgetType")??e?.model?.get("elType");if(!t)return"";if(w[t])return w[t];const n=(0,y.getElementType)(t)?.propsSchema;if(!n)return"";const r=Object.entries(n).find(([,e])=>"html"===e.key);return r?.[0]??""})(e))((0,y.getContainer)(n)),[n]),s=(0,y.useElementSetting)(n,i),a=c.useMemo(()=>E.htmlPropTypeUtil.extract(s)||"",[s]),l=c.useRef(null),u=c.useRef("");c.useEffect(()=>(l.current=(0,p.debounce)(e=>{const t=""===e.replace(/<[^>]*>/g,"").trim()?"&nbsp;":e;(0,y.updateElementSettings)({id:n,props:{[i]:E.htmlPropTypeUtil.create(t)},withHistory:!0})},100),()=>{l.current?.cancel?.()}),[n,i]);const d=c.useCallback(e=>{u.current=e,l.current?.(e)},[]);return c.useEffect(()=>{!o&&l.current?.pending?.()&&l.current.flush(u.current)},[o]),o?c.createElement(Lt,{id:Ft},c.createElement(x.Box,{ref:r.setRef,style:{...r.styles,zIndex:1e3,pointerEvents:"auto"}},c.createElement(b.InlineEditor,{value:a,setValue:d,showToolbar:t}))):null},shouldRender:({id:e,isSelected:t})=>t&&(e=>{const t=(0,y.getContainer)(e),n=t?.model?.get("widgetType")??t?.model?.get("elType");return!!n&&n in w})(e)&&(0,v.isExperimentActive)("v4-inline-text-editing")}];function Yt(){const e=(0,y.useSelectedElement)(),t=(0,v.__privateUseListenTo)([(0,v.windowEvent)("elementor/editor/element-rendered"),(0,v.windowEvent)("elementor/editor/element-destroyed")],()=>(0,y.getElements)().filter(e=>Ut in(e.view?.el?.dataset??{})).map(e=>[e.id,e.view?.getDomElement?.()?.get?.(0)]).filter(e=>!!e[1])),n="edit"===(0,v.useEditMode)(),r=(0,v.__privateUseIsRouteActive)("panel/global");return n&&!r?t.map(([t,n])=>{const r=e.element?.id===t;return Bt.map(({shouldRender:e,component:o},i)=>e({id:t,element:n,isSelected:r})&&c.createElement(o,{key:`${t}-${i}`,id:t,element:n,isSelected:r}))}):null}function qt(e){const t=(0,c.useRef)(!1);(0,c.useEffect)(()=>{t.current||(t.current=!0,e())},[])}function Ht({provider:e},{provider:t}){return e.priority-t.priority}function Xt({provider:e,setInteractionItems:t}){return()=>{try{const n=e.actions.all(),r=e.getKey();t(t=>({...t,[r]:{provider:e,items:n}}))}catch{}}}function Kt(){const e=window;return e.elementor?.$preview?.[0]?.contentDocument}function Gt(){const e=(0,v.__privateUseListenTo)((0,v.commandEndEvent)("editor/documents/attach-preview"),()=>Kt()?.head),t=function(){const[e,t]=(0,c.useState)({}),n=(0,c.useMemo)(()=>{try{return a.interactionsRepository.getProviders().map(e=>({provider:e,subscriber:Xt({provider:e,setInteractionItems:t})}))}catch{return[]}},[]);return(0,c.useEffect)(()=>{if(0===n.length)return;const e=n.map(({provider:e,subscriber:t})=>e.subscribe(()=>{try{t()}catch{}}));return()=>{e.forEach(e=>e())}},[n]),qt(()=>{0!==n.length&&(0,v.registerDataHook)("after","editor/documents/attach-preview",async()=>{n.forEach(({subscriber:e})=>{try{e()}catch{}})})}),(0,c.useMemo)(()=>Object.values(e).sort(Ht).flatMap(({items:e})=>e),[e])}();if(!e)return null;const n=JSON.stringify(Array.isArray(t)?t:[]);return c.createElement(x.Portal,{container:e},c.createElement("script",{type:"application/json","data-e-interactions":"true",dangerouslySetInnerHTML:{__html:n}}))}const Jt="data-e-removed",Qt="data-elementor-id",Zt="elementor-post-",en="-css";function tn(e){const t=[...e.attributes].map(e=>[e.name,e.value]);return Object.fromEntries(t)}var nn=window.elementorV2.editorResponsive,rn=window.elementorV2.editorStyles;function on(e,t=[]){return{then:n=>(t.push(n),on(e,t)),execute:async()=>{let n;for(const r of t){if(e.aborted)break;n=await r(n,e)}}}}const sn=e=>!!e&&"object"==typeof e&&"$$multi-props"in e&&!0===e["$$multi-props"],an=e=>({"$$multi-props":!0,value:e}),ln=e=>e.value,cn=3;function un({transformers:e,schema:t,onPropResolve:n}){async function r({props:e,schema:r,signal:i}){r=r??t;const s=Promise.all(Object.entries(r).map(async([t,r])=>{const s=e[t]??r.default,a=await o({value:s,key:t,type:r,signal:i});return n?.({key:t,value:a}),sn(a)?ln(a):{[t]:a}}));return Object.assign({},...(await s).filter(Boolean))}async function o({value:t,key:n,type:i,signal:s,depth:a=0}){if(null==t)return null;if(!(0,E.isTransformable)(t))return t;if(a>cn)return null;if(!0===t.disabled)return null;if(t=(0,E.migratePropValue)(t,i),!(0,E.isTransformable)(t))return t;if("union"===i.kind&&!(i=i.prop_types[t.$$type]))return null;if(t.$$type!==i.key)return null;let l=t.value;"object"===i.kind&&(l=await r({props:l,schema:i.shape,signal:s})),"array"===i.kind&&(l=await Promise.all(l.map(e=>o({value:e,key:n,type:i.item_prop_type,depth:a,signal:s}))));const c=e.get(t.$$type);if(!c)return null;try{return o({value:await c(l,{key:n,signal:s}),key:n,type:i,signal:s,depth:a+1})}catch{return null}}return r}function dn(){const e={};let t=null;return{register(t,n){return e[t]=n,this},registerFallback(e){return t=e,this},get(n){return e[n]??t},all(){return{...e}}}}const fn=dn(),pn=(e,t="preview")=>{const n=window;return n.elementor?.helpers?.enqueueFont?.(e,t)??null},mn=(0,p.createError)({code:"unknown_style_type",message:"Unknown style type"}),hn=(0,p.createError)({code:"unknown_style_state",message:"Unknown style state"}),gn={class:"."};function yn({resolve:e,breakpoints:t,selectorPrefix:n=""}){return async({styles:r,signal:o})=>{const i=r.map(async r=>{const i=Object.values(r.variants).map(async i=>{const s=await async function({props:e,resolve:t,signal:n}){const r=await t({props:e,signal:n});return Object.entries(r).reduce((e,[t,n])=>(null===n||e.push(t+":"+n+";"),e),[]).join("")}({props:i.props,resolve:e,signal:o}),a=function(e){const t=(0,p.decodeString)(e?.raw||"");return t.trim()?t+"\n":""}(i.custom_css);return vn().for(r.cssName,r.type).withPrefix(n).withState(i.meta.state).withMediaQuery(i.meta.breakpoint?t[i.meta.breakpoint]:null).wrap(s+a)}),s=await Promise.all(i);return{id:r.id,breakpoint:r?.variants[0]?.meta?.breakpoint||"desktop",value:s.join(""),state:r?.variants[0]?.meta?.state||null}});return await Promise.all(i)}}function vn(e="",t){return{for:(n,r)=>{const o=gn[r];if(!o)throw new mn({context:{type:r}});return vn(`${e}${o}${n}`,t)},withPrefix:n=>vn([n,e].filter(Boolean).join(" "),t),withState:n=>{if(!n)return vn(e,t);if((0,rn.isClassState)(n))return vn(`${e}.${n}`,t);if((0,rn.isPseudoState)(n))return vn(`${e}:${n}`,t);throw new hn({context:{state:n}})},withMediaQuery:n=>{if(!n?.type)return vn(e,t);const r=`${n.type}:${n.width}px`;return vn(e,e=>`@media(${r}){${e}}`)},wrap:n=>{const r=`${e}{${n}}`;return t?t(r):r}}}const wn=".elementor";function bn({provider:e},{provider:t}){return e.priority-t.priority}function En({state:e},{state:t}){return(0,rn.isClassState)(e)&&!(0,rn.isClassState)(t)?-1:!(0,rn.isClassState)(e)&&(0,rn.isClassState)(t)?1:0}function xn({provider:e,renderStyles:t,setStyleItems:n}){return function(){let o=null;return(...i)=>(o&&o.abort(),o=new AbortController,(o=>on(o.signal).then((n,o)=>{const i=e.actions.all().map((t,n,r)=>{const o=r[r.length-1-n];return{...o,cssName:e.actions.resolveCssName(o.id)}});return t({styles:r(i),signal:o})}).then(t=>{n(n=>({...n,[e.getKey()]:{provider:e,items:t}}))}).execute())(o,...i))}();function r(e){return Object.values(e.reduce((e,t)=>(t.variants.forEach(n=>{const r=n.meta.breakpoint||"desktop";e[t.id]||(e[t.id]={}),e[t.id][r]||(e[t.id][r]={...t,variants:[]}),e[t.id][r].variants.push(n)}),e),{})).flatMap(e=>Object.values(e))}}function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn.apply(null,arguments)}function Sn(){const e=(0,v.__privateUseListenTo)((0,v.commandEndEvent)("editor/documents/attach-preview"),()=>Kt()?.head),t=function(){const e=function(e){const t=(0,nn.useBreakpointsMap)();return(0,c.useMemo)(()=>yn({selectorPrefix:wn,breakpoints:t,resolve:e}),[e,t])}((0,c.useMemo)(()=>un({transformers:fn,schema:(0,rn.getStylesSchema)(),onPropResolve:({key:e,value:t})=>{"font-family"===e&&"string"==typeof t&&pn(t)}}),[])),[t,n]=(0,c.useState)({}),r=(0,c.useMemo)(()=>f.stylesRepository.getProviders().map(t=>({provider:t,subscriber:xn({provider:t,renderStyles:e,setStyleItems:n})})),[e]);(0,c.useEffect)(()=>{const e=r.map(({provider:e,subscriber:t})=>e.subscribe(t));return()=>{e.forEach(e=>e())}},[r]),qt(()=>{(0,v.registerDataHook)("after","editor/documents/attach-preview",async()=>{const e=r.map(async({subscriber:e})=>e());await Promise.all(e)})});const o=(0,nn.getBreakpoints)().map(e=>e.id);return(0,c.useMemo)(()=>Object.values(t).sort(bn).flatMap(({items:e})=>e).sort(En).sort(function(e){return({breakpoint:t},{breakpoint:n})=>e.indexOf(t)-e.indexOf(n)}(o)),[t,o.join("-")])}(),n=(0,v.__privateUseListenTo)((0,v.commandEndEvent)("editor/documents/attach-preview"),()=>{const e=Kt();if(!e)return[];const t=function(e){return[...e.body.querySelectorAll(`[${Qt}]`)??[]].map(e=>e.getAttribute(Qt)||"")}(e).map(e=>`${Zt}${e}${en}`),n=function(e){return[...e.head.querySelectorAll(`link[rel="stylesheet"][id^=${Zt}][id$=${en}]`)??[]]}(e).filter(e=>t.includes(e.getAttribute("id")??""));return n.forEach(e=>{e.hasAttribute(Jt)||e.remove()}),n.map(e=>({...tn(e),id:e.getAttribute("id")??"",[Jt]:!0}))});return e?c.createElement(x.Portal,{container:e},t.map((e,t)=>c.createElement("style",{key:`${e.id}-${t}-${e.breakpoint}`},e.value)),n.map(e=>c.createElement("link",Tn({},e,{key:e.id})))):null}const Rn=dn();function $n(e){return e}const kn=()=>"";const Pn=e=>e.map(e=>{const t=(e.date||"").trim(),n=(e.time||"").trim();return t||n?`${t} ${n}`.trim():""}).join(" "),Cn=({destination:e,isTargetBlank:t})=>({href:"number"==typeof e?"#post-id-"+e:e,target:t?"_blank":"_self"}),An=({id:e})=>e??null,On=e=>({id:e.id??null,url:e.url??null});var _n=window.elementorV2.wpMedia;const In=async e=>{const{src:t,size:n}=e;if(!t?.id)return t?.url?{src:t.url}:null;const r=await(0,_n.getMediaAttachment)({id:t.id}),o=r?.sizes?.[n??""];return o?{src:o.url,height:o.height,width:o.width}:r?{src:r.url,height:r.height,width:r.width}:null},Ln=e=>e,jn=e=>{const{color:t=null}=e;return t?`linear-gradient(${t}, ${t})`:null},Mn=e=>"radial"===e.type?`radial-gradient(circle at ${e.positions}, ${e.stops})`:`linear-gradient(${e.angle}deg, ${e.stops})`,Nn=e=>{const{image:t,size:n=null,position:r=null,repeat:o=null,attachment:i=null}=e;return t?{src:t.src?`url(${t.src})`:null,repeat:o,attachment:i,size:n,position:r}:null},Vn=({width:e,height:t})=>`${e??"auto"} ${t??"auto"}`,Dn=e=>{if(!e||0===e.length)return null;const t=e.map(e=>"string"==typeof e?{src:e,repeat:null,attachment:null,size:null,position:null}:e).filter(e=>e&&!!e.src);return 0===t.length?null:{"background-image":zn(t,"src","none",!0),"background-repeat":zn(t,"repeat","repeat"),"background-attachment":zn(t,"attachment","scroll"),"background-size":zn(t,"size","auto auto"),"background-position":zn(t,"position","0% 0%")}};function zn(e,t,n,r=!1){if(0===e.filter(e=>e?.[t]).length)return n;const o=e.map(e=>e[t]??n);return!r&&o.every(e=>e===o[0])?o[0]:o.join(",")}const Fn=e=>{const{color:t=null,"background-overlay":n=null,clip:r=null}=e;return an({...n,"background-color":t,"background-clip":r})},Wn=e=>`${e?.color} ${e?.offset??0}%`,Un=e=>t=>t?.length?t.filter(Boolean).join(e):null,Bn=(e,t)=>(n,{key:r})=>{const o=e.filter(e=>n[e]).map(e=>[t({propKey:r,key:e}),n[e]]);return an(Object.fromEntries(o))},Yn=e=>e?.length<1?null:e.filter(Boolean).map(qn).join(" "),qn=e=>{if("drop-shadow"===e.func){const{xAxis:t,yAxis:n,blur:r,color:o}=e.args;return`drop-shadow(${t||"0px"} ${n||"0px"} ${r||"10px"} ${o||"transparent"})`}const t=e.args?.size;return e.func&&t?`${e.func}(${t})`:""},Hn=e=>{const t=e.flexGrow,n=e.flexShrink,r=e.flexBasis,o=null!=t,i=null!=n,s=null!=r;return o||i||s?o&&i&&s?`${t} ${n} ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:o&&i&&!s?`${t} ${n}`:o&&!i&&s?`${t} 1 ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:!o&&i&&s?`0 ${n} ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:!o||i||s?o||!i||s?o||i||!s?null:`0 1 ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:`0 ${n}`:`${t}`:null};function Xn(e){return`${e??"0px"}`}const Kn=e=>`${Xn(e?.x)} ${Xn(e?.y)}`,Gn=({x:e,y:t})=>`${e??"0px"} ${t??"0px"}`,Jn=e=>[e.hOffset,e.vOffset,e.blur,e.spread,e.color,e.position].filter(Boolean).join(" "),Qn=e=>"custom"===e.unit?e.size:`${e.size}${e.unit}`,Zn=e=>{const t={"-webkit-text-stroke":`${e.width} ${e.color}`,stroke:`${e.color}`,"stroke-width":`${e.width}`};return an(t)},er=e=>e?.length<1?null:e.join(" "),tr="0px",nr=e=>`translate3d(${e.x??tr}, ${e.y??tr}, ${e.z??tr})`;function rr(e){return`${e??"0px"}`}const or=e=>{const t=rr(e.x),n=rr(e.y),r=rr(e.z);return"50%"===t&&"50%"===n&&"0px"===r?null:`${t} ${n} ${r}`},ir="0deg",sr=e=>[`rotateX(${e?.x??ir})`,`rotateY(${e?.y??ir})`,`rotateZ(${e?.z??ir})`].join(" "),ar=e=>`scale3d(${e.x??1}, ${e.y??1}, ${e.z??1})`,lr="0deg",cr=e=>`skew(${e?.x??lr}, ${e?.y??lr})`,ur=e=>{if(e?.length<1)return null;const t=(()=>{const e=new Set;return b.transitionProperties.forEach(t=>{t.properties.forEach(t=>{e.add(t.value)})}),e})(),n=e.map(e=>dr(e,t)).filter(Boolean);return 0===n.length?null:n.join(", ")},dr=(e,t)=>{if(!e.selection||!e.size)return"";const n=e.selection.value;return t.has(n)?`${n} ${e.size}`:""};var fr=window.elementorV2.twing;function pr(e){return["a","article","aside","button","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"].includes(e)?e:"div"}function mr(e){const t=["http:","https:","mailto:","tel:"];try{const n=new URL(e);return t.includes(n.protocol)?e:""}catch{return""}}function hr(){const e=window;return class extends e.elementor.modules.elements.views.Widget{onRender(...e){super.onRender(...e),this.#e("elementor/preview/atomic-widget/render"),this.#t("elementor/element/render")}onDestroy(...e){super.onDestroy(...e),this.#e("elementor/preview/atomic-widget/destroy"),this.#t("elementor/element/destroy")}attributes(){return{...super.attributes(),"data-atomic":"",style:"display: contents !important;"}}behaviors(){const e=["InlineEditing","Draggable","Resizable"],t=Object.entries(super.behaviors()).filter(([t])=>!e.includes(t));return Object.fromEntries(t)}getDomElement(){return this.$el.find(":first-child")}getHandlesOverlay(){return null}#e(e){window.top?.dispatchEvent(new CustomEvent(e,{detail:{id:this.model.get("id")}}))}#t(t){e.elementor?.$preview?.[0]?.contentWindow.dispatchEvent(new CustomEvent(t,{detail:{id:this.model.get("id"),type:this.model.get("widgetType"),element:this.getDomElement().get(0)}}))}getContextMenuGroups(){return super.getContextMenuGroups().filter(e=>"save"!==e.name)}}}function gr(e){return!!(e.atomic_props_schema&&e.twig_templates&&e.twig_main_template&&e.base_styles_dictionary)}function yr({type:e,renderer:t,element:n}){const r=hr(),o=n.twig_main_template,i=n.base_styles_dictionary;Object.entries(n.twig_templates).forEach(([e,n])=>{t.register(e,n)});const s=un({transformers:Rn,schema:n.atomic_props_schema});return class extends r{#n=null;getTemplateType(){return"twig"}renderOnChange(){this.render()}render(){return this.#n?.abort(),this.#n=new AbortController,on(this.#n.signal).then(()=>this.#r()).then(()=>this._renderTemplate()).then(()=>{this._renderChildren(),this.#o()}).execute()}async _renderTemplate(){this.triggerMethod("before:render:template");const n=on(this.#n?.signal).then((e,t)=>{const n=this.model.get("settings").toJSON();return s({props:n,signal:t})}).then(e=>this.afterSettingsResolve(e)).then(async n=>{const r={id:this.model.get("id"),type:e,settings:n,base_styles:i};return t.render(o,r)}).then(e=>this.$el.html(e));await n.execute(),this.bindUIElements(),this.triggerMethod("render:template")}afterSettingsResolve(e){return e}#r(){this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this)}#o(){this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this)}}}const vr={};function wr(e,t){vr[e]=t}const br="elementor://widgets/schema/{widgetType}",Er="elementor://styles/schema/{category}",xr="elementor://styles/best-practices";function Tr(e){const t={};return Object.keys(e).forEach(n=>{t[n]=Sr(e[n])}),t}function Sr(e){const t={};if(Object.keys(e).forEach(n=>{switch(n){case"key":case"kind":t[n]=e[n];break;case"meta":case"settings":Object.keys(e[n]||{}).length>0&&(t[n]=e[n])}}),"plain"===t.kind)Object.defineProperty(t,"kind",{value:"string"});else if("array"===t.kind)t.item_prop_type=Sr(e.item_prop_type);else if("object"===t.kind){const n=Tr(e.shape);t.shape=n}else if("union"===t.kind){const n=e.prop_types,r={};Object.keys(n).forEach(e=>{r[e]=Sr(n[e])}),t.prop_types=r}return t}function Rr(e,t){return E.Schema.adjustLlmPropValueSchema(e,t)}const $r=e=>{const{elementId:t,propertyName:n,propertyValue:r,elementType:o}=e;if("_styles"===n){const e=(0,y.getElementStyles)(t)||{},n=r,o=(0,rn.getStylesSchema)(),i=Object.fromEntries(Object.entries(n).map(([e,t])=>{if("custom_css"===e)return[e,t];const{key:n,kind:r}=o?.[e]||{};if(!n&&"union"!==r)throw new Error(`_styles property ${e} is not supported.`);return[e,Rr(t,n)]}));let s;Object.keys(n).forEach(e=>{const t=o[e];if("custom_css"===e){let t=n[e];return"object"==typeof t&&(t=E.stringPropTypeUtil.extract(t)||t?.value||""),void(s={raw:btoa(t)})}if(!t)throw new Error(`_styles property ${e} is not supported.`);if("plain"===t.kind&&"object"!=typeof n[e]){const r=(0,E.getPropSchemaFromCache)(t.key);if(r){const t=r.create(n[e]);n[e]=t}}});const a=Object.values(e).find(e=>"local"===e.label);return void(a?(0,y.updateElementStyle)({elementId:t,styleId:a.id,meta:{breakpoint:"desktop",state:null},...void 0!==s?{custom_css:s}:{},props:{...i}}):(0,y.createElementStyle)({elementId:t,...void 0!==s?{custom_css:s}:{},classesProp:"classes",label:"local",meta:{breakpoint:"desktop",state:null},props:{...i}}))}const i=(0,y.getWidgetsCache)()?.[o]?.atomic_props_schema;if(!i)throw new Error(`No prop schema found for element type: ${o}`);if(!i[n]){const e=Object.keys(i);throw new Error(`Property "${n}" does not exist on element type "${o}". Available properties are: ${e.join(", ")}`)}const s=Rr(r);(0,y.updateElementSettings)({id:t,props:{[n]:s},withHistory:!1})},kr=()=>{const e=(0,l.toolPrompts)("build-compositions");return e.description(`\nBuild entire elementor widget comositions representing complex structures of nested elements.\n\n# When to use this tool\nAlways prefer this tool when the user requires to build a composition of elements, such as cards, heros, or inspired from other pages or HTML compositions.\nPrefer this tool over any other tool for building HTML structure, unless you are specified to use a different tool.\n\n# **CRITICAL - REQUIRED RESOURCES (Must read before using this tool)**\n1. [${br}]\n   Required to understand which widgets are available, and what are their configuration schemas.\n   Every widgetType (i.e. e-heading, e-button) that is supported has it's own property schema, that you must follow in order to apply property values correctly.\n2. [${Er}]\n   Required to understand the styles schema for the widgets. All widgets share the same styles schema.\n3. List of allowed custom tags for building the structure is derived from the list of widgets schema resources.\n\n# Instructions\n1. Understand the user requirements carefully.\n2. Build a valid XML structure using only the allowed custom tags provided. For example, if you\n   use the "e-button" element, it would be represented as <e-button></e-button> in the XML structure.\n3. Plan the configuration for each element according to the user requirements, using the configuration schema provided for each custom tag.\n   Every widget type has it's own configuration schema, retreivable from the resource [${br}].\n   PropValues must follow the exact PropType schema provided in the resource.\n4. For every element, provide a "configuration-id" attribute. For example:\n   \`<e-flexbox configuration-id="flex1"><e-heading configuration-id="heading2"></e-heading></e-flexbox>\`\n   In the elementConfig property, provide the actual configuration object for each configuration-id used in the XML structure.\n   In the stylesConfig property, provide the actual styles configuration object for each configuration-id used in the XML structure.\n5. Ensure the XML structure is valid and parsable.\n6. Do not add any attribute nodes, classes, id's, and no text nodes allowed.\n   Layout properties, such as margin, padding, align, etc. must be applied using the [${Er}] PropValues.\n7. Some elements allow nesting of other elements, and most of the DO NOT. The allowed elements that can have nested children are "e-div-block" and "e-flexbox".\n8. Make sure that non-container elements do NOT have any nested elements.\n9. Unsless the user specifically requires structure only, BE EXPRESSIVE AND VISUALLY CREATIVE AS POSSIBLE IN APPLYING STYLE CONFIGURATION.\n   In the case of doubt, prefer adding more styles to make the composition visually appealing.\n\n# Additional Guidelines\n- Most users expect the structure to be well designed and visually appealing.\n- Use layout properties, ensure "white space" design approach is followed, and make sure the composition is visually balanced.\n- Use appropriate spacing, alignment, and sizing to create a harmonious layout.\n- Consider the visual hierarchy of elements to guide the user's attention effectively.\n- You are encouraged to use colors, typography, and other style properties to enhance the visual appeal, as long as they are part of the configuration schema for the elements used.\n- Always aim for a clean and professional look that aligns with modern design principles.\n- When you are required to create placeholder texts, use texts that have a length that fits the goal. When long texts are required, use longer placeholder texts. When the user specifies exact texts, use the exact texts.\n- Image size does not affect the actual size on the screen, only which quality to use. If you use images, specifically add _styles PropValues to define the image sizes.\n- Attempt to use layout, margin, padding, size properties from the styles schema.\n- If your elements library is limited, encourage use of nesting containers to achieve complex layouts.\n\n# CONSTRAINTS\nWhen a tool execution fails, retry up to 10 more times, read the error message carefully, and adjust the XML structure or the configurations accordingly.\nIf a "$$type" is missing, update the invalid object, if the XML has parsing errors, fix it, etc. and RETRY.\nVALIDATE the XML structure before delivering it as the final result.\nVALIDATE the JSON structure used in the "configuration" attributes for each element before delivering the final result. The configuration must MATCH the PropValue schemas.\nNO LINKS ALLOWED. Never apply links to elements, even if they appear in the PropType schema.\nelementConfig values must align with the widget's PropType schema, available at the resource [${br}].\nstylesConfig values must align with the common styles PropType schema, available at the resource [${Er}].\n\n# Parameters\nAll parameters are MANDATORY.\n- xmlStructure\n- elementConfig\n- stylesConfig\n\nIf unsure about the configuration of a specific property, read the schema resources carefully.\n\n\n  `),e.example('\nA Heading and a button inside a flexbox\n{\n  xmlStructure: "<e-flexbox configuration-id="flex1"><e-heading configuration-id="heading1"></e-heading><e-button configuration-id="button1"></e-button></e-flexbox>"\n  elementConfig: {\n    "flex1": {\n      "tag": {\n        "$$type": "string",\n        "value": "section"\n      },\n  },\n  stylesConfig: {\n    "heading1": {\n      "font-size": {\n        "$$type": "size",\n        "value": {\n          "size": { "$$type": "number", "value": 24 },\n          "unit": { "$$type": "string", "value": "px" }\n        }\n      },\n      "color": {\n        "$$type": "color",\n        "value": { "$$type": "string", "value": "#333" }\n      }\n    }\n  },\n}\n'),e.parameter("xmlStructure","**MANDATORY** A valid XML structure representing the composition to be built, using custom elementor tags, styling and configuration PropValues."),e.parameter("elementConfig","**MANDATORY** A record mapping configuration IDs to their corresponding configuration objects, defining the PropValues for each element created."),e.parameter("stylesConfig","**MANDATORY** A record mapping style PropTypes to their corresponding style configuration objects, defining the PropValues for styles to be applied to elements."),e.instruction("You will be provided the XML structure with element IDs. These IDs represent the actual elementor widgets created on the page/post.\nYou should use these IDs as reference for further configuration, styling or changing elements later on."),e.instruction("You must use styles/variables/classes that are available in the project resources, you should prefer using them over inline styles, and you are welcome to execute relevant tools AFTER this tool execution, to apply global classes to the created elements."),e.prompt()};var Pr=window.elementorV2.schema;const Cr={xmlStructure:Pr.z.string().describe("The XML structure representing the composition to be built"),elementConfig:Pr.z.record(Pr.z.string().describe("The configuration id"),Pr.z.record(Pr.z.string().describe("property name"),Pr.z.any().describe("The PropValue for the property"))).describe("A record mapping element IDs to their configuration objects. REQUIRED"),stylesConfig:Pr.z.record(Pr.z.string().describe("The configuration id"),Pr.z.record(Pr.z.string().describe("_styles property name"),Pr.z.any().describe("The PropValue for the style property. MANDATORY"))).describe(`A record mapping element IDs to their styles configuration objects. Use the actual styles schema from [${Er}].`).default({})},Ar={errors:Pr.z.string().describe("Error message if the composition building failed").optional(),xmlStructure:Pr.z.string().describe("The built XML structure as a string").optional(),llmInstructions:Pr.z.string().describe("Instructions used to further actions for you").optional()},Or=`Configure an existing element on the page.\n\n# **CRITICAL - REQUIRED INFORMATION (Must read before using this tool)**\n1. [${br}]\n   Required to understand which widgets are available, and what are their configuration schemas.\n   Every widgetType (i.e. e-heading, e-button) that is supported has it's own property schema, that you must follow in order to apply property values correctly.\n2. [${Er}]\n   Required to understand the styles schema for the widgets. All widgets share the same styles schema, grouped by categories.\n   Use this resource to understand which style properties are available for each element, and how to structure the "_styles" configuration property.\n3. If not sure about the PropValues schema, you can use the "get-element-configuration-values" tool to retreive the current PropValues configuration of the element.\n\nBefore using this tool, check the definitions of the elements PropTypes at the resource "widget-schema-by-type" at editor-canvas__elementor://widgets/schema/{widgetType}\nAll widgets share a common _style property for styling, which uses the common styles schema.\nRetreive and check the common styles schema at the resource list "styles-schema" at editor-canvas__elementor://styles/schema/{category}\n\n# Parameters\n- propertiesToChange: An object containing the properties to change, with their new values. MANDATORY\n- elementId: The ID of the element to configure. MANDATORY\n- elementType: The type of the element to configure (i.e. e-heading, e-button). MANDATORY\n\n# When to use this tool\nWhen a user requires to change anything in an element, such as updating text, colors, sizes, or other configurable properties.\nThis tool handles elements of type "widget".\nThis tool handles styling elements, using the _styles property in the configuration.\n\nThe element's schema must be known before using this tool.\n\nAttached resource link describing how PropType schema should be parsed as PropValue for this tool.\n\nRead carefully the PropType Schema of the element and it's styles, then apply correct PropValue according to the schema.\n\nPropValue structure:\n{\n    "$$type": string, // MANDATORY as defined in the PropType schema under the "key" property\n    value: unknown // The value according to the PropType schema for kinds of "array", use array with PropValues items inside. For "object", read the shape property of the PropType schema. For "plain", use strings.\n}\n\n<IMPORTANT>\nALWAYS MAKE SURE you have the PropType schemas for the element you are configuring, and the common-styles schema for styling. If you are not sure, retreive the schema from the resources mentioned above.\n</IMPORTANT>\n\nYou can use multiple property changes at once by providing multiple entries in the propertiesToChange object, including _style alongside non-style props.\nSome properties are nested, use the root property name, then objects with nested values inside, as the complete schema suggests.\nNested properties, such as for the _styles, should include a "_styles" property with object containing the definitions to change.\n\nMake sure you have the "widget-schema-by-type" resource available to retreive the PropType schema for the element type you are configuring.\n\n# How to configure elements\nWe use a dedicated PropType Schema for configuring elements, including styles. When you configure an element, you must use the EXACT PropType Value as defined in the schema.\nFor _styles, use the style schema provided, as it also uses the PropType format.\nFor all non-primitive types, provide the key property as defined in the schema as $$type in the generated objecct, as it is MANDATORY for parsing.\n\nUse the EXACT "PROP-TYPE" Schema given, and ALWAYS include the "key" property from the original configuration for every property you are changing.\n\n# Example\n\`\`\`json\n{\n  propertiesToChange: {\n    // List of properties TO CHANGE, following the PropType schema for the element as defined in the resource [${br}]\n    title: {\n      $$type: 'string',\n      value: 'New Title Text'\n    },\n    border: {\n      $$type: 'boolean',\n      value: false\n    },\n    _styles: {\n      // List of available keys available at the [${Er}] dynamic resource\n      'line-height': {\n        $$type: 'size', // MANDATORY do not forget to include the correct $$type for every property\n        value: {\n          size: {\n            $$type: 'number',\n            value: 20\n          },\n          unit: {\n            $$type: 'string',\n            value: 'px'\n          }\n        }\n      }\n    }\n  }\n};\n\`\`\`\n\n<IMPORTANT>\nThe $$type property is MANDATORY for every value, it is required to parse the value and apply application-level effects.\n</IMPORTANT>\n`,_r={propertiesToChange:Pr.z.record(Pr.z.string().describe("The property name. If nested property, provide the root property name, and the object delta only."),Pr.z.any().describe("The property's value")).describe("An object record containing property names and their new values to be set on the element").optional(),elementType:Pr.z.string().describe("The type of the element to retreive the schema"),elementId:Pr.z.string().describe("The unique id of the element to configure")},Ir={success:Pr.z.boolean().describe("Whether the configuration change was successful, only if propertyName and propertyValue are provided")};function Lr(e){const{propertyName:t,elementId:n,elementType:r,error:o}=e;return`Failed to update property "${t}" on element "${n}": ${o.message}.\nCheck the element's PropType schema at the resource [${br.replace("{widgetType}",r)}] for type "${r}" to ensure the property exists and the value matches the expected PropType.\nNow that you have this information, ensure you have the schema and try again.`}const jr={elementId:Pr.z.string()},Mr={propValues:Pr.z.record(Pr.z.string(),Pr.z.any()).describe("A record mapping PropTypes to their corresponding PropValues, with _styles record for style-related PropValues")},Nr=e=>{const{setMCPDescription:t}=e;t('Everything related to creative design, layout, styling and building the pages, specifically element of type "widget"'),(e=>{const{mcpServer:t}=e;t.resource("styles-best-practices",xr,async()=>({contents:[{uri:xr,text:'# Styling best practices\nPrefer using "em" and "rem" values for text-related sizes, padding and spacing. Use percentages for dynamic sizing relative to parent containers.\nThis flexboxes are by default "flex" with "stretch" alignment. To ensure proper layout, define the "justify-content" and "align-items" as in the schema, or in custom_css, depends on your needs.\n\nWhen applicable for styles, use the "custom_css" property for free-form CSS styling. This property accepts a string of CSS rules that will be applied directly to the element.\nThe css string must follow standard CSS syntax, with properties and values separated by semicolons, no selectors, or nesting rules allowed.'}]})),t.resource("styles-schema",new l.ResourceTemplate(Er,{list:()=>({resources:[...Object.keys((0,rn.getStylesSchema)()),"custom_css"].map(e=>({uri:`elementor://styles/schema/${e}`,name:"Style schema for "+e}))})}),{description:"Common styles schema for the specified category"},async(e,t)=>{const n="string"==typeof t.category?t.category:t.category?.[0];if("custom_css"===n)return{contents:[{uri:e.toString(),text:"Free style inline CSS string of properties and their values. Applicable for a single element, only the properties and values are accepted. Use this as a last resort for properties that are not covered with the schema."}]};const r=(0,rn.getStylesSchema)()[n];if(!r)throw new Error(`No styles schema found for category: ${n}`);const o=Sr(r),i=E.Schema.propTypeToJsonSchema(o);return{contents:[{uri:e.toString(),text:JSON.stringify(i)}]}}),t.resource("widget-schema-by-type",new l.ResourceTemplate(br,{list:()=>{const e=(0,y.getWidgetsCache)()||{};return{resources:Object.keys(e||{}).filter(t=>e[t]?.atomic_props_schema).map(e=>({uri:`elementor://widgets/schema/${e}`,name:"Widget schema for "+e}))}}}),{description:"PropType schema for the specified widget type"},async(e,t)=>{const n="string"==typeof t.widgetType?t.widgetType:t.widgetType?.[0],r=(0,y.getWidgetsCache)()?.[n]?.atomic_props_schema;if(!r)throw new Error(`No prop schema found for element type: ${n}`);const o=Tr(r),i=Object.fromEntries(Object.entries(o).map(([e,t])=>[e,E.Schema.propTypeToJsonSchema(t)]));return E.Schema.nonConfigurablePropKeys.forEach(e=>{delete i[e]}),{contents:[{uri:e.toString(),text:JSON.stringify(i)}]}})})(e),(e=>{const{addTool:t}=e;t({name:"build-compositions",description:kr(),schema:Cr,outputSchema:Ar,handler:async e=>{let t=null;const{xmlStructure:n,elementConfig:r,stylesConfig:o}=e,i=[],s=[],a=[],l=(0,y.getWidgetsCache)()||{},c=(0,y.getContainer)("document");try{t=(new DOMParser).parseFromString(n,"application/xml");const e=t.querySelector("parsererror");if(e)throw new Error("Failed to parse XML structure: "+e.textContent);const u=Array.from(t.children),d=(e,t=c)=>{const n=e.tagName;l[n]||i.push(new Error(`Unknown widget type: ${n}`));const u="e-flexbox"===n||"e-div-block"===n,f=u?(0,y.createElement)({containerId:t.id,model:{elType:n,id:(0,y.generateElementId)()},options:{useHistory:!1}}):(0,y.createElement)({containerId:t.id,model:{elType:"widget",widgetType:n,id:(0,y.generateElementId)()},options:{useHistory:!1}});t===c&&a.push(f),e.setAttribute("id",f.id);const p=e.getAttribute("configuration-id")||"";try{const t=r[p]||{},i=o[p]||{};t._styles=i;for(const[e,r]of Object.entries(t)){const t=l[n];if(t?.atomic_props_schema?.[e]||"_styles"===e||"custom_css"===e)try{$r({elementId:f.id,propertyName:e,propertyValue:"custom_css"===e?{_styles:r}:r,elementType:n})}catch(e){s.push(e)}else s.push(new Error(`Property "${e}" does not exist on element type "${n}".`))}if(u)for(const t of e.children)d(t,f);else e.innerHTML="",e.removeAttribute("configuration")}finally{}};for(const e of u)d(e,c)}catch(e){i.push(e)}if(i.length&&a.forEach(e=>{(0,y.deleteElement)({elementId:e.id,options:{useHistory:!1}})}),i.length>0){const e=`Failed to build composition with the following errors:\n\n\n${i.map(e=>"string"==typeof e?e:e.message).join("\n\n")}\n"Missing $$type" errors indicate that the configuration objects are invalid. Try again and apply **ALL** object entries with correct $$type.\nNow that you have these errors, fix them and try again. Errors regarding configuration objects, please check again the PropType schemas`;throw new Error(e)}if(!t)throw new Error("XML structure is null after parsing.");return{xmlStructure:(new XMLSerializer).serializeToString(t),llmInstructions:(s.length?`The composition was built successfully, but there were some issues with the provided configurations:\n\n${s.map(e=>`- ${e.message}`).join("\n")}\n\nPlease use confiugure-element tool to fix these issues. Now that you have information about these issues, use the configure-element tool to fix them!`:"")+'\nNext Steps:\n- Use "apply-global-class" tool as there may be global styles ready to be applied to elements.\n- Use "configure-element" tool to further configure elements as needed, including styles.\n'}}})})(e),(e=>{const{addTool:t}=e;t({name:"get-element-configuration-values",description:"Retrieve the element's configuration PropValues for a specific element by unique ID.",schema:jr,outputSchema:Mr,handler:async({elementId:e})=>{const t=(0,y.getContainer)(e);if(!t)throw new Error(`Element with ID ${e} not found.`);const n=t.settings,r=(0,y.getWidgetsCache)()?.[t.model.get("widgetType")||""]?.atomic_props_schema;if(!n||!r)throw new Error(`No settings or prop schema found for element ID: ${e}`);const o={},i={};E.Schema.configurableKeys(r).forEach(e=>{o[e]=structuredClone(n.get(e))});const s=(0,y.getElementStyles)(e)||{},a=Object.values(s).find(e=>"local"===e.label);if(a){const e=a.variants.find(e=>"desktop"===e.meta.breakpoint&&!e.meta.state);if(e){const t=e.props||{};Object.keys(t).forEach(e=>{void 0!==t[e]&&(i[e]=structuredClone(t[e]))})}}return{propValues:{...o,_styles:i}}}})})(e),(e=>{const{addTool:t}=e;t({name:"configure-element",description:Or,schema:_r,outputSchema:Ir,handler:({elementId:e,propertiesToChange:t,elementType:n})=>{if(!t)throw new Error("propertiesToChange is required to configure an element. Now that you have this information, ensure you have the schema and try again.");const r=Object.entries(t);for(const[t,o]of r){if(!t&&!e&&!n)throw new Error("propertyName, elementId, elementType are required to configure an element. If you want to retreive the schema, use the get-element-configuration-schema tool.");try{$r({elementId:e,elementType:n,propertyName:t,propertyValue:o})}catch(r){const o=Lr({propertyName:t,elementId:e,elementType:n,error:r});throw new Error(o)}}return{success:!0}}})})(e)},Vr=`Canvas MCP - Working with widgets and styles: how to use the PropType schemas and generate PropValue structures\n\n# Elementor's PropValue configuration system\n\nEvery widget in Elementor has a set of properties that can be configured, defined in a STRICT SCHEMA we call "PropType".\nAll widget configuration values are represented using a structure we call "PropValue".\n\nTo correctly configure a widget's properties, FOLLOW THE PropType schema defined for that widget. This schema outlines the expected structure and types for each property, ensuring that the values you provide are valid and can be properly interpreted by Elementor.\nEvery widget has it's own PropType schema, retreivable from the resource [${br}].\nALL WIDGETS share a common _styles property with a uniform styles schema, retreivable from the resource [${Er}].\nThe style schema is grouped by categories, such as "typography", "background", "border", etc.\n\n# Tools and usage\n- Use the "get-element-configuration-values" tool to retrieve the current configuration of a specific element, including its PropValues and styles. It is recommended to use this tool when you are required to make changes to an existing element, to ensure you have the correct current configuration schema.\n  If a PropValue changes it's type (only on union PropTypes), read the new schema from the resources mentioned above, and adjust the PropValue structure accordingly.\n- Use the "build-composition" tool to create a NEW ELEMENTS in a composition on the page. You can use this tool to also create a new single element.\n- Use the "configure-element" tool to update the configuration of an EXISTING element on the page.\n\nAll array types that can receive union types, are typed as mixed array, which means that each item in the array can be of any of the allowed types defined in the PropType schema.\nExample: the "background" can have a background-overlay property, which can contain multiple overlays, such as color, gradient, image, etc. Each item in the array must follow the PropType schema for each overlay type.\nAll _style properties are OPTIONAL. When a _style is defined, we MERGE the values with existing styles, so only the properties you define will be changed, and the rest will remain as is.\n\n# Styling best practices\nPrefer using "em" and "rem" values for text-related sizes, padding and spacing. Use percentages for dynamic sizing relative to parent containers.\nThis flexboxes are by default "flex" with "stretch" alignment. To ensure proper layout, define the "justify-content" and "align-items" as in the schema.\n\nAdditionaly, some PropTypes have metadata information (meta property) that can help in understaind the PropType usage, such as description or other useful information.\n\nExample of null values:\n{\n  $$type: 'as-defined-for-propValue',\n  value: null\n}\n\nExample of "image" PropValue structure:\n{$$type:'image',value:{src:{$$type:'image-src',value:{url:{$$type:'url',value:'https://example.com/image.jpg'}}},size:{$$type:'string',value:'full'}}}\n\n`;var Dr=window.elementorV2.editorNotifications,zr=window.wp.i18n;const Fr={href:"https://go.elementor.com/element-link-inside-link-infotip",target:"_blank",color:"inherit",variant:"text",sx:{marginInlineStart:"20px"},children:"Learn more"};function Wr(e){const{containers:t=[e.container],storageType:n}=e,r=t;if("localstorage"!==n)return!1;const o=window?.elementorCommon?.storage?.get();if(!o?.clipboard?.elements)return!1;const i=o.clipboard.elements,s={type:"default",message:(0,zr.__)("To paste a link to this element, first remove the link from it's parent container.","elementor"),id:"paste-in-link-blocked",additionalActionProps:[Fr]},a=Br(i,r);return a&&(0,Dr.notify)(s),a}function Ur(e){const{containers:t=[e.container],target:n}=e,r=t,o=n,i={type:"default",message:(0,zr.__)("To drag a link to this element, first remove the link from it's parent container.","elementor"),id:"move-in-link-blocked",additionalActionProps:[Fr]},s=Br(r,[o]);return s&&(0,Dr.notify)(i),s}function Br(e,t){return!(!e?.length||!t?.length)&&(!!e.some(e=>!!e?.id&&((0,y.isElementAnchored)(e.id)||!!(0,y.getAnchoredDescendantId)(e.id)))&&t.some(e=>!!e?.id&&((0,y.isElementAnchored)(e.id)||!!(0,y.getAnchoredAncestorId)(e.id))))}function Yr(e){const{containers:t=[e.container]}=e;return t.some(qr)}function qr(e){return!!e&&Boolean(Xr(e))}function Hr(e){const t=Xr(e);if(!t)return null;const[n]=Object.entries(t).find(([,e])=>"plain"===e.kind&&e.key===E.CLASSES_PROP_KEY)??[];return n??null}function Xr(e){const t=e?.model.get("widgetType")||e?.model.get("elType"),n=(0,y.getWidgetsCache)(),r=n?.[t];return r?.atomic_props_schema??null}function Kr(e){return e.length>1?(0,zr.__)("Elements","elementor"):(0,y.getElementLabel)(e[0].id)}const Gr=()=>(0,v.undoable)({do:({containers:e,newStyle:t})=>e.map(e=>{const n=e.id,r=Hr(e);if(!r)return null;const o=(0,y.getElementStyles)(e.id),[i,s]=Object.entries(o??{})[0]??[],a=Object.keys(s??{}).length?s:null,l={styleId:i,originalStyle:a};if(i)t.variants.forEach(({meta:e,props:t,custom_css:r})=>{(0,y.updateElementStyle)({elementId:n,styleId:i,meta:e,props:t,custom_css:r})});else{const[e]=t.variants,o=t.variants.slice(1);l.styleId=(0,y.createElementStyle)({elementId:n,classesProp:r,label:f.ELEMENTS_STYLES_RESERVED_LABEL,...e,additionalVariants:o})}return l}),undo:({containers:e},t)=>{e.forEach((e,n)=>{const r=t[n];if(!r)return;if(!r.originalStyle)return void(0,y.deleteElementStyle)(e.id,r.styleId);const o=Hr(e);if(!o)return;const[i]=r.originalStyle.variants,s=r.originalStyle.variants.slice(1);(0,y.createElementStyle)({elementId:e.id,classesProp:o,label:f.ELEMENTS_STYLES_RESERVED_LABEL,styleId:r.styleId,...i,additionalVariants:s})})}},{title:({containers:e})=>Kr(e),subtitle:(0,zr.__)("Style Pasted","elementor")});const Jr=()=>(0,v.undoable)({do:({containers:e})=>e.map(e=>{const t=e.model.get("id"),n=(0,y.getElementStyles)(t);return Object.keys(n??{}).forEach(e=>(0,y.deleteElementStyle)(t,e)),n}),undo:({containers:e},t)=>{e.forEach((e,n)=>{const r=Hr(e);if(!r)return;const o=e.model.get("id"),i=t[n];Object.entries(i??{}).forEach(([e,t])=>{const[n]=t.variants,i=t.variants.slice(1);(0,y.createElementStyle)({elementId:o,classesProp:r,styleId:e,label:f.ELEMENTS_STYLES_RESERVED_LABEL,...n,additionalVariants:i})})})}},{title:({containers:e})=>Kr(e),subtitle:(0,zr.__)("Style Reset","elementor")});function Qr(){fn.register("size",Qn).register("shadow",Jn).register("stroke",Zn).register("dimensions",Bn(["block-start","block-end","inline-start","inline-end"],({propKey:e,key:t})=>`${e}-${t}`)).register("filter",Yn).register("backdrop-filter",Yn).register("box-shadow",Un(",")).register("background",Fn).register("background-overlay",Dn).register("background-color-overlay",jn).register("background-image-overlay",Nn).register("background-gradient-overlay",Mn).register("gradient-color-stop",Un(",")).register("color-stop",Wn).register("background-image-position-offset",Gn).register("background-image-size-scale",Vn).register("image-src",On).register("image",In).register("object-position",Gn).register("transform-origin",or).register("perspective-origin",Kn).register("transform-move",nr).register("transform-scale",ar).register("transform-rotate",sr).register("transform-skew",cr).register("transform-functions",er).register("transform",Bn(["transform-functions","transform-origin","perspective","perspective-origin"],({key:e})=>"transform-functions"===e?"transform":e)).register("transition",ur).register("layout-direction",Bn(["row","column"],({propKey:e,key:t})=>`${t}-${e}`)).register("flex",Hn).register("border-width",Bn(["block-start","block-end","inline-start","inline-end"],({key:e})=>`border-${e}-width`)).register("border-radius",Bn(["start-start","start-end","end-start","end-end"],({key:e})=>`border-${e}-radius`)).registerFallback(Ln),function(){const e=Gr();(0,v.blockCommand)({command:"document/elements/paste-style",condition:Yr}),(0,v.__privateListenTo)((0,v.commandStartEvent)("document/elements/paste-style"),t=>function(e,t){const{containers:n=[e.container],storageKey:r}=e,o=function(e="clipboard"){try{const t=JSON.parse(localStorage.getItem("elementor")??"{}");return t[e]?.elements}catch{return}}(r),[i]=o??[];if(!i)return;const s=i.styles,a=Object.values(s??{})[0];if(!a)return;const l=n.filter(qr);l.length&&t({containers:l,newStyle:a})}(t.args,e))}(),function(){const e=Jr();(0,v.blockCommand)({command:"document/elements/reset-style",condition:Yr}),(0,v.__privateListenTo)((0,v.commandStartEvent)("document/elements/reset-style"),t=>function(e,t){const{containers:n=[e.container]}=e,r=n.filter(qr);r.length&&t({containers:r})}(t.args,e))}(),(0,v.blockCommand)({command:"document/elements/paste",condition:Wr}),(0,v.blockCommand)({command:"document/elements/move",condition:Ur}),(0,v.__privateListenTo)((0,v.v1ReadyEvent)(),()=>{const e=(0,y.getWidgetsCache)()??{},t=window,n=function(){const e=(0,fr.createArrayLoader)({}),t=(0,fr.createEnvironment)(e);return t.registerEscapingStrategy(pr,"html_tag"),t.registerEscapingStrategy(mr,"full_url"),{register:e.setTemplate,render:t.render}}();Object.entries(e).forEach(([e,r])=>{if(!r.atomic)return;let o;o=vr[e]&&gr(r)?vr[e]({type:e,renderer:n,element:r}):gr(r)?function({type:e,renderer:t,element:n}){const r=window;return class extends r.elementor.modules.elements.types.Widget{getType(){return e}getView(){return yr({type:e,renderer:t,element:n})}}}({type:e,renderer:n,element:r}):function(e){const t=window;return class extends t.elementor.modules.elements.types.Widget{getType(){return e}getView(){return hr()}}}(e),t.elementor.elementsManager.registerElementType(new o)})}),Rn.register("classes",function(){const e=new Map;return t=>t.map(t=>function(e,t){if(!t.has(e)){const n=f.stylesRepository.getProviders().find(t=>t.actions.all().find(t=>t.id===e));if(!n)return e;t.set(e,n.getKey())}const n=t.get(e),r=f.stylesRepository.getProviderByKey(n);return r?.actions.resolveCssName(e)??e}(t,e)).filter(Boolean)}()).register("link",Cn).register("query",An).register("image",In).register("image-src",On).register("attributes",kn).register("date-time",Pn).registerFallback(Ln),(0,a.init)(),(0,s.injectIntoTop)({id:"elements-overlays",component:Yt}),(0,s.injectIntoTop)({id:"canvas-style-render",component:Sn}),(0,s.injectIntoTop)({id:"canvas-interactions-render",component:Gt}),(0,s.injectIntoLogic)({id:"classes-rename",component:m}),Nr((0,l.getMCPByDomain)("canvas",{instructions:Vr}))}const Zr=e=>{const t=to();t?.editor.reply("element:dragged",null),t?.panelElements.reply("element:selected",no(e)).trigger("element:drag:start")},eo=()=>{to()?.panelElements?.trigger("element:drag:end")},to=()=>{const e=window,t=e.elementor?.channels;if(!t)throw new Error("Elementor channels not found: Elementor editor is not initialized or channels are unavailable.");return t},no=({settings:e,...t})=>{const n=window,r=n.elementor?.modules?.elements?.models?.Element;if(!r)throw new Error("Elementor legacy Element model not found in editor modules");return{model:new r({...t,custom:{isPreset:!!e,preset_settings:e}})}};(window.elementorV2=window.elementorV2||{}).editorCanvas=i}(),window.elementorV2.editorCanvas?.init?.();