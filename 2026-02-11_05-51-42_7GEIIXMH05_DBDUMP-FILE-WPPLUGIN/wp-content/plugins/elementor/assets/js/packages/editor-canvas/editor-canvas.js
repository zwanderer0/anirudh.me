/*! For license information please see editor-canvas.js.LICENSE.txt */
!function(){"use strict";var e,t,n={"./packages/node_modules/@floating-ui/core/dist/floating-ui.core.mjs":function(e,t,n){n.r(t),n.d(t,{arrow:function(){return arrow},autoPlacement:function(){return autoPlacement},computePosition:function(){return computePosition},detectOverflow:function(){return detectOverflow},flip:function(){return flip},hide:function(){return hide},inline:function(){return inline},limitShift:function(){return limitShift},offset:function(){return offset},rectToClientRect:function(){return r.rectToClientRect},shift:function(){return shift},size:function(){return size}});var r=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs");function computeCoordsFromPlacement(e,t,n){let{reference:o,floating:s}=e;const i=(0,r.getSideAxis)(t),a=(0,r.getAlignmentAxis)(t),c=(0,r.getAxisLength)(a),l=(0,r.getSide)(t),u="y"===i,d=o.x+o.width/2-s.width/2,f=o.y+o.height/2-s.height/2,p=o[c]/2-s[c]/2;let m;switch(l){case"top":m={x:d,y:o.y-s.height};break;case"bottom":m={x:d,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:f};break;case"left":m={x:o.x-s.width,y:f};break;default:m={x:o.x,y:o.y}}switch((0,r.getAlignment)(t)){case"start":m[a]-=p*(n&&u?-1:1);break;case"end":m[a]+=p*(n&&u?-1:1)}return m}const computePosition=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),c=await(null==i.isRTL?void 0:i.isRTL(t));let l=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=computeCoordsFromPlacement(l,r,c),f=r,p={},m=0;for(let n=0;n<a.length;n++){const{name:s,fn:g}=a[n],{x:y,y:h,data:v,reset:b}=await g({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:l,platform:i,elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=h?h:d,p={...p,[s]:{...p[s],...v}},b&&m<=50&&(m++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(l=!0===b.rects?await i.getElementRects({reference:e,floating:t,strategy:o}):b.rects),({x:u,y:d}=computeCoordsFromPlacement(l,f,c))),n=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:p}};async function detectOverflow(e,t){var n;void 0===t&&(t={});const{x:o,y:s,platform:i,rects:a,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=(0,r.evaluate)(t,e),g=(0,r.getPaddingObject)(m),y=c[p?"floating"===f?"reference":"floating":f],h=(0,r.rectToClientRect)(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(y)))||n?y:y.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),v="floating"===f?{x:o,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),k=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},w=(0,r.rectToClientRect)(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:v,offsetParent:b,strategy:l}):v);return{top:(h.top-w.top+g.top)/k.y,bottom:(w.bottom-h.bottom+g.bottom)/k.y,left:(h.left-w.left+g.left)/k.x,right:(w.right-h.right+g.right)/k.x}}const arrow=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:s,rects:i,platform:a,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=(0,r.evaluate)(e,t)||{};if(null==u)return{};const f=(0,r.getPaddingObject)(d),p={x:n,y:o},m=(0,r.getAlignmentAxis)(s),g=(0,r.getAxisLength)(m),y=await a.getDimensions(u),h="y"===m,v=h?"top":"left",b=h?"bottom":"right",k=h?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[m]-p[m]-i.floating[g],E=p[m]-i.reference[m],T=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let x=T?T[k]:0;x&&await(null==a.isElement?void 0:a.isElement(T))||(x=c.floating[k]||i.floating[g]);const R=w/2-E/2,S=x/2-y[g]/2-1,C=(0,r.min)(f[v],S),P=(0,r.min)(f[b],S),I=C,O=x-y[g]-P,L=x/2-y[g]/2+R,M=(0,r.clamp)(I,L,O),A=!l.arrow&&null!=(0,r.getAlignment)(s)&&L!==M&&i.reference[g]/2-(L<I?C:P)-y[g]/2<0,_=A?L<I?L-I:L-O:0;return{[m]:p[m]+_,data:{[m]:M,centerOffset:L-M-_,...A&&{alignmentOffset:_}},reset:A}}});const autoPlacement=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,s;const{rects:i,middlewareData:a,placement:c,platform:l,elements:u}=t,{crossAxis:d=!1,alignment:f,allowedPlacements:p=r.placements,autoAlignment:m=!0,...g}=(0,r.evaluate)(e,t),y=void 0!==f||p===r.placements?function getPlacementList(e,t,n){return(e?[...n.filter(t=>(0,r.getAlignment)(t)===e),...n.filter(t=>(0,r.getAlignment)(t)!==e)]:n.filter(e=>(0,r.getSide)(e)===e)).filter(n=>!e||(0,r.getAlignment)(n)===e||!!t&&(0,r.getOppositeAlignmentPlacement)(n)!==n)}(f||null,m,p):p,h=await detectOverflow(t,g),v=(null==(n=a.autoPlacement)?void 0:n.index)||0,b=y[v];if(null==b)return{};const k=(0,r.getAlignmentSides)(b,i,await(null==l.isRTL?void 0:l.isRTL(u.floating)));if(c!==b)return{reset:{placement:y[0]}};const w=[h[(0,r.getSide)(b)],h[k[0]],h[k[1]]],E=[...(null==(o=a.autoPlacement)?void 0:o.overflows)||[],{placement:b,overflows:w}],T=y[v+1];if(T)return{data:{index:v+1,overflows:E},reset:{placement:T}};const x=E.map(e=>{const t=(0,r.getAlignment)(e.placement);return[e.placement,t&&d?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),R=(null==(s=x.filter(e=>e[2].slice(0,(0,r.getAlignment)(e[0])?2:3).every(e=>e<=0))[0])?void 0:s[0])||x[0][0];return R!==c?{data:{index:v+1,overflows:E},reset:{placement:R}}:{}}}},flip=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...h}=(0,r.evaluate)(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const v=(0,r.getSide)(s),b=(0,r.getSideAxis)(c),k=(0,r.getSide)(c)===c,w=await(null==l.isRTL?void 0:l.isRTL(u.floating)),E=p||(k||!y?[(0,r.getOppositePlacement)(c)]:(0,r.getExpandedPlacements)(c)),T="none"!==g;!p&&T&&E.push(...(0,r.getOppositeAxisPlacements)(c,y,g,w));const x=[c,...E],R=await detectOverflow(t,h),S=[];let C=(null==(o=i.flip)?void 0:o.overflows)||[];if(d&&S.push(R[v]),f){const e=(0,r.getAlignmentSides)(s,a,w);S.push(R[e[0]],R[e[1]])}if(C=[...C,{placement:s,overflows:S}],!S.every(e=>e<=0)){var P,I;const e=((null==(P=i.flip)?void 0:P.index)||0)+1,t=x[e];if(t){if(!("alignment"===f&&b!==(0,r.getSideAxis)(t))||C.every(e=>(0,r.getSideAxis)(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:C},reset:{placement:t}}}let n=null==(I=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:I.placement;if(!n)switch(m){case"bestFit":{var O;const e=null==(O=C.filter(e=>{if(T){const t=(0,r.getSideAxis)(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=c}if(s!==n)return{reset:{placement:n}}}return{}}}};function getSideOffsets(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function isAnySideFullyClipped(e){return r.sides.some(t=>e[t]>=0)}const hide=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...s}=(0,r.evaluate)(e,t);switch(o){case"referenceHidden":{const e=getSideOffsets(await detectOverflow(t,{...s,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:isAnySideFullyClipped(e)}}}case"escaped":{const e=getSideOffsets(await detectOverflow(t,{...s,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:isAnySideFullyClipped(e)}}}default:return{}}}}};function getBoundingRect(e){const t=(0,r.min)(...e.map(e=>e.left)),n=(0,r.min)(...e.map(e=>e.top));return{x:t,y:n,width:(0,r.max)(...e.map(e=>e.right))-t,height:(0,r.max)(...e.map(e=>e.bottom))-n}}const inline=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:o,rects:s,platform:i,strategy:a}=t,{padding:c=2,x:l,y:u}=(0,r.evaluate)(e,t),d=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(o.reference))||[]),f=function getRectsByLine(e){const t=e.slice().sort((e,t)=>e.y-t.y),n=[];let o=null;for(let e=0;e<t.length;e++){const r=t[e];!o||r.y-o.y>o.height/2?n.push([r]):n[n.length-1].push(r),o=r}return n.map(e=>(0,r.rectToClientRect)(getBoundingRect(e)))}(d),p=(0,r.rectToClientRect)(getBoundingRect(d)),m=(0,r.getPaddingObject)(c);const g=await i.getElementRects({reference:{getBoundingClientRect:function getBoundingClientRect(){if(2===f.length&&f[0].left>f[1].right&&null!=l&&null!=u)return f.find(e=>l>e.left-m.left&&l<e.right+m.right&&u>e.top-m.top&&u<e.bottom+m.bottom)||p;if(f.length>=2){if("y"===(0,r.getSideAxis)(n)){const e=f[0],t=f[f.length-1],o="top"===(0,r.getSide)(n),s=e.top,i=t.bottom,a=o?e.left:t.left,c=o?e.right:t.right;return{top:s,bottom:i,left:a,right:c,width:c-a,height:i-s,x:a,y:s}}const e="left"===(0,r.getSide)(n),t=(0,r.max)(...f.map(e=>e.right)),o=(0,r.min)(...f.map(e=>e.left)),s=f.filter(n=>e?n.left===o:n.right===t),i=s[0].top,a=s[s.length-1].bottom;return{top:i,bottom:a,left:o,right:t,width:t-o,height:a-i,x:o,y:i}}return p}},floating:o.floating,strategy:a});return s.reference.x!==g.reference.x||s.reference.y!==g.reference.y||s.reference.width!==g.reference.width||s.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}},o=new Set(["left","top"]);const offset=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:c,middlewareData:l}=t,u=await async function convertValueToCoords(e,t){const{placement:n,platform:s,elements:i}=e,a=await(null==s.isRTL?void 0:s.isRTL(i.floating)),c=(0,r.getSide)(n),l=(0,r.getAlignment)(n),u="y"===(0,r.getSideAxis)(n),d=o.has(c)?-1:1,f=a&&u?-1:1,p=(0,r.evaluate)(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:y}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&"number"==typeof y&&(g="end"===l?-1*y:y),u?{x:g*f,y:m*d}:{x:m*d,y:g*f}}(t,e);return c===(null==(n=l.offset)?void 0:n.placement)&&null!=(s=l.arrow)&&s.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:c}}}}},shift=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=(0,r.evaluate)(e,t),u={x:n,y:o},d=await detectOverflow(t,l),f=(0,r.getSideAxis)((0,r.getSide)(s)),p=(0,r.getOppositeAxis)(f);let m=u[p],g=u[f];if(i){const e="y"===p?"bottom":"right",t=m+d["y"===p?"top":"left"],n=m-d[e];m=(0,r.clamp)(t,m,n)}if(a){const e="y"===f?"bottom":"right",t=g+d["y"===f?"top":"left"],n=g-d[e];g=(0,r.clamp)(t,g,n)}const y=c.fn({...t,[p]:m,[f]:g});return{...y,data:{x:y.x-n,y:y.y-o,enabled:{[p]:i,[f]:a}}}}}},limitShift=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:c}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=(0,r.evaluate)(e,t),f={x:n,y:s},p=(0,r.getSideAxis)(i),m=(0,r.getOppositeAxis)(p);let g=f[m],y=f[p];const h=(0,r.evaluate)(l,t),v="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(u){const e="y"===m?"height":"width",t=a.reference[m]-a.floating[e]+v.mainAxis,n=a.reference[m]+a.reference[e]-v.mainAxis;g<t?g=t:g>n&&(g=n)}if(d){var b,k;const e="y"===m?"width":"height",t=o.has((0,r.getSide)(i)),n=a.reference[p]-a.floating[e]+(t&&(null==(b=c.offset)?void 0:b[p])||0)+(t?0:v.crossAxis),s=a.reference[p]+a.reference[e]+(t?0:(null==(k=c.offset)?void 0:k[p])||0)-(t?v.crossAxis:0);y<n?y=n:y>s&&(y=s)}return{[m]:g,[p]:y}}}},size=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:s,rects:i,platform:a,elements:c}=t,{apply:l=()=>{},...u}=(0,r.evaluate)(e,t),d=await detectOverflow(t,u),f=(0,r.getSide)(s),p=(0,r.getAlignment)(s),m="y"===(0,r.getSideAxis)(s),{width:g,height:y}=i.floating;let h,v;"top"===f||"bottom"===f?(h=f,v=p===(await(null==a.isRTL?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(v=f,h="end"===p?"top":"bottom");const b=y-d.top-d.bottom,k=g-d.left-d.right,w=(0,r.min)(y-d[h],b),E=(0,r.min)(g-d[v],k),T=!t.middlewareData.shift;let x=w,R=E;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(R=k),null!=(o=t.middlewareData.shift)&&o.enabled.y&&(x=b),T&&!p){const e=(0,r.max)(d.left,0),t=(0,r.max)(d.right,0),n=(0,r.max)(d.top,0),o=(0,r.max)(d.bottom,0);m?R=g-2*(0!==e||0!==t?e+t:(0,r.max)(d.left,d.right)):x=y-2*(0!==n||0!==o?n+o:(0,r.max)(d.top,d.bottom))}await l({...t,availableWidth:R,availableHeight:x});const S=await a.getDimensions(c.floating);return g!==S.width||y!==S.height?{reset:{rects:!0}}:{}}}}},"./packages/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs":function(e,t,n){n.r(t),n.d(t,{arrow:function(){return y},autoPlacement:function(){return d},autoUpdate:function(){return autoUpdate},computePosition:function(){return computePosition},detectOverflow:function(){return l},flip:function(){return p},getOverflowAncestors:function(){return s.getOverflowAncestors},hide:function(){return g},inline:function(){return h},limitShift:function(){return v},offset:function(){return u},platform:function(){return c},shift:function(){return f},size:function(){return m}});var r=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs"),o=n("./packages/node_modules/@floating-ui/core/dist/floating-ui.core.mjs"),s=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs");function getCssDimensions(e){const t=(0,s.getComputedStyle)(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=(0,s.isHTMLElement)(e),a=i?e.offsetWidth:n,c=i?e.offsetHeight:o,l=(0,r.round)(n)!==a||(0,r.round)(o)!==c;return l&&(n=a,o=c),{width:n,height:o,$:l}}function unwrapElement(e){return(0,s.isElement)(e)?e:e.contextElement}function getScale(e){const t=unwrapElement(e);if(!(0,s.isHTMLElement)(t))return(0,r.createCoords)(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:a}=getCssDimensions(t);let c=(a?(0,r.round)(n.width):n.width)/o,l=(a?(0,r.round)(n.height):n.height)/i;return c&&Number.isFinite(c)||(c=1),l&&Number.isFinite(l)||(l=1),{x:c,y:l}}const i=(0,r.createCoords)(0);function getVisualOffsets(e){const t=(0,s.getWindow)(e);return(0,s.isWebKit)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:i}function getBoundingClientRect(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=unwrapElement(e);let c=(0,r.createCoords)(1);t&&(o?(0,s.isElement)(o)&&(c=getScale(o)):c=getScale(e));const l=function shouldAddVisualOffsets(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,s.getWindow)(e))&&t}(a,n,o)?getVisualOffsets(a):(0,r.createCoords)(0);let u=(i.left+l.x)/c.x,d=(i.top+l.y)/c.y,f=i.width/c.x,p=i.height/c.y;if(a){const e=(0,s.getWindow)(a),t=o&&(0,s.isElement)(o)?(0,s.getWindow)(o):o;let n=e,r=(0,s.getFrameElement)(n);for(;r&&o&&t!==n;){const e=getScale(r),t=r.getBoundingClientRect(),o=(0,s.getComputedStyle)(r),i=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;u*=e.x,d*=e.y,f*=e.x,p*=e.y,u+=i,d+=a,n=(0,s.getWindow)(r),r=(0,s.getFrameElement)(n)}}return(0,r.rectToClientRect)({width:f,height:p,x:u,y:d})}function getWindowScrollBarX(e,t){const n=(0,s.getNodeScroll)(e).scrollLeft;return t?t.left+n:getBoundingClientRect((0,s.getDocumentElement)(e)).left+n}function getHTMLOffset(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-getWindowScrollBarX(e,n),y:n.top+t.scrollTop}}const a=new Set(["absolute","fixed"]);function getClientRectFromClippingAncestor(e,t,n){let o;if("viewport"===t)o=function getViewportRect(e,t){const n=(0,s.getWindow)(e),r=(0,s.getDocumentElement)(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,l=0;if(o){i=o.width,a=o.height;const e=(0,s.isWebKit)();(!e||e&&"fixed"===t)&&(c=o.offsetLeft,l=o.offsetTop)}const u=getWindowScrollBarX(r);if(u<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-o);s<=25&&(i-=s)}else u<=25&&(i+=u);return{width:i,height:a,x:c,y:l}}(e,n);else if("document"===t)o=function getDocumentRect(e){const t=(0,s.getDocumentElement)(e),n=(0,s.getNodeScroll)(e),o=e.ownerDocument.body,i=(0,r.max)(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=(0,r.max)(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let c=-n.scrollLeft+getWindowScrollBarX(e);const l=-n.scrollTop;return"rtl"===(0,s.getComputedStyle)(o).direction&&(c+=(0,r.max)(t.clientWidth,o.clientWidth)-i),{width:i,height:a,x:c,y:l}}((0,s.getDocumentElement)(e));else if((0,s.isElement)(t))o=function getInnerBoundingClientRect(e,t){const n=getBoundingClientRect(e,!0,"fixed"===t),o=n.top+e.clientTop,i=n.left+e.clientLeft,a=(0,s.isHTMLElement)(e)?getScale(e):(0,r.createCoords)(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:o*a.y}}(t,n);else{const n=getVisualOffsets(e);o={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return(0,r.rectToClientRect)(o)}function hasFixedPositionAncestor(e,t){const n=(0,s.getParentNode)(e);return!(n===t||!(0,s.isElement)(n)||(0,s.isLastTraversableNode)(n))&&("fixed"===(0,s.getComputedStyle)(n).position||hasFixedPositionAncestor(n,t))}function getRectRelativeToOffsetParent(e,t,n){const o=(0,s.isHTMLElement)(t),i=(0,s.getDocumentElement)(t),a="fixed"===n,c=getBoundingClientRect(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const u=(0,r.createCoords)(0);function setLeftRTLScrollbarOffset(){u.x=getWindowScrollBarX(i)}if(o||!o&&!a)if(("body"!==(0,s.getNodeName)(t)||(0,s.isOverflowElement)(i))&&(l=(0,s.getNodeScroll)(t)),o){const e=getBoundingClientRect(t,!0,a,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&setLeftRTLScrollbarOffset();a&&!o&&i&&setLeftRTLScrollbarOffset();const d=!i||o||a?(0,r.createCoords)(0):getHTMLOffset(i,l);return{x:c.left+l.scrollLeft-u.x-d.x,y:c.top+l.scrollTop-u.y-d.y,width:c.width,height:c.height}}function isStaticPositioned(e){return"static"===(0,s.getComputedStyle)(e).position}function getTrueOffsetParent(e,t){if(!(0,s.isHTMLElement)(e)||"fixed"===(0,s.getComputedStyle)(e).position)return null;if(t)return t(e);let n=e.offsetParent;return(0,s.getDocumentElement)(e)===n&&(n=n.ownerDocument.body),n}function getOffsetParent(e,t){const n=(0,s.getWindow)(e);if((0,s.isTopLayer)(e))return n;if(!(0,s.isHTMLElement)(e)){let t=(0,s.getParentNode)(e);for(;t&&!(0,s.isLastTraversableNode)(t);){if((0,s.isElement)(t)&&!isStaticPositioned(t))return t;t=(0,s.getParentNode)(t)}return n}let r=getTrueOffsetParent(e,t);for(;r&&(0,s.isTableElement)(r)&&isStaticPositioned(r);)r=getTrueOffsetParent(r,t);return r&&(0,s.isLastTraversableNode)(r)&&isStaticPositioned(r)&&!(0,s.isContainingBlock)(r)?n:r||(0,s.getContainingBlock)(e)||n}const c={convertOffsetParentRelativeRectToViewportRelativeRect:function convertOffsetParentRelativeRectToViewportRelativeRect(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const a="fixed"===i,c=(0,s.getDocumentElement)(o),l=!!t&&(0,s.isTopLayer)(t.floating);if(o===c||l&&a)return n;let u={scrollLeft:0,scrollTop:0},d=(0,r.createCoords)(1);const f=(0,r.createCoords)(0),p=(0,s.isHTMLElement)(o);if((p||!p&&!a)&&(("body"!==(0,s.getNodeName)(o)||(0,s.isOverflowElement)(c))&&(u=(0,s.getNodeScroll)(o)),(0,s.isHTMLElement)(o))){const e=getBoundingClientRect(o);d=getScale(o),f.x=e.x+o.clientLeft,f.y=e.y+o.clientTop}const m=!c||p||a?(0,r.createCoords)(0):getHTMLOffset(c,u);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-u.scrollTop*d.y+f.y+m.y}},getDocumentElement:s.getDocumentElement,getClippingRect:function getClippingRect(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const c=[..."clippingAncestors"===n?(0,s.isTopLayer)(t)?[]:function getClippingElementAncestors(e,t){const n=t.get(e);if(n)return n;let r=(0,s.getOverflowAncestors)(e,[],!1).filter(e=>(0,s.isElement)(e)&&"body"!==(0,s.getNodeName)(e)),o=null;const i="fixed"===(0,s.getComputedStyle)(e).position;let c=i?(0,s.getParentNode)(e):e;for(;(0,s.isElement)(c)&&!(0,s.isLastTraversableNode)(c);){const t=(0,s.getComputedStyle)(c),n=(0,s.isContainingBlock)(c);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&a.has(o.position)||(0,s.isOverflowElement)(c)&&!n&&hasFixedPositionAncestor(e,c))?r=r.filter(e=>e!==c):o=t,c=(0,s.getParentNode)(c)}return t.set(e,r),r}(t,this._c):[].concat(n),o],l=c[0],u=c.reduce((e,n)=>{const o=getClientRectFromClippingAncestor(t,n,i);return e.top=(0,r.max)(o.top,e.top),e.right=(0,r.min)(o.right,e.right),e.bottom=(0,r.min)(o.bottom,e.bottom),e.left=(0,r.max)(o.left,e.left),e},getClientRectFromClippingAncestor(t,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:getOffsetParent,getElementRects:async function(e){const t=this.getOffsetParent||getOffsetParent,n=this.getDimensions,r=await n(e.floating);return{reference:getRectRelativeToOffsetParent(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function getClientRects(e){return Array.from(e.getClientRects())},getDimensions:function getDimensions(e){const{width:t,height:n}=getCssDimensions(e);return{width:t,height:n}},getScale:getScale,isElement:s.isElement,isRTL:function isRTL(e){return"rtl"===(0,s.getComputedStyle)(e).direction}};function rectsAreEqual(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function autoUpdate(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:u=!1}=o,d=unwrapElement(e),f=i||a?[...d?(0,s.getOverflowAncestors)(d):[],...(0,s.getOverflowAncestors)(t)]:[];f.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const p=d&&l?function observeMove(e,t){let n,o=null;const i=(0,s.getDocumentElement)(e);function cleanup(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function refresh(s,a){void 0===s&&(s=!1),void 0===a&&(a=1),cleanup();const c=e.getBoundingClientRect(),{left:l,top:u,width:d,height:f}=c;if(s||t(),!d||!f)return;const p={rootMargin:-(0,r.floor)(u)+"px "+-(0,r.floor)(i.clientWidth-(l+d))+"px "+-(0,r.floor)(i.clientHeight-(u+f))+"px "+-(0,r.floor)(l)+"px",threshold:(0,r.max)(0,(0,r.min)(1,a))||1};let m=!0;function handleObserve(t){const r=t[0].intersectionRatio;if(r!==a){if(!m)return refresh();r?refresh(!1,r):n=setTimeout(()=>{refresh(!1,1e-7)},1e3)}1!==r||rectsAreEqual(c,e.getBoundingClientRect())||refresh(),m=!1}try{o=new IntersectionObserver(handleObserve,{...p,root:i.ownerDocument})}catch(e){o=new IntersectionObserver(handleObserve,p)}o.observe(e)}(!0),cleanup}(d,n):null;let m,g=-1,y=null;c&&(y=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var e;null==(e=y)||e.observe(t)})),n()}),d&&!u&&y.observe(d),y.observe(t));let h=u?getBoundingClientRect(e):null;return u&&function frameLoop(){const t=getBoundingClientRect(e);h&&!rectsAreEqual(h,t)&&n();h=t,m=requestAnimationFrame(frameLoop)}(),n(),()=>{var e;f.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==p||p(),null==(e=y)||e.disconnect(),y=null,u&&cancelAnimationFrame(m)}}const l=o.detectOverflow,u=o.offset,d=o.autoPlacement,f=o.shift,p=o.flip,m=o.size,g=o.hide,y=o.arrow,h=o.inline,v=o.limitShift,computePosition=(e,t,n)=>{const r=new Map,s={platform:c,...n},i={...s.platform,_c:r};return(0,o.computePosition)(e,t,{...s,platform:i})}},"./packages/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs":function(e,t,n){n.r(t),n.d(t,{arrow:function(){return arrow},autoPlacement:function(){return autoPlacement},autoUpdate:function(){return r.autoUpdate},computePosition:function(){return r.computePosition},detectOverflow:function(){return r.detectOverflow},flip:function(){return flip},getOverflowAncestors:function(){return o.getOverflowAncestors},hide:function(){return hide},inline:function(){return inline},limitShift:function(){return limitShift},offset:function(){return offset},platform:function(){return r.platform},shift:function(){return shift},size:function(){return size},useFloating:function(){return useFloating}});var r=n("./packages/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),o=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs"),s=n("react"),i=n("react-dom"),a="undefined"!=typeof document?s.useLayoutEffect:function noop(){};function deepEqual(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!deepEqual(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!deepEqual(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function getDPR(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(e,t){const n=getDPR(e);return Math.round(t*n)/n}function useLatestRef(e){const t=s.useRef(e);return a(()=>{t.current=e}),t}function useFloating(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:c,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:f,open:p}=e,[m,g]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,h]=s.useState(o);deepEqual(y,o)||h(o);const[v,b]=s.useState(null),[k,w]=s.useState(null),E=s.useCallback(e=>{e!==S.current&&(S.current=e,b(e))},[]),T=s.useCallback(e=>{e!==C.current&&(C.current=e,w(e))},[]),x=l||v,R=u||k,S=s.useRef(null),C=s.useRef(null),P=s.useRef(m),I=null!=f,O=useLatestRef(f),L=useLatestRef(c),M=useLatestRef(p),A=s.useCallback(()=>{if(!S.current||!C.current)return;const e={placement:t,strategy:n,middleware:y};L.current&&(e.platform=L.current),(0,r.computePosition)(S.current,C.current,e).then(e=>{const t={...e,isPositioned:!1!==M.current};_.current&&!deepEqual(P.current,t)&&(P.current=t,i.flushSync(()=>{g(t)}))})},[y,t,n,L,M]);a(()=>{!1===p&&P.current.isPositioned&&(P.current.isPositioned=!1,g(e=>({...e,isPositioned:!1})))},[p]);const _=s.useRef(!1);a(()=>(_.current=!0,()=>{_.current=!1}),[]),a(()=>{if(x&&(S.current=x),R&&(C.current=R),x&&R){if(O.current)return O.current(x,R,A);A()}},[x,R,A,O,I]);const D=s.useMemo(()=>({reference:S,floating:C,setReference:E,setFloating:T}),[E,T]),N=s.useMemo(()=>({reference:x,floating:R}),[x,R]),F=s.useMemo(()=>{const e={position:n,left:0,top:0};if(!N.floating)return e;const t=roundByDPR(N.floating,m.x),r=roundByDPR(N.floating,m.y);return d?{...e,transform:"translate("+t+"px, "+r+"px)",...getDPR(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,d,N.floating,m.x,m.y]);return s.useMemo(()=>({...m,update:A,refs:D,elements:N,floatingStyles:F}),[m,A,D,N,F])}const arrow$1=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:o}="function"==typeof e?e(t):e;return n&&function isRef(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?(0,r.arrow)({element:n.current,padding:o}).fn(t):{}:n?(0,r.arrow)({element:n,padding:o}).fn(t):{}}}),offset=(e,t)=>({...(0,r.offset)(e),options:[e,t]}),shift=(e,t)=>({...(0,r.shift)(e),options:[e,t]}),limitShift=(e,t)=>({...(0,r.limitShift)(e),options:[e,t]}),flip=(e,t)=>({...(0,r.flip)(e),options:[e,t]}),size=(e,t)=>({...(0,r.size)(e),options:[e,t]}),autoPlacement=(e,t)=>({...(0,r.autoPlacement)(e),options:[e,t]}),hide=(e,t)=>({...(0,r.hide)(e),options:[e,t]}),inline=(e,t)=>({...(0,r.inline)(e),options:[e,t]}),arrow=(e,t)=>({...arrow$1(e),options:[e,t]})},"./packages/node_modules/@floating-ui/react/dist/floating-ui.react.mjs":function(e,t,n){var r;n.r(t),n.d(t,{Composite:function(){return R},CompositeItem:function(){return S},FloatingArrow:function(){return M},FloatingDelayGroup:function(){return FloatingDelayGroup},FloatingFocusManager:function(){return FloatingFocusManager},FloatingList:function(){return FloatingList},FloatingNode:function(){return FloatingNode},FloatingOverlay:function(){return Q},FloatingPortal:function(){return FloatingPortal},FloatingTree:function(){return FloatingTree},NextFloatingDelayGroup:function(){return NextFloatingDelayGroup},arrow:function(){return u.arrow},autoPlacement:function(){return u.autoPlacement},autoUpdate:function(){return d.autoUpdate},computePosition:function(){return d.computePosition},detectOverflow:function(){return d.detectOverflow},flip:function(){return u.flip},getOverflowAncestors:function(){return a.getOverflowAncestors},hide:function(){return u.hide},inline:function(){return u.inline},inner:function(){return inner},limitShift:function(){return u.limitShift},offset:function(){return u.offset},platform:function(){return d.platform},safePolygon:function(){return safePolygon},shift:function(){return u.shift},size:function(){return u.size},useClick:function(){return useClick},useClientPoint:function(){return useClientPoint},useDelayGroup:function(){return useDelayGroup},useDelayGroupContext:function(){return useDelayGroupContext},useDismiss:function(){return useDismiss},useFloating:function(){return useFloating},useFloatingNodeId:function(){return useFloatingNodeId},useFloatingParentNodeId:function(){return useFloatingParentNodeId},useFloatingPortalNode:function(){return useFloatingPortalNode},useFloatingRootContext:function(){return useFloatingRootContext},useFloatingTree:function(){return useFloatingTree},useFocus:function(){return useFocus},useHover:function(){return useHover},useId:function(){return O},useInnerOffset:function(){return useInnerOffset},useInteractions:function(){return useInteractions},useListItem:function(){return useListItem},useListNavigation:function(){return useListNavigation},useMergeRefs:function(){return useMergeRefs},useNextDelayGroup:function(){return useNextDelayGroup},useRole:function(){return useRole},useTransitionStatus:function(){return useTransitionStatus},useTransitionStyles:function(){return useTransitionStyles},useTypeahead:function(){return useTypeahead}});var o=n("react"),s=n("./packages/node_modules/@floating-ui/react/dist/floating-ui.react.utils.mjs"),i=n("./packages/node_modules/react/jsx-runtime.js"),a=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs"),c=n("./packages/node_modules/tabbable/dist/index.esm.js"),l=n("react-dom"),u=n("./packages/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),d=n("./packages/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),f=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs");function useMergeRefs(e){const t=o.useRef(void 0),n=o.useCallback(t=>{const n=e.map(e=>{if(null!=e){if("function"==typeof e){const n=e,r=n(t);return"function"==typeof r?r:()=>{n(null)}}return e.current=t,()=>{e.current=null}}});return()=>{n.forEach(e=>null==e?void 0:e())}},e);return o.useMemo(()=>e.every(e=>null==e)?null:e=>{t.current&&(t.current(),t.current=void 0),null!=e&&(t.current=n(e))},e)}function sortByDocumentPosition(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const p=o.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function FloatingList(e){const{children:t,elementsRef:n,labelsRef:r}=e,[s,a]=o.useState(()=>new Set),c=o.useCallback(e=>{a(t=>new Set(t).add(e))},[]),l=o.useCallback(e=>{a(t=>{const n=new Set(t);return n.delete(e),n})},[]),u=o.useMemo(()=>{const e=new Map;return Array.from(s.keys()).sort(sortByDocumentPosition).forEach((t,n)=>{e.set(t,n)}),e},[s]);return(0,i.jsx)(p.Provider,{value:o.useMemo(()=>({register:c,unregister:l,map:u,elementsRef:n,labelsRef:r}),[c,l,u,n,r]),children:t})}function useListItem(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:r,map:i,elementsRef:a,labelsRef:c}=o.useContext(p),[l,u]=o.useState(null),d=o.useRef(null),f=o.useCallback(e=>{if(d.current=e,null!==l&&(a.current[l]=e,c)){var n;const r=void 0!==t;c.current[l]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}},[l,a,c,t]);return(0,s.useModernLayoutEffect)(()=>{const e=d.current;if(e)return n(e),()=>{r(e)}},[n,r]),(0,s.useModernLayoutEffect)(()=>{const e=d.current?i.get(d.current):null;null!=e&&u(e)},[i]),o.useMemo(()=>({ref:f,index:null==l?-1:l}),[l,f])}const m="data-floating-ui-focusable",g="active",y="selected",h="ArrowLeft",v="ArrowRight",b="ArrowUp",k="ArrowDown";function renderJsx(e,t){return"function"==typeof e?e(t):e?o.cloneElement(e,t):(0,i.jsx)("div",{...t})}const w=o.createContext({activeIndex:0,onNavigate:()=>{}}),E=[h,v],T=[b,k],x=[...E,...T],R=o.forwardRef(function Composite(e,t){const{render:n,orientation:r="both",loop:a=!0,rtl:c=!1,cols:l=1,disabledIndices:u,activeIndex:d,onNavigate:f,itemSizes:p,dense:m=!1,...g}=e,[y,R]=o.useState(0),S=null!=d?d:y,C=(0,s.useEffectEvent)(null!=f?f:R),P=o.useRef([]),I=n&&"function"!=typeof n?n.props:{},O=o.useMemo(()=>({activeIndex:S,onNavigate:C}),[S,C]),L=l>1;const M={...g,...I,ref:t,"aria-orientation":"both"===r?void 0:r,onKeyDown(e){null==g.onKeyDown||g.onKeyDown(e),null==I.onKeyDown||I.onKeyDown(e),function handleKeyDown(e){if(!x.includes(e.key))return;let t=S;const n=(0,s.getMinListIndex)(P,u),o=(0,s.getMaxListIndex)(P,u),i=c?h:v,d=c?v:h;if(L){const d=p||Array.from({length:P.current.length},()=>({width:1,height:1})),f=(0,s.createGridCellMap)(d,l,m),g=f.findIndex(e=>null!=e&&!(0,s.isListIndexDisabled)(P,e,u)),y=f.reduce((e,t,n)=>null==t||(0,s.isListIndexDisabled)(P,t,u)?e:n,-1),h=f[(0,s.getGridNavigatedIndex)({current:f.map(e=>e?P.current[e]:null)},{event:e,orientation:r,loop:a,rtl:c,cols:l,disabledIndices:(0,s.getGridCellIndices)([...("function"!=typeof u?u:null)||P.current.map((e,t)=>(0,s.isListIndexDisabled)(P,t,u)?t:void 0),void 0],f),minIndex:g,maxIndex:y,prevIndex:(0,s.getGridCellIndexOfCorner)(S>o?n:S,d,f,l,e.key===k?"bl":e.key===i?"tr":"tl")})];null!=h&&(t=h)}const f={horizontal:[i],vertical:[k],both:[i,k]}[r],g={horizontal:[d],vertical:[b],both:[d,b]}[r],y=L?x:{horizontal:E,vertical:T,both:x}[r];var w;t===S&&[...f,...g].includes(e.key)&&(t=a&&t===o&&f.includes(e.key)?n:a&&t===n&&g.includes(e.key)?o:(0,s.findNonDisabledListIndex)(P,{startingIndex:t,decrement:g.includes(e.key),disabledIndices:u})),t===S||(0,s.isIndexOutOfListBounds)(P,t)||(e.stopPropagation(),y.includes(e.key)&&e.preventDefault(),C(t),null==(w=P.current[t])||w.focus())}(e)}};return(0,i.jsx)(w.Provider,{value:O,children:(0,i.jsx)(FloatingList,{elementsRef:P,children:renderJsx(n,M)})})}),S=o.forwardRef(function CompositeItem(e,t){const{render:n,...r}=e,s=n&&"function"!=typeof n?n.props:{},{activeIndex:i,onNavigate:a}=o.useContext(w),{ref:c,index:l}=useListItem(),u=useMergeRefs([c,t,s.ref]),d=i===l;return renderJsx(n,{...r,...s,ref:u,tabIndex:d?0:-1,"data-active":d?"":void 0,onFocus(e){null==r.onFocus||r.onFocus(e),null==s.onFocus||s.onFocus(e),a(l)}})}),C={...r||(r=n.t(o,2))};let P=!1,I=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+I++;const O=C.useId||function useFloatingId(){const[e,t]=o.useState(()=>P?genId():void 0);return(0,s.useModernLayoutEffect)(()=>{null==e&&t(genId())},[]),o.useEffect(()=>{P=!0},[]),e};let L;function warn(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o="Floating UI: "+n.join(" ");var s;null!=(e=L)&&e.has(o)||(null==(s=L)||s.add(o),console.warn(o))}L=new Set;const M=o.forwardRef(function FloatingArrow(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:c,shift:l}},width:u=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:m,stroke:g,d:y,style:{transform:h,...v}={},...b}=e;t||warn("The `ref` prop is required for `FloatingArrow`.");const k=O(),[w,E]=o.useState(!1);if((0,s.useModernLayoutEffect)(()=>{if(!r)return;"rtl"===(0,a.getComputedStyle)(r).direction&&E(!0)},[r]),!r)return null;const[T,x]=n.split("-"),R="top"===T||"bottom"===T;let S=m;(R&&null!=l&&l.x||!R&&null!=l&&l.y)&&(S=null);const C=2*p,P=C/2,I=u/2*(f/-8+1),L=d/2*f/4,M=!!y,A=S&&"end"===x?"bottom":"top";let _=S&&"end"===x?"right":"left";S&&w&&(_="end"===x?"left":"right");const D=null!=(null==c?void 0:c.x)?S||c.x:"",N=null!=(null==c?void 0:c.y)?S||c.y:"",F=y||"M0,0 H"+u+" L"+(u-I)+","+(d-L)+" Q"+u/2+","+d+" "+I+","+(d-L)+" Z",j={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[T];return(0,i.jsxs)("svg",{...b,"aria-hidden":!0,ref:t,width:M?u:u+C,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[_]:D,[A]:N,[T]:R||M?"100%":"calc(100% - "+C/2+"px)",transform:[j,h].filter(e=>!!e).join(" "),...v},children:[C>0&&(0,i.jsx)("path",{clipPath:"url(#"+k+")",fill:"none",stroke:g,strokeWidth:C+(y?0:1),d:F}),(0,i.jsx)("path",{stroke:C&&!y?b.fill:"none",d:F}),(0,i.jsx)("clipPath",{id:k,children:(0,i.jsx)("rect",{x:-P,y:P*(M?-1:1),width:u+C,height:u})})]})});function createEventEmitter(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const A=o.createContext(null),_=o.createContext(null),useFloatingParentNodeId=()=>{var e;return(null==(e=o.useContext(A))?void 0:e.id)||null},useFloatingTree=()=>o.useContext(_);function useFloatingNodeId(e){const t=O(),n=useFloatingTree(),r=useFloatingParentNodeId(),o=e||r;return(0,s.useModernLayoutEffect)(()=>{if(!t)return;const e={id:t,parentId:o};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}},[n,t,o]),t}function FloatingNode(e){const{children:t,id:n}=e,r=useFloatingParentNodeId();return(0,i.jsx)(A.Provider,{value:o.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function FloatingTree(e){const{children:t}=e,n=o.useRef([]),r=o.useCallback(e=>{n.current=[...n.current,e]},[]),s=o.useCallback(e=>{n.current=n.current.filter(t=>t!==e)},[]),[a]=o.useState(()=>createEventEmitter());return(0,i.jsx)(_.Provider,{value:o.useMemo(()=>({nodesRef:n,addNode:r,removeNode:s,events:a}),[r,s,a]),children:t})}function createAttribute(e){return"data-floating-ui-"+e}function clearTimeoutIfSet(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}const D=createAttribute("safe-polygon");function getDelay(e,t,n){if(n&&!(0,s.isMouseLikePointerType)(n))return 0;if("number"==typeof e)return e;if("function"==typeof e){const n=e();return"number"==typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}function getRestMs(e){return"function"==typeof e?e():e}function useHover(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:c,elements:l}=e,{enabled:u=!0,delay:d=0,handleClose:f=null,mouseOnly:p=!1,restMs:m=0,move:g=!0}=t,y=useFloatingTree(),h=useFloatingParentNodeId(),v=(0,s.useLatestRef)(f),b=(0,s.useLatestRef)(d),k=(0,s.useLatestRef)(n),w=(0,s.useLatestRef)(m),E=o.useRef(),T=o.useRef(-1),x=o.useRef(),R=o.useRef(-1),S=o.useRef(!0),C=o.useRef(!1),P=o.useRef(()=>{}),I=o.useRef(!1),O=(0,s.useEffectEvent)(()=>{var e;const t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t});o.useEffect(()=>{if(u)return c.on("openchange",onOpenChange),()=>{c.off("openchange",onOpenChange)};function onOpenChange(e){let{open:t}=e;t||(clearTimeoutIfSet(T),clearTimeoutIfSet(R),S.current=!0,I.current=!1)}},[u,c]),o.useEffect(()=>{if(!u)return;if(!v.current)return;if(!n)return;function onLeave(e){O()&&r(!1,e,"hover")}const e=(0,s.getDocument)(l.floating).documentElement;return e.addEventListener("mouseleave",onLeave),()=>{e.removeEventListener("mouseleave",onLeave)}},[l.floating,n,r,u,v,O]);const L=o.useCallback(function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const o=getDelay(b.current,"close",E.current);o&&!x.current?(clearTimeoutIfSet(T),T.current=window.setTimeout(()=>r(!1,e,n),o)):t&&(clearTimeoutIfSet(T),r(!1,e,n))},[b,r]),M=(0,s.useEffectEvent)(()=>{P.current(),x.current=void 0}),A=(0,s.useEffectEvent)(()=>{if(C.current){const e=(0,s.getDocument)(l.floating).body;e.style.pointerEvents="",e.removeAttribute(D),C.current=!1}}),_=(0,s.useEffectEvent)(()=>!!i.current.openEvent&&["click","mousedown"].includes(i.current.openEvent.type));o.useEffect(()=>{if(u&&(0,a.isElement)(l.domReference)){const e=l.domReference,t=l.floating;return n&&e.addEventListener("mouseleave",onScrollMouseLeave),g&&e.addEventListener("mousemove",onReferenceMouseEnter,{once:!0}),e.addEventListener("mouseenter",onReferenceMouseEnter),e.addEventListener("mouseleave",onReferenceMouseLeave),t&&(t.addEventListener("mouseleave",onScrollMouseLeave),t.addEventListener("mouseenter",onFloatingMouseEnter),t.addEventListener("mouseleave",onFloatingMouseLeave)),()=>{n&&e.removeEventListener("mouseleave",onScrollMouseLeave),g&&e.removeEventListener("mousemove",onReferenceMouseEnter),e.removeEventListener("mouseenter",onReferenceMouseEnter),e.removeEventListener("mouseleave",onReferenceMouseLeave),t&&(t.removeEventListener("mouseleave",onScrollMouseLeave),t.removeEventListener("mouseenter",onFloatingMouseEnter),t.removeEventListener("mouseleave",onFloatingMouseLeave))}}function onReferenceMouseEnter(e){if(clearTimeoutIfSet(T),S.current=!1,p&&!(0,s.isMouseLikePointerType)(E.current)||getRestMs(w.current)>0&&!getDelay(b.current,"open"))return;const t=getDelay(b.current,"open",E.current);t?T.current=window.setTimeout(()=>{k.current||r(!0,e,"hover")},t):n||r(!0,e,"hover")}function onReferenceMouseLeave(e){if(_())return void A();P.current();const t=(0,s.getDocument)(l.floating);if(clearTimeoutIfSet(R),I.current=!1,v.current&&i.current.floatingContext){n||clearTimeoutIfSet(T),x.current=v.current({...i.current.floatingContext,tree:y,x:e.clientX,y:e.clientY,onClose(){A(),M(),_()||L(e,!0,"safe-polygon")}});const r=x.current;return t.addEventListener("mousemove",r),void(P.current=()=>{t.removeEventListener("mousemove",r)})}("touch"!==E.current||!(0,s.contains)(l.floating,e.relatedTarget))&&L(e)}function onScrollMouseLeave(e){_()||i.current.floatingContext&&(null==v.current||v.current({...i.current.floatingContext,tree:y,x:e.clientX,y:e.clientY,onClose(){A(),M(),_()||L(e)}})(e))}function onFloatingMouseEnter(){clearTimeoutIfSet(T)}function onFloatingMouseLeave(e){_()||L(e,!1)}},[l,u,e,p,g,L,M,A,r,n,k,y,b,v,i,_,w]),(0,s.useModernLayoutEffect)(()=>{var e;if(u&&n&&null!=(e=v.current)&&null!=(e=e.__options)&&e.blockPointerEvents&&O()){C.current=!0;const e=l.floating;if((0,a.isElement)(l.domReference)&&e){var t;const n=(0,s.getDocument)(l.floating).body;n.setAttribute(D,"");const r=l.domReference,o=null==y||null==(t=y.nodesRef.current.find(e=>e.id===h))||null==(t=t.context)?void 0:t.elements.floating;return o&&(o.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}},[u,n,h,l,y,v,O]),(0,s.useModernLayoutEffect)(()=>{n||(E.current=void 0,I.current=!1,M(),A())},[n,M,A]),o.useEffect(()=>()=>{M(),clearTimeoutIfSet(T),clearTimeoutIfSet(R),A()},[u,l.domReference,M,A]);const N=o.useMemo(()=>{function setPointerRef(e){E.current=e.pointerType}return{onPointerDown:setPointerRef,onPointerEnter:setPointerRef,onMouseMove(e){const{nativeEvent:t}=e;function handleMouseMove(){S.current||k.current||r(!0,t,"hover")}p&&!(0,s.isMouseLikePointerType)(E.current)||n||0===getRestMs(w.current)||I.current&&e.movementX**2+e.movementY**2<2||(clearTimeoutIfSet(R),"touch"===E.current?handleMouseMove():(I.current=!0,R.current=window.setTimeout(handleMouseMove,getRestMs(w.current))))}}},[p,r,n,k,w]);return o.useMemo(()=>u?{reference:N}:{},[u,N])}const NOOP=()=>{},N=o.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:NOOP,setState:NOOP,isInstantPhase:!1}),useDelayGroupContext=()=>o.useContext(N);function FloatingDelayGroup(e){const{children:t,delay:n,timeoutMs:r=0}=e,[a,c]=o.useReducer((e,t)=>({...e,...t}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),l=o.useRef(null),u=o.useCallback(e=>{c({currentId:e})},[]);return(0,s.useModernLayoutEffect)(()=>{a.currentId?null===l.current?l.current=a.currentId:a.isInstantPhase||c({isInstantPhase:!0}):(a.isInstantPhase&&c({isInstantPhase:!1}),l.current=null)},[a.currentId,a.isInstantPhase]),(0,i.jsx)(N.Provider,{value:o.useMemo(()=>({...a,setState:c,setCurrentId:u}),[a,u]),children:t})}function useDelayGroup(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:i,enabled:a=!0}=t,c=null!=i?i:o,l=useDelayGroupContext(),{currentId:u,setCurrentId:d,initialDelay:f,setState:p,timeoutMs:m}=l;return(0,s.useModernLayoutEffect)(()=>{a&&u&&(p({delay:{open:1,close:getDelay(f,"close")}}),u!==c&&r(!1))},[a,c,r,p,u,f]),(0,s.useModernLayoutEffect)(()=>{function unset(){r(!1),p({delay:f,currentId:null})}if(a&&u&&!n&&u===c){if(m){const e=window.setTimeout(unset,m);return()=>{clearTimeout(e)}}unset()}},[a,n,p,u,c,r,f,m]),(0,s.useModernLayoutEffect)(()=>{a&&d!==NOOP&&n&&d(c)},[a,n,d,c]),l}const F=o.createContext({hasProvider:!1,timeoutMs:0,delayRef:{current:0},initialDelayRef:{current:0},timeoutIdRef:{current:-1},currentIdRef:{current:null},currentContextRef:{current:null}});function NextFloatingDelayGroup(e){const{children:t,delay:n,timeoutMs:r=0}=e,s=o.useRef(n),a=o.useRef(n),c=o.useRef(null),l=o.useRef(null),u=o.useRef(-1);return(0,i.jsx)(F.Provider,{value:o.useMemo(()=>({hasProvider:!0,delayRef:s,initialDelayRef:a,currentIdRef:c,timeoutMs:r,currentContextRef:l,timeoutIdRef:u}),[r]),children:t})}function useNextDelayGroup(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{enabled:a=!0}=t,c=o.useContext(F),{currentIdRef:l,delayRef:u,timeoutMs:d,initialDelayRef:f,currentContextRef:p,hasProvider:m,timeoutIdRef:g}=c,[y,h]=o.useState(!1);return(0,s.useModernLayoutEffect)(()=>{function unset(){var e;h(!1),null==(e=p.current)||e.setIsInstantPhase(!1),l.current=null,p.current=null,u.current=f.current}if(a&&l.current&&!n&&l.current===i){if(h(!1),d)return g.current=window.setTimeout(unset,d),()=>{clearTimeout(g.current)};unset()}},[a,n,i,l,u,d,f,p,g]),(0,s.useModernLayoutEffect)(()=>{if(!a)return;if(!n)return;const e=p.current,t=l.current;p.current={onOpenChange:r,setIsInstantPhase:h},l.current=i,u.current={open:0,close:getDelay(f.current,"close")},null!==t&&t!==i?(clearTimeoutIfSet(g),h(!0),null==e||e.setIsInstantPhase(!0),null==e||e.onOpenChange(!1)):(h(!1),null==e||e.setIsInstantPhase(!1))},[a,n,i,r,l,u,d,f,p,g]),(0,s.useModernLayoutEffect)(()=>()=>{p.current=null},[p]),o.useMemo(()=>({hasProvider:m,delayRef:u,isInstantPhase:y}),[m,u,y])}let j=0;function enqueueFocus(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(j);const exec=()=>null==e?void 0:e.focus({preventScroll:n});o?exec():j=requestAnimationFrame(exec)}function contains(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,a.isShadowRoot)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}const $={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function getCounterMap(e){return"inert"===e?$.inert:"aria-hidden"===e?$["aria-hidden"]:$.none}let V=new WeakSet,W={},B=0;const supportsInert=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,unwrapHost=e=>e&&(e.host||unwrapHost(e.parentNode)),correctElements=(e,t)=>t.map(t=>{if(e.contains(t))return t;const n=unwrapHost(t);return e.contains(n)?n:null}).filter(e=>null!=e);function markOthers(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=function getDocument(e){return(null==e?void 0:e.ownerDocument)||document}(e[0]).body;return function applyAttributeToOthers(e,t,n,r){const o="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,i=correctElements(t,e),c=new Set,l=new Set(i),u=[];W[o]||(W[o]=new WeakMap);const d=W[o];return i.forEach(function keep(e){e&&!c.has(e)&&(c.add(e),e.parentNode&&keep(e.parentNode))}),function deep(e){e&&!l.has(e)&&[].forEach.call(e.children,e=>{if("script"!==(0,a.getNodeName)(e))if(c.has(e))deep(e);else{const t=s?e.getAttribute(s):null,n=null!==t&&"false"!==t,r=getCounterMap(s),i=(r.get(e)||0)+1,a=(d.get(e)||0)+1;r.set(e,i),d.set(e,a),u.push(e),1===i&&n&&V.add(e),1===a&&e.setAttribute(o,""),!n&&s&&e.setAttribute(s,"inert"===s?"":"true")}})}(t),c.clear(),B++,()=>{u.forEach(e=>{const t=getCounterMap(s),n=(t.get(e)||0)-1,r=(d.get(e)||0)-1;t.set(e,n),d.set(e,r),n||(!V.has(e)&&s&&e.removeAttribute(s),V.delete(e)),r||e.removeAttribute(o)}),B--,B||($.inert=new WeakMap,$["aria-hidden"]=new WeakMap,$.none=new WeakMap,V=new WeakSet,W={})}}(e.concat(Array.from(r.querySelectorAll('[aria-live],[role="status"],output'))),r,t,n)}const z={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},H=o.forwardRef(function FocusGuard(e,t){const[n,r]=o.useState();(0,s.useModernLayoutEffect)(()=>{(0,s.isSafari)()&&r("button")},[]);const a={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[createAttribute("focus-guard")]:"",style:z};return(0,i.jsx)("span",{...e,...a})}),U=o.createContext(null),q=createAttribute("portal");function useFloatingPortalNode(e){void 0===e&&(e={});const{id:t,root:n}=e,r=O(),i=usePortalContext(),[c,l]=o.useState(null),u=o.useRef(null);return(0,s.useModernLayoutEffect)(()=>()=>{null==c||c.remove(),queueMicrotask(()=>{u.current=null})},[c]),(0,s.useModernLayoutEffect)(()=>{if(!r)return;if(u.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(q,""),e.appendChild(n),u.current=n,l(n)},[t,r]),(0,s.useModernLayoutEffect)(()=>{if(null===n)return;if(!r)return;if(u.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!(0,a.isNode)(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const s=document.createElement("div");s.id=r,s.setAttribute(q,""),e=o||e,e.appendChild(s),u.current=s,l(s)},[t,n,r,i]),c}function FloatingPortal(e){const{children:t,id:n,root:r,preserveTabOrder:a=!0}=e,c=useFloatingPortalNode({id:n,root:r}),[u,d]=o.useState(null),f=o.useRef(null),p=o.useRef(null),m=o.useRef(null),g=o.useRef(null),y=null==u?void 0:u.modal,h=null==u?void 0:u.open,v=!!u&&!u.modal&&u.open&&a&&!(!r&&!c);return o.useEffect(()=>{if(c&&a&&!y)return c.addEventListener("focusin",onFocus,!0),c.addEventListener("focusout",onFocus,!0),()=>{c.removeEventListener("focusin",onFocus,!0),c.removeEventListener("focusout",onFocus,!0)};function onFocus(e){if(c&&(0,s.isOutsideEvent)(e)){("focusin"===e.type?s.enableFocusInside:s.disableFocusInside)(c)}}},[c,a,y]),o.useEffect(()=>{c&&(h||(0,s.enableFocusInside)(c))},[h,c]),(0,i.jsxs)(U.Provider,{value:o.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:f,afterOutsideRef:p,beforeInsideRef:m,afterInsideRef:g,portalNode:c,setFocusManagerState:d}),[a,c]),children:[v&&c&&(0,i.jsx)(H,{"data-type":"outside",ref:f,onFocus:e=>{if((0,s.isOutsideEvent)(e,c)){var t;null==(t=m.current)||t.focus()}else{const e=u?u.domReference:null,t=(0,s.getPreviousTabbable)(e);null==t||t.focus()}}}),v&&c&&(0,i.jsx)("span",{"aria-owns":c.id,style:z}),c&&l.createPortal(t,c),v&&c&&(0,i.jsx)(H,{"data-type":"outside",ref:p,onFocus:e=>{if((0,s.isOutsideEvent)(e,c)){var t;null==(t=g.current)||t.focus()}else{const t=u?u.domReference:null,n=(0,s.getNextTabbable)(t);null==n||n.focus(),(null==u?void 0:u.closeOnFocusOut)&&(null==u||u.onOpenChange(!1,e.nativeEvent,"focus-out"))}}})]})}const usePortalContext=()=>o.useContext(U);function useLiteMergeRefs(e){return o.useMemo(()=>t=>{e.forEach(e=>{e&&(e.current=t)})},e)}const K=20;let G=[];function clearDisconnectedPreviouslyFocusedElements(){G=G.filter(e=>e.isConnected)}function getPreviouslyFocusedElement(){return clearDisconnectedPreviouslyFocusedElements(),G[G.length-1]}function handleTabIndex(e,t){var n;if(!(t.current.includes("floating")||null!=(n=e.getAttribute("role"))&&n.includes("dialog")))return;const r=(0,s.getTabbableOptions)(),o=(0,c.focusable)(e,r).filter(e=>{const t=e.getAttribute("data-tabindex")||"";return(0,c.isTabbable)(e,r)||e.hasAttribute("data-tabindex")&&!t.startsWith("-")}),i=e.getAttribute("tabindex");t.current.includes("floating")||0===o.length?"0"!==i&&e.setAttribute("tabindex","0"):("-1"!==i||e.hasAttribute("data-tabindex")&&"-1"!==e.getAttribute("data-tabindex"))&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const Y=o.forwardRef(function VisuallyHiddenDismiss(e,t){return(0,i.jsx)("button",{...e,type:"button",ref:t,tabIndex:-1,style:z})});function FloatingFocusManager(e){const{context:t,children:n,disabled:r=!1,order:l=["content"],guards:u=!0,initialFocus:d=0,returnFocus:f=!0,restoreFocus:p=!1,modal:m=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:y=!0,outsideElementsInert:h=!1,getInsideElements:v=()=>[]}=e,{open:b,onOpenChange:k,events:w,dataRef:E,elements:{domReference:T,floating:x}}=t,R=(0,s.useEffectEvent)(()=>{var e;return null==(e=E.current.floatingContext)?void 0:e.nodeId}),S=(0,s.useEffectEvent)(v),C="number"==typeof d&&d<0,P=(0,s.isTypeableCombobox)(T)&&C,I=supportsInert(),O=!I||u,L=!O||I&&h,M=(0,s.useLatestRef)(l),A=(0,s.useLatestRef)(d),_=(0,s.useLatestRef)(f),D=useFloatingTree(),N=usePortalContext(),F=o.useRef(null),j=o.useRef(null),$=o.useRef(!1),V=o.useRef(!1),W=o.useRef(-1),B=o.useRef(-1),U=null!=N,q=(0,s.getFloatingFocusElement)(x),X=(0,s.useEffectEvent)(function(e){return void 0===e&&(e=q),e?(0,c.tabbable)(e,(0,s.getTabbableOptions)()):[]}),J=(0,s.useEffectEvent)(e=>{const t=X(e);return M.current.map(e=>T&&"reference"===e?T:q&&"floating"===e?q:t).filter(Boolean).flat()});o.useEffect(()=>{if(r)return;if(!m)return;function onKeyDown(e){if("Tab"===e.key){(0,s.contains)(q,(0,s.activeElement)((0,s.getDocument)(q)))&&0===X().length&&!P&&(0,s.stopEvent)(e);const t=J(),n=(0,s.getTarget)(e);"reference"===M.current[0]&&n===T&&((0,s.stopEvent)(e),e.shiftKey?enqueueFocus(t[t.length-1]):enqueueFocus(t[1])),"floating"===M.current[1]&&n===q&&e.shiftKey&&((0,s.stopEvent)(e),enqueueFocus(t[0]))}}const e=(0,s.getDocument)(q);return e.addEventListener("keydown",onKeyDown),()=>{e.removeEventListener("keydown",onKeyDown)}},[r,T,q,m,M,P,X,J]),o.useEffect(()=>{if(!r&&x)return x.addEventListener("focusin",handleFocusIn),()=>{x.removeEventListener("focusin",handleFocusIn)};function handleFocusIn(e){const t=(0,s.getTarget)(e),n=X().indexOf(t);-1!==n&&(W.current=n)}},[r,x,X]),o.useEffect(()=>{if(r)return;if(!y)return;function handlePointerDown(){V.current=!0,setTimeout(()=>{V.current=!1})}function handleFocusOutside(e){const t=e.relatedTarget,n=e.currentTarget,r=(0,s.getTarget)(e);queueMicrotask(()=>{const o=R(),i=!((0,s.contains)(T,t)||(0,s.contains)(x,t)||(0,s.contains)(t,x)||(0,s.contains)(null==N?void 0:N.portalNode,t)||null!=t&&t.hasAttribute(createAttribute("focus-guard"))||D&&((0,s.getNodeChildren)(D.nodesRef.current,o).find(e=>{var n,r;return(0,s.contains)(null==(n=e.context)?void 0:n.elements.floating,t)||(0,s.contains)(null==(r=e.context)?void 0:r.elements.domReference,t)})||(0,s.getNodeAncestors)(D.nodesRef.current,o).find(e=>{var n,r,o;return[null==(n=e.context)?void 0:n.elements.floating,(0,s.getFloatingFocusElement)(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(o=e.context)?void 0:o.elements.domReference)===t})));if(n===T&&q&&handleTabIndex(q,M),p&&n!==T&&(null==r||!r.isConnected)&&(0,s.activeElement)((0,s.getDocument)(q))===(0,s.getDocument)(q).body){(0,a.isHTMLElement)(q)&&q.focus();const e=W.current,t=X(),n=t[e]||t[t.length-1]||q;(0,a.isHTMLElement)(n)&&n.focus()}E.current.insideReactTree?E.current.insideReactTree=!1:!P&&m||!t||!i||V.current||t===getPreviouslyFocusedElement()||($.current=!0,k(!1,e,"focus-out"))})}const e=Boolean(!D&&N);function markInsideReactTree(){clearTimeoutIfSet(B),E.current.insideReactTree=!0,B.current=window.setTimeout(()=>{E.current.insideReactTree=!1})}return x&&(0,a.isHTMLElement)(T)?(T.addEventListener("focusout",handleFocusOutside),T.addEventListener("pointerdown",handlePointerDown),x.addEventListener("focusout",handleFocusOutside),e&&x.addEventListener("focusout",markInsideReactTree,!0),()=>{T.removeEventListener("focusout",handleFocusOutside),T.removeEventListener("pointerdown",handlePointerDown),x.removeEventListener("focusout",handleFocusOutside),e&&x.removeEventListener("focusout",markInsideReactTree,!0)}):void 0},[r,T,x,q,m,D,N,k,y,p,X,P,R,M,E]);const Q=o.useRef(null),Z=o.useRef(null),ee=useLiteMergeRefs([Q,null==N?void 0:N.beforeInsideRef]),te=useLiteMergeRefs([Z,null==N?void 0:N.afterInsideRef]);function renderDismissButton(e){return!r&&g&&m?(0,i.jsx)(Y,{ref:"start"===e?F:j,onClick:e=>k(!1,e.nativeEvent),children:"string"==typeof g?g:"Dismiss"}):null}o.useEffect(()=>{var e,t;if(r)return;if(!x)return;const n=Array.from((null==N||null==(e=N.portalNode)?void 0:e.querySelectorAll("["+createAttribute("portal")+"]"))||[]),o=null==(t=(D?(0,s.getNodeAncestors)(D.nodesRef.current,R()):[]).find(e=>{var t;return(0,s.isTypeableCombobox)((null==(t=e.context)?void 0:t.elements.domReference)||null)}))||null==(t=t.context)?void 0:t.elements.domReference,i=[x,o,...n,...S(),F.current,j.current,Q.current,Z.current,null==N?void 0:N.beforeOutsideRef.current,null==N?void 0:N.afterOutsideRef.current,M.current.includes("reference")||P?T:null].filter(e=>null!=e),a=m||P?markOthers(i,!L,L):markOthers(i);return()=>{a()}},[r,T,x,m,M,N,P,O,L,D,R,S]),(0,s.useModernLayoutEffect)(()=>{if(r||!(0,a.isHTMLElement)(q))return;const e=(0,s.getDocument)(q),t=(0,s.activeElement)(e);queueMicrotask(()=>{const e=J(q),n=A.current,r=("number"==typeof n?e[n]:n.current)||q,o=(0,s.contains)(q,t);C||o||!b||enqueueFocus(r,{preventScroll:r===q})})},[r,b,q,C,J,A]),(0,s.useModernLayoutEffect)(()=>{if(r||!q)return;const e=(0,s.getDocument)(q);function onOpenChange(e){let{reason:t,event:n,nested:r}=e;if(["hover","safe-polygon"].includes(t)&&"mouseleave"===n.type&&($.current=!0),"outside-press"===t)if(r)$.current=!1;else if((0,s.isVirtualClick)(n)||(0,s.isVirtualPointerEvent)(n))$.current=!1;else{let e=!1;document.createElement("div").focus({get preventScroll(){return e=!0,!1}}),$.current=!e}}!function addPreviouslyFocusedElement(e){clearDisconnectedPreviouslyFocusedElements(),e&&"body"!==(0,a.getNodeName)(e)&&(G.push(e),G.length>K&&(G=G.slice(-20)))}((0,s.activeElement)(e)),w.on("openchange",onOpenChange);const t=e.createElement("span");return t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true"),Object.assign(t.style,z),U&&T&&T.insertAdjacentElement("afterend",t),()=>{w.off("openchange",onOpenChange);const n=(0,s.activeElement)(e),r=(0,s.contains)(x,n)||D&&(0,s.getNodeChildren)(D.nodesRef.current,R(),!1).some(e=>{var t;return(0,s.contains)(null==(t=e.context)?void 0:t.elements.floating,n)}),o=function getReturnElement(){if("boolean"==typeof _.current){const e=T||getPreviouslyFocusedElement();return e&&e.isConnected?e:t}return _.current.current||t}();queueMicrotask(()=>{const i=function getFirstTabbableElement(e){const t=(0,s.getTabbableOptions)();return(0,c.isTabbable)(e,t)?e:(0,c.tabbable)(e,t)[0]||e}(o);_.current&&!$.current&&(0,a.isHTMLElement)(i)&&(i===n||n===e.body||r)&&i.focus({preventScroll:!0}),t.remove()})}},[r,x,q,_,E,w,D,U,T,R]),o.useEffect(()=>(queueMicrotask(()=>{$.current=!1}),()=>{queueMicrotask(clearDisconnectedPreviouslyFocusedElements)}),[r]),(0,s.useModernLayoutEffect)(()=>{if(!r&&N)return N.setFocusManagerState({modal:m,closeOnFocusOut:y,open:b,onOpenChange:k,domReference:T}),()=>{N.setFocusManagerState(null)}},[r,N,m,b,k,y,T]),(0,s.useModernLayoutEffect)(()=>{r||q&&handleTabIndex(q,M)},[r,q,M]);const ne=!r&&O&&(!m||!P)&&(U||m);return(0,i.jsxs)(i.Fragment,{children:[ne&&(0,i.jsx)(H,{"data-type":"inside",ref:ee,onFocus:e=>{if(m){const e=J();enqueueFocus("reference"===l[0]?e[0]:e[e.length-1])}else if(null!=N&&N.preserveTabOrder&&N.portalNode)if($.current=!1,(0,s.isOutsideEvent)(e,N.portalNode)){const e=(0,s.getNextTabbable)(T);null==e||e.focus()}else{var t;null==(t=N.beforeOutsideRef.current)||t.focus()}}}),!P&&renderDismissButton("start"),n,renderDismissButton("end"),ne&&(0,i.jsx)(H,{"data-type":"inside",ref:te,onFocus:e=>{if(m)enqueueFocus(J()[0]);else if(null!=N&&N.preserveTabOrder&&N.portalNode)if(y&&($.current=!0),(0,s.isOutsideEvent)(e,N.portalNode)){const e=(0,s.getPreviousTabbable)(T);null==e||e.focus()}else{var t;null==(t=N.afterOutsideRef.current)||t.focus()}}})]})}let X=0;const J="--floating-ui-scrollbar-width";let cleanup=()=>{};const Q=o.forwardRef(function FloatingOverlay(e,t){const{lockScroll:n=!1,...r}=e;return(0,s.useModernLayoutEffect)(()=>{if(n)return X++,1===X&&(cleanup=function enableScrollLock(){const e=(0,s.getPlatform)(),t=/iP(hone|ad|od)|iOS/.test(e)||"MacIntel"===e&&navigator.maxTouchPoints>1,n=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,i=n.left?parseFloat(n.left):window.scrollX,a=n.top?parseFloat(n.top):window.scrollY;if(n.overflow="hidden",n.setProperty(J,o+"px"),o&&(n[r]=o+"px"),t){var c,l;const e=(null==(c=window.visualViewport)?void 0:c.offsetLeft)||0,t=(null==(l=window.visualViewport)?void 0:l.offsetTop)||0;Object.assign(n,{position:"fixed",top:-(a-Math.floor(t))+"px",left:-(i-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(n,{overflow:"",[r]:""}),n.removeProperty(J),t&&(Object.assign(n,{position:"",top:"",left:"",right:""}),window.scrollTo(i,a))}}()),()=>{X--,0===X&&cleanup()}},[n]),(0,i.jsx)("div",{ref:t,...r,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}})});function isButtonTarget(e){return(0,a.isHTMLElement)(e.target)&&"BUTTON"===e.target.tagName}function isSpaceIgnored(e){return(0,s.isTypeableElement)(e)}function useClick(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:c}}=e,{enabled:l=!0,event:u="click",toggle:d=!0,ignoreMouse:f=!1,keyboardHandlers:p=!0,stickIfOpen:m=!0}=t,g=o.useRef(),y=o.useRef(!1),h=o.useMemo(()=>({onPointerDown(e){g.current=e.pointerType},onMouseDown(e){const t=g.current;0===e.button&&"click"!==u&&((0,s.isMouseLikePointerType)(t,!0)&&f||(!n||!d||i.current.openEvent&&m&&"mousedown"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=g.current;"mousedown"===u&&g.current?g.current=void 0:(0,s.isMouseLikePointerType)(t,!0)&&f||(!n||!d||i.current.openEvent&&m&&"click"!==i.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){g.current=void 0,e.defaultPrevented||!p||isButtonTarget(e)||(" "!==e.key||isSpaceIgnored(c)||(e.preventDefault(),y.current=!0),function isAnchorTarget(e){return(0,a.isHTMLElement)(e.target)&&"A"===e.target.tagName}(e)||"Enter"===e.key&&r(!n||!d,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!p||isButtonTarget(e)||isSpaceIgnored(c)||" "===e.key&&y.current&&(y.current=!1,r(!n||!d,e.nativeEvent,"click"))}}),[i,c,u,f,p,r,n,m,d]);return o.useMemo(()=>l?{reference:h}:{},[l,h])}function isMouseBasedEvent(e){return null!=e&&null!=e.clientX}function useClientPoint(e,t){void 0===t&&(t={});const{open:n,dataRef:r,elements:{floating:i,domReference:c},refs:l}=e,{enabled:u=!0,axis:d="both",x:f=null,y:p=null}=t,m=o.useRef(!1),g=o.useRef(null),[y,h]=o.useState(),[v,b]=o.useState([]),k=(0,s.useEffectEvent)((e,t)=>{m.current||r.current.openEvent&&!isMouseBasedEvent(r.current.openEvent)||l.setPositionReference(function createVirtualElement(e,t){let n=null,r=null,o=!1;return{contextElement:e||void 0,getBoundingClientRect(){var s;const i=(null==e?void 0:e.getBoundingClientRect())||{width:0,height:0,x:0,y:0},a="x"===t.axis||"both"===t.axis,c="y"===t.axis||"both"===t.axis,l=["mouseenter","mousemove"].includes((null==(s=t.dataRef.current.openEvent)?void 0:s.type)||"")&&"touch"!==t.pointerType;let u=i.width,d=i.height,f=i.x,p=i.y;return null==n&&t.x&&a&&(n=i.x-t.x),null==r&&t.y&&c&&(r=i.y-t.y),f-=n||0,p-=r||0,u=0,d=0,!o||l?(u="y"===t.axis?i.width:0,d="x"===t.axis?i.height:0,f=a&&null!=t.x?t.x:f,p=c&&null!=t.y?t.y:p):o&&!l&&(d="x"===t.axis?i.height:d,u="y"===t.axis?i.width:u),o=!0,{width:u,height:d,x:f,y:p,top:p,right:f+u,bottom:p+d,left:f}}}}(c,{x:e,y:t,axis:d,dataRef:r,pointerType:y}))}),w=(0,s.useEffectEvent)(e=>{null==f&&null==p&&(n?g.current||b([]):k(e.clientX,e.clientY))}),E=(0,s.isMouseLikePointerType)(y)?i:n,T=o.useCallback(()=>{if(!E||!u||null!=f||null!=p)return;const e=(0,a.getWindow)(i);function handleMouseMove(t){const n=(0,s.getTarget)(t);(0,s.contains)(i,n)?(e.removeEventListener("mousemove",handleMouseMove),g.current=null):k(t.clientX,t.clientY)}if(!r.current.openEvent||isMouseBasedEvent(r.current.openEvent)){e.addEventListener("mousemove",handleMouseMove);const cleanup=()=>{e.removeEventListener("mousemove",handleMouseMove),g.current=null};return g.current=cleanup,cleanup}l.setPositionReference(c)},[E,u,f,p,i,r,l,c,k]);o.useEffect(()=>T(),[T,v]),o.useEffect(()=>{u&&!i&&(m.current=!1)},[u,i]),o.useEffect(()=>{!u&&n&&(m.current=!0)},[u,n]),(0,s.useModernLayoutEffect)(()=>{!u||null==f&&null==p||(m.current=!1,k(f,p))},[u,f,p,k]);const x=o.useMemo(()=>{function setPointerTypeRef(e){let{pointerType:t}=e;h(t)}return{onPointerDown:setPointerTypeRef,onPointerEnter:setPointerTypeRef,onMouseMove:w,onMouseEnter:w}},[w]);return o.useMemo(()=>u?{reference:x}:{},[u,x])}const Z={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ee={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},normalizeProp=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function useDismiss(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:c}=e,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:g=!1,bubbles:y,capture:h}=t,v=useFloatingTree(),b=(0,s.useEffectEvent)("function"==typeof d?d:()=>!1),k="function"==typeof d?b:d,w=o.useRef(!1),{escapeKey:E,outsidePress:T}=normalizeProp(y),{escapeKey:x,outsidePress:R}=normalizeProp(h),S=o.useRef(!1),C=(0,s.useEffectEvent)(e=>{var t;if(!n||!l||!u||"Escape"!==e.key)return;if(S.current)return;const o=null==(t=c.current.floatingContext)?void 0:t.nodeId,i=v?(0,s.getNodeChildren)(v.nodesRef.current,o):[];if(!E&&(e.stopPropagation(),i.length>0)){let e=!0;if(i.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)}),!e)return}r(!1,(0,s.isReactEvent)(e)?e.nativeEvent:e,"escape-key")}),P=(0,s.useEffectEvent)(e=>{var t;const callback=()=>{var t;C(e),null==(t=(0,s.getTarget)(e))||t.removeEventListener("keydown",callback)};null==(t=(0,s.getTarget)(e))||t.addEventListener("keydown",callback)}),I=(0,s.useEffectEvent)(e=>{var t;const n=c.current.insideReactTree;c.current.insideReactTree=!1;const o=w.current;if(w.current=!1,"click"===f&&o)return;if(n)return;if("function"==typeof k&&!k(e))return;const l=(0,s.getTarget)(e),u="["+createAttribute("inert")+"]",d=(0,s.getDocument)(i.floating).querySelectorAll(u);let p=(0,a.isElement)(l)?l:null;for(;p&&!(0,a.isLastTraversableNode)(p);){const e=(0,a.getParentNode)(p);if((0,a.isLastTraversableNode)(e)||!(0,a.isElement)(e))break;p=e}if(d.length&&(0,a.isElement)(l)&&!(0,s.isRootElement)(l)&&!(0,s.contains)(l,i.floating)&&Array.from(d).every(e=>!(0,s.contains)(p,e)))return;if((0,a.isHTMLElement)(l)&&M){const t=(0,a.isLastTraversableNode)(l),n=(0,a.getComputedStyle)(l),r=/auto|scroll/,o=t||r.test(n.overflowX),s=t||r.test(n.overflowY),i=o&&l.clientWidth>0&&l.scrollWidth>l.clientWidth,c=s&&l.clientHeight>0&&l.scrollHeight>l.clientHeight,u="rtl"===n.direction,d=c&&(u?e.offsetX<=l.offsetWidth-l.clientWidth:e.offsetX>l.clientWidth),f=i&&e.offsetY>l.clientHeight;if(d||f)return}const m=null==(t=c.current.floatingContext)?void 0:t.nodeId,g=v&&(0,s.getNodeChildren)(v.nodesRef.current,m).some(t=>{var n;return(0,s.isEventTargetWithin)(e,null==(n=t.context)?void 0:n.elements.floating)});if((0,s.isEventTargetWithin)(e,i.floating)||(0,s.isEventTargetWithin)(e,i.domReference)||g)return;const y=v?(0,s.getNodeChildren)(v.nodesRef.current,m):[];if(y.length>0){let e=!0;if(y.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)}),!e)return}r(!1,e,"outside-press")}),O=(0,s.useEffectEvent)(e=>{var t;const callback=()=>{var t;I(e),null==(t=(0,s.getTarget)(e))||t.removeEventListener(f,callback)};null==(t=(0,s.getTarget)(e))||t.addEventListener(f,callback)});o.useEffect(()=>{if(!n||!l)return;c.current.__escapeKeyBubbles=E,c.current.__outsidePressBubbles=T;let e=-1;function onScroll(e){r(!1,e,"ancestor-scroll")}function handleCompositionStart(){window.clearTimeout(e),S.current=!0}function handleCompositionEnd(){e=window.setTimeout(()=>{S.current=!1},(0,a.isWebKit)()?5:0)}const t=(0,s.getDocument)(i.floating);u&&(t.addEventListener("keydown",x?P:C,x),t.addEventListener("compositionstart",handleCompositionStart),t.addEventListener("compositionend",handleCompositionEnd)),k&&t.addEventListener(f,R?O:I,R);let o=[];return g&&((0,a.isElement)(i.domReference)&&(o=(0,a.getOverflowAncestors)(i.domReference)),(0,a.isElement)(i.floating)&&(o=o.concat((0,a.getOverflowAncestors)(i.floating))),!(0,a.isElement)(i.reference)&&i.reference&&i.reference.contextElement&&(o=o.concat((0,a.getOverflowAncestors)(i.reference.contextElement)))),o=o.filter(e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)}),o.forEach(e=>{e.addEventListener("scroll",onScroll,{passive:!0})}),()=>{u&&(t.removeEventListener("keydown",x?P:C,x),t.removeEventListener("compositionstart",handleCompositionStart),t.removeEventListener("compositionend",handleCompositionEnd)),k&&t.removeEventListener(f,R?O:I,R),o.forEach(e=>{e.removeEventListener("scroll",onScroll)}),window.clearTimeout(e)}},[c,i,u,k,f,n,r,g,l,E,T,C,x,P,I,R,O]),o.useEffect(()=>{c.current.insideReactTree=!1},[c,k,f]);const L=o.useMemo(()=>({onKeyDown:C,...p&&{[Z[m]]:e=>{r(!1,e.nativeEvent,"reference-press")},..."click"!==m&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}}}),[C,r,p,m]),M=o.useMemo(()=>({onKeyDown:C,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[ee[f]]:()=>{c.current.insideReactTree=!0}}),[C,f,c]);return o.useMemo(()=>l?{reference:L,floating:M}:{},[l,L,M])}function useFloatingRootContext(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=O(),c=o.useRef({}),[l]=o.useState(()=>createEventEmitter()),u=null!=useFloatingParentNodeId();{const e=r.reference;e&&!(0,a.isElement)(e)&&function error(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o="Floating UI: "+n.join(" ");var s;null!=(e=L)&&e.has(o)||(null==(s=L)||s.add(o),console.error(o))}("Cannot pass a virtual element to the `elements.reference` option,","as it must be a real DOM element. Use `refs.setPositionReference()`","instead.")}const[d,f]=o.useState(r.reference),p=(0,s.useEffectEvent)((e,t,r)=>{c.current.openEvent=e?t:void 0,l.emit("openchange",{open:e,event:t,reason:r,nested:u}),null==n||n(e,t,r)}),m=o.useMemo(()=>({setPositionReference:f}),[]),g=o.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return o.useMemo(()=>({dataRef:c,open:t,onOpenChange:p,elements:g,events:l,floatingId:i,refs:m}),[t,p,g,l,i,m])}function useFloating(e){void 0===e&&(e={});const{nodeId:t}=e,n=useFloatingRootContext({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[c,l]=o.useState(null),[d,f]=o.useState(null),p=(null==i?void 0:i.domReference)||c,m=o.useRef(null),g=useFloatingTree();(0,s.useModernLayoutEffect)(()=>{p&&(m.current=p)},[p]);const y=(0,u.useFloating)({...e,elements:{...i,...d&&{reference:d}}}),h=o.useCallback(e=>{const t=(0,a.isElement)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;f(t),y.refs.setReference(t)},[y.refs]),v=o.useCallback(e=>{((0,a.isElement)(e)||null===e)&&(m.current=e,l(e)),((0,a.isElement)(y.refs.reference.current)||null===y.refs.reference.current||null!==e&&!(0,a.isElement)(e))&&y.refs.setReference(e)},[y.refs]),b=o.useMemo(()=>({...y.refs,setReference:v,setPositionReference:h,domReference:m}),[y.refs,v,h]),k=o.useMemo(()=>({...y.elements,domReference:p}),[y.elements,p]),w=o.useMemo(()=>({...y,...r,refs:b,elements:k,nodeId:t}),[y,b,k,t,r]);return(0,s.useModernLayoutEffect)(()=>{r.dataRef.current.floatingContext=w;const e=null==g?void 0:g.nodesRef.current.find(e=>e.id===t);e&&(e.context=w)}),o.useMemo(()=>({...y,context:w,refs:b,elements:k}),[y,b,k,w])}function isMacSafari(){return(0,s.isMac)()&&(0,s.isSafari)()}function useFocus(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:c,elements:l}=e,{enabled:u=!0,visibleOnly:d=!0}=t,f=o.useRef(!1),p=o.useRef(-1),m=o.useRef(!0);o.useEffect(()=>{if(!u)return;const e=(0,a.getWindow)(l.domReference);function onBlur(){!n&&(0,a.isHTMLElement)(l.domReference)&&l.domReference===(0,s.activeElement)((0,s.getDocument)(l.domReference))&&(f.current=!0)}function onKeyDown(){m.current=!0}function onPointerDown(){m.current=!1}return e.addEventListener("blur",onBlur),isMacSafari()&&(e.addEventListener("keydown",onKeyDown,!0),e.addEventListener("pointerdown",onPointerDown,!0)),()=>{e.removeEventListener("blur",onBlur),isMacSafari()&&(e.removeEventListener("keydown",onKeyDown,!0),e.removeEventListener("pointerdown",onPointerDown,!0))}},[l.domReference,n,u]),o.useEffect(()=>{if(u)return i.on("openchange",onOpenChange),()=>{i.off("openchange",onOpenChange)};function onOpenChange(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(f.current=!0)}},[i,u]),o.useEffect(()=>()=>{clearTimeoutIfSet(p)},[]);const g=o.useMemo(()=>({onMouseLeave(){f.current=!1},onFocus(e){if(f.current)return;const t=(0,s.getTarget)(e.nativeEvent);if(d&&(0,a.isElement)(t))if(isMacSafari()&&!e.relatedTarget){if(!m.current&&!(0,s.isTypeableElement)(t))return}else if(!(0,s.matchesFocusVisible)(t))return;r(!0,e.nativeEvent,"focus")},onBlur(e){f.current=!1;const t=e.relatedTarget,n=e.nativeEvent,o=(0,a.isElement)(t)&&t.hasAttribute(createAttribute("focus-guard"))&&"outside"===t.getAttribute("data-type");p.current=window.setTimeout(()=>{var e;const i=(0,s.activeElement)(l.domReference?l.domReference.ownerDocument:document);(t||i!==l.domReference)&&((0,s.contains)(null==(e=c.current.floatingContext)?void 0:e.refs.floating.current,i)||(0,s.contains)(l.domReference,i)||o||r(!1,n,"focus"))})}}),[c,l.domReference,r,d]);return o.useMemo(()=>u?{reference:g}:{},[u,g])}function mergeProps(e,t,n){const r=new Map,o="item"===n;let s=e;if(o&&e){const{[g]:t,[y]:n,...r}=e;s=r}return{..."floating"===n&&{tabIndex:-1,[m]:""},...s,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,s]=t;var i;o&&[g,y].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof s&&(null==(i=r.get(n))||i.push(s),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return null==(e=r.get(n))?void 0:e.map(e=>e(...o)).find(e=>void 0!==e)})):e[n]=s)}),e):e,{})}}function useInteractions(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),s=o.useCallback(t=>mergeProps(t,e,"reference"),t),i=o.useCallback(t=>mergeProps(t,e,"floating"),n),a=o.useCallback(t=>mergeProps(t,e,"item"),r);return o.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:a}),[s,i,a])}const te="Escape";function doSwitch(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function isMainOrientationKey(e,t){return doSwitch(t,e===b||e===k,e===h||e===v)}function isMainOrientationToEndKey(e,t,n){return doSwitch(t,e===k,n?e===h:e===v)||"Enter"===e||" "===e||""===e}function isCrossOrientationOpenKey(e,t,n){return doSwitch(t,n?e===h:e===v,e===k)}function isCrossOrientationCloseKey(e,t,n,r){return"both"===t||"horizontal"===t&&r&&r>1?e===te:doSwitch(t,n?e===v:e===h,e===b)}function useListNavigation(e,t){const{open:n,onOpenChange:r,elements:i,floatingId:c}=e,{listRef:l,activeIndex:u,onNavigate:d=()=>{},enabled:f=!0,selectedIndex:p=null,allowEscape:m=!1,loop:g=!1,nested:y=!1,rtl:b=!1,virtual:w=!1,focusItemOnOpen:E="auto",focusItemOnHover:T=!0,openOnArrowKeyDown:x=!0,disabledIndices:R,orientation:S="vertical",parentOrientation:C,cols:P=1,scrollItemIntoView:I=!0,virtualItemRef:O,itemSizes:L,dense:M=!1}=t;m&&(g||warn("`useListNavigation` looping must be enabled to allow escaping."),w||warn("`useListNavigation` must be virtual to allow escaping.")),"vertical"===S&&P>1&&warn("In grid list navigation mode (`cols` > 1), the `orientation` should",'be either "horizontal" or "both".');const A=(0,s.getFloatingFocusElement)(i.floating),_=(0,s.useLatestRef)(A),D=useFloatingParentNodeId(),N=useFloatingTree();(0,s.useModernLayoutEffect)(()=>{e.dataRef.current.orientation=S},[e,S]);const F=(0,s.useEffectEvent)(()=>{d(-1===V.current?null:V.current)}),j=(0,s.isTypeableCombobox)(i.domReference),$=o.useRef(E),V=o.useRef(null!=p?p:-1),W=o.useRef(null),B=o.useRef(!0),z=o.useRef(F),H=o.useRef(!!i.floating),U=o.useRef(n),q=o.useRef(!1),K=o.useRef(!1),G=(0,s.useLatestRef)(R),Y=(0,s.useLatestRef)(n),X=(0,s.useLatestRef)(I),J=(0,s.useLatestRef)(p),[Q,Z]=o.useState(),[ee,te]=o.useState(),ne=(0,s.useEffectEvent)(()=>{function runFocus(e){var t;w?(null!=(t=e.id)&&t.endsWith("-fui-option")&&(e.id=c+"-"+Math.random().toString(16).slice(2,10)),Z(e.id),null==N||N.events.emit("virtualfocus",e),O&&(O.current=e)):enqueueFocus(e,{sync:q.current,preventScroll:!0})}const e=l.current[V.current],t=K.current;e&&runFocus(e);(q.current?e=>e():requestAnimationFrame)(()=>{const n=l.current[V.current]||e;if(!n)return;e||runFocus(n);const r=X.current;r&&oe&&(t||!B.current)&&(null==n.scrollIntoView||n.scrollIntoView("boolean"==typeof r?{block:"nearest",inline:"nearest"}:r))})});(0,s.useModernLayoutEffect)(()=>{f&&(n&&i.floating?$.current&&null!=p&&(K.current=!0,V.current=p,F()):H.current&&(V.current=-1,z.current()))},[f,n,i.floating,p,F]),(0,s.useModernLayoutEffect)(()=>{if(f&&n&&i.floating)if(null==u){if(q.current=!1,null!=J.current)return;if(H.current&&(V.current=-1,ne()),(!U.current||!H.current)&&$.current&&(null!=W.current||!0===$.current&&null==W.current)){let e=0;const waitForListPopulated=()=>{if(null==l.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(waitForListPopulated)}e++}else V.current=null==W.current||isMainOrientationToEndKey(W.current,S,b)||y?(0,s.getMinListIndex)(l,G.current):(0,s.getMaxListIndex)(l,G.current),W.current=null,F()};waitForListPopulated()}}else(0,s.isIndexOutOfListBounds)(l,u)||(V.current=u,ne(),K.current=!1)},[f,n,i.floating,u,J,y,l,S,b,F,ne,G]),(0,s.useModernLayoutEffect)(()=>{var e;if(!f||i.floating||!N||w||!H.current)return;const t=N.nodesRef.current,n=null==(e=t.find(e=>e.id===D))||null==(e=e.context)?void 0:e.elements.floating,r=(0,s.activeElement)((0,s.getDocument)(i.floating)),o=t.some(e=>e.context&&(0,s.contains)(e.context.elements.floating,r));n&&!o&&B.current&&n.focus({preventScroll:!0})},[f,i.floating,N,D,w]),(0,s.useModernLayoutEffect)(()=>{if(f&&N&&w&&!D)return N.events.on("virtualfocus",handleVirtualFocus),()=>{N.events.off("virtualfocus",handleVirtualFocus)};function handleVirtualFocus(e){te(e.id),O&&(O.current=e)}},[f,N,w,D,O]),(0,s.useModernLayoutEffect)(()=>{z.current=F,U.current=n,H.current=!!i.floating}),(0,s.useModernLayoutEffect)(()=>{n||(W.current=null,$.current=E)},[n,E]);const re=null!=u,oe=o.useMemo(()=>{function syncCurrentTarget(e){if(!Y.current)return;const t=l.current.indexOf(e);-1!==t&&V.current!==t&&(V.current=t,F())}return{onFocus(e){let{currentTarget:t}=e;q.current=!0,syncCurrentTarget(t)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},onMouseMove(e){let{currentTarget:t}=e;q.current=!0,K.current=!1,T&&syncCurrentTarget(t)},onPointerLeave(e){let{pointerType:t}=e;var n;B.current&&"touch"!==t&&(q.current=!0,T&&(V.current=-1,F(),w||null==(n=_.current)||n.focus({preventScroll:!0})))}}},[Y,_,T,l,F,w]),se=o.useCallback(()=>{var e;return null!=C?C:null==N||null==(e=N.nodesRef.current.find(e=>e.id===D))||null==(e=e.context)||null==(e=e.dataRef)?void 0:e.current.orientation},[D,N,C]),ie=(0,s.useEffectEvent)(e=>{if(B.current=!1,q.current=!0,229===e.which)return;if(!Y.current&&e.currentTarget===_.current)return;if(y&&isCrossOrientationCloseKey(e.key,S,b,P))return isMainOrientationKey(e.key,se())||(0,s.stopEvent)(e),r(!1,e.nativeEvent,"list-navigation"),void((0,a.isHTMLElement)(i.domReference)&&(w?null==N||N.events.emit("virtualfocus",i.domReference):i.domReference.focus()));const t=V.current,o=(0,s.getMinListIndex)(l,R),c=(0,s.getMaxListIndex)(l,R);if(j||("Home"===e.key&&((0,s.stopEvent)(e),V.current=o,F()),"End"===e.key&&((0,s.stopEvent)(e),V.current=c,F())),P>1){const t=L||Array.from({length:l.current.length},()=>({width:1,height:1})),n=(0,s.createGridCellMap)(t,P,M),r=n.findIndex(e=>null!=e&&!(0,s.isListIndexDisabled)(l,e,R)),i=n.reduce((e,t,n)=>null==t||(0,s.isListIndexDisabled)(l,t,R)?e:n,-1),a=n[(0,s.getGridNavigatedIndex)({current:n.map(e=>null!=e?l.current[e]:null)},{event:e,orientation:S,loop:g,rtl:b,cols:P,disabledIndices:(0,s.getGridCellIndices)([...("function"!=typeof R?R:null)||l.current.map((e,t)=>(0,s.isListIndexDisabled)(l,t,R)?t:void 0),void 0],n),minIndex:r,maxIndex:i,prevIndex:(0,s.getGridCellIndexOfCorner)(V.current>c?o:V.current,t,n,P,e.key===k?"bl":e.key===(b?h:v)?"tr":"tl"),stopEvent:!0})];if(null!=a&&(V.current=a,F()),"both"===S)return}if(isMainOrientationKey(e.key,S)){if((0,s.stopEvent)(e),n&&!w&&(0,s.activeElement)(e.currentTarget.ownerDocument)===e.currentTarget)return V.current=isMainOrientationToEndKey(e.key,S,b)?o:c,void F();isMainOrientationToEndKey(e.key,S,b)?V.current=g?t>=c?m&&t!==l.current.length?-1:o:(0,s.findNonDisabledListIndex)(l,{startingIndex:t,disabledIndices:R}):Math.min(c,(0,s.findNonDisabledListIndex)(l,{startingIndex:t,disabledIndices:R})):V.current=g?t<=o?m&&-1!==t?l.current.length:c:(0,s.findNonDisabledListIndex)(l,{startingIndex:t,decrement:!0,disabledIndices:R}):Math.max(o,(0,s.findNonDisabledListIndex)(l,{startingIndex:t,decrement:!0,disabledIndices:R})),(0,s.isIndexOutOfListBounds)(l,V.current)&&(V.current=-1),F()}}),ae=o.useMemo(()=>w&&n&&re&&{"aria-activedescendant":ee||Q},[w,n,re,ee,Q]),ce=o.useMemo(()=>({"aria-orientation":"both"===S?void 0:S,...j?{}:ae,onKeyDown:ie,onPointerMove(){B.current=!0}}),[ae,ie,S,j]),le=o.useMemo(()=>{function checkVirtualMouse(e){"auto"===E&&(0,s.isVirtualClick)(e.nativeEvent)&&($.current=!0)}function checkVirtualPointer(e){$.current=E,"auto"===E&&(0,s.isVirtualPointerEvent)(e.nativeEvent)&&($.current=!0)}return{...ae,onKeyDown(e){B.current=!1;const t=e.key.startsWith("Arrow"),o=["Home","End"].includes(e.key),i=t||o,a=isCrossOrientationOpenKey(e.key,S,b),c=isCrossOrientationCloseKey(e.key,S,b,P),u=isCrossOrientationOpenKey(e.key,se(),b),d=isMainOrientationKey(e.key,S),f=(y?u:d)||"Enter"===e.key||""===e.key.trim();if(w&&n){const t=null==N?void 0:N.nodesRef.current.find(e=>null==e.parentId),n=N&&t?(0,s.getDeepestNode)(N.nodesRef.current,t.id):null;if(i&&n&&O){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(a||c){var m,g;const r=(null==(m=n.context)?void 0:m.elements.domReference)===e.currentTarget,o=c&&!r?null==(g=n.context)?void 0:g.elements.domReference:a?l.current.find(e=>(null==e?void 0:e.id)===Q):null;o&&((0,s.stopEvent)(e),o.dispatchEvent(t),te(void 0))}var h;if((d||o)&&n.context)if(n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return(0,s.stopEvent)(e),void(null==(h=n.context.elements.domReference)||h.dispatchEvent(t))}return ie(e)}if(n||x||!t){if(f){const t=isMainOrientationKey(e.key,se());W.current=y&&t?null:e.key}y?u&&((0,s.stopEvent)(e),n?(V.current=(0,s.getMinListIndex)(l,G.current),F()):r(!0,e.nativeEvent,"list-navigation")):d&&(null!=p&&(V.current=p),(0,s.stopEvent)(e),!n&&x?r(!0,e.nativeEvent,"list-navigation"):ie(e),n&&F())}},onFocus(){n&&!w&&(V.current=-1,F())},onPointerDown:checkVirtualPointer,onPointerEnter:checkVirtualPointer,onMouseDown:checkVirtualMouse,onClick:checkVirtualMouse}},[Q,ae,P,ie,G,E,l,y,F,r,n,x,S,se,b,p,N,w,O]);return o.useMemo(()=>f?{reference:le,floating:ce,item:oe}:{},[f,le,ce,oe])}const ne=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function useRole(e,t){var n,r;void 0===t&&(t={});const{open:i,elements:a,floatingId:c}=e,{enabled:l=!0,role:u="dialog"}=t,d=O(),f=(null==(n=a.domReference)?void 0:n.id)||d,p=o.useMemo(()=>{var e;return(null==(e=(0,s.getFloatingFocusElement)(a.floating))?void 0:e.id)||c},[a.floating,c]),m=null!=(r=ne.get(u))?r:u,g=null!=useFloatingParentNodeId(),y=o.useMemo(()=>"tooltip"===m||"label"===u?{["aria-"+("label"===u?"labelledby":"describedby")]:i?p:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===m?"dialog":m,"aria-controls":i?p:void 0,..."listbox"===m&&{role:"combobox"},..."menu"===m&&{id:f},..."menu"===m&&g&&{role:"menuitem"},..."select"===u&&{"aria-autocomplete":"none"},..."combobox"===u&&{"aria-autocomplete":"list"}},[m,p,g,i,f,u]),h=o.useMemo(()=>{const e={id:p,...m&&{role:m}};return"tooltip"===m||"label"===u?e:{...e,..."menu"===m&&{"aria-labelledby":f}}},[m,p,f,u]),v=o.useCallback(e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:p+"-fui-option"}};switch(u){case"select":case"combobox":return{...r,"aria-selected":n}}return{}},[p,u]);return o.useMemo(()=>l?{reference:y,floating:h,item:v}:{},[l,y,h,v])}const camelCaseToKebabCase=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?"-":"")+e.toLowerCase());function execWithArgsOrReturn(e,t){return"function"==typeof e?e(t):e}function useTransitionStatus(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,a=("number"==typeof i?i:i.close)||0,[c,u]=o.useState("unmounted"),d=function useDelayUnmount(e,t){const[n,r]=o.useState(e);return e&&!n&&r(!0),o.useEffect(()=>{if(!e&&n){const e=setTimeout(()=>r(!1),t);return()=>clearTimeout(e)}},[e,n,t]),n}(n,a);return d||"close"!==c||u("unmounted"),(0,s.useModernLayoutEffect)(()=>{if(r){if(n){u("initial");const e=requestAnimationFrame(()=>{l.flushSync(()=>{u("open")})});return()=>{cancelAnimationFrame(e)}}u("close")}},[n,r]),{isMounted:d,status:c}}function useTransitionStyles(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:r,close:i,common:a,duration:c=250}=t,l=e.placement,u=l.split("-")[0],d=o.useMemo(()=>({side:u,placement:l}),[u,l]),f="number"==typeof c,p=(f?c:c.open)||0,m=(f?c:c.close)||0,[g,y]=o.useState(()=>({...execWithArgsOrReturn(a,d),...execWithArgsOrReturn(n,d)})),{isMounted:h,status:v}=useTransitionStatus(e,{duration:c}),b=(0,s.useLatestRef)(n),k=(0,s.useLatestRef)(r),w=(0,s.useLatestRef)(i),E=(0,s.useLatestRef)(a);return(0,s.useModernLayoutEffect)(()=>{const e=execWithArgsOrReturn(b.current,d),t=execWithArgsOrReturn(w.current,d),n=execWithArgsOrReturn(E.current,d),r=execWithArgsOrReturn(k.current,d)||Object.keys(e).reduce((e,t)=>(e[t]="",e),{});if("initial"===v&&y(t=>({transitionProperty:t.transitionProperty,...n,...e})),"open"===v&&y({transitionProperty:Object.keys(r).map(camelCaseToKebabCase).join(","),transitionDuration:p+"ms",...n,...r}),"close"===v){const r=t||e;y({transitionProperty:Object.keys(r).map(camelCaseToKebabCase).join(","),transitionDuration:m+"ms",...n,...r})}},[m,w,b,k,E,p,v,d]),{isMounted:h,styles:g}}function useTypeahead(e,t){var n;const{open:r,dataRef:i}=e,{listRef:a,activeIndex:c,onMatch:l,onTypingChange:u,enabled:d=!0,findMatch:f=null,resetMs:p=750,ignoreKeys:m=[],selectedIndex:g=null}=t,y=o.useRef(-1),h=o.useRef(""),v=o.useRef(null!=(n=null!=g?g:c)?n:-1),b=o.useRef(null),k=(0,s.useEffectEvent)(l),w=(0,s.useEffectEvent)(u),E=(0,s.useLatestRef)(f),T=(0,s.useLatestRef)(m);(0,s.useModernLayoutEffect)(()=>{r&&(clearTimeoutIfSet(y),b.current=null,h.current="")},[r]),(0,s.useModernLayoutEffect)(()=>{var e;r&&""===h.current&&(v.current=null!=(e=null!=g?g:c)?e:-1)},[r,g,c]);const x=(0,s.useEffectEvent)(e=>{e?i.current.typing||(i.current.typing=e,w(e)):i.current.typing&&(i.current.typing=e,w(e))}),R=(0,s.useEffectEvent)(e=>{function getMatchingIndex(e,t,n){const r=E.current?E.current(t,n):t.find(e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase())));return r?e.indexOf(r):-1}const t=a.current;if(h.current.length>0&&" "!==h.current[0]&&(-1===getMatchingIndex(t,t,h.current)?x(!1):" "===e.key&&(0,s.stopEvent)(e)),null==t||T.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&" "!==e.key&&((0,s.stopEvent)(e),x(!0));t.every(e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())})&&h.current===e.key&&(h.current="",v.current=b.current),h.current+=e.key,clearTimeoutIfSet(y),y.current=window.setTimeout(()=>{h.current="",v.current=b.current,x(!1)},p);const n=v.current,o=getMatchingIndex(t,[...t.slice((n||0)+1),...t.slice(0,(n||0)+1)],h.current);-1!==o?(k(o),b.current=o):" "!==e.key&&(h.current="",x(!1))}),S=o.useMemo(()=>({onKeyDown:R}),[R]),C=o.useMemo(()=>({onKeyDown:R,onKeyUp(e){" "===e.key&&x(!1)}}),[R,x]);return o.useMemo(()=>d?{reference:S,floating:C}:{},[d,S,C])}function getArgsWithCustomFloatingHeight(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const inner=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:s=0,index:i=0,minItemsVisible:a=4,referenceOverflowThreshold:c=0,scrollRef:p,...m}=(0,f.evaluate)(e,t),{rects:g,elements:{floating:y}}=t,h=n.current[i],v=(null==p?void 0:p.current)||y,b=y.clientTop||v.clientTop,k=0!==y.clientTop,w=0!==v.clientTop,E=y===v;if(t.placement.startsWith("bottom")||warn('`placement` side must be "bottom" when using the `inner`',"middleware."),!h)return{};const T={...t,...await(0,u.offset)(-h.offsetTop-y.clientTop-g.reference.height/2-h.offsetHeight/2-s).fn(t)},x=await(0,d.detectOverflow)(getArgsWithCustomFloatingHeight(T,v.scrollHeight+b+y.clientTop),m),R=await(0,d.detectOverflow)(T,{...m,elementContext:"reference"}),S=(0,f.max)(0,x.top),C=T.y+S,P=(v.scrollHeight>v.clientHeight?e=>e:f.round)((0,f.max)(0,v.scrollHeight+(k&&E||w?2*b:0)-S-(0,f.max)(0,x.bottom)));if(v.style.maxHeight=P+"px",v.scrollTop=S,o){const e=v.offsetHeight<h.offsetHeight*(0,f.min)(a,n.current.length)-1||R.top>=-c||R.bottom>=-c;l.flushSync(()=>o(e))}return r&&(r.current=await(0,d.detectOverflow)(getArgsWithCustomFloatingHeight({...T,y:C},v.offsetHeight+b+y.clientTop),m)),{y:C}}});function useInnerOffset(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:a,scrollRef:c,onChange:u}=t,d=(0,s.useEffectEvent)(u),f=o.useRef(!1),p=o.useRef(null),m=o.useRef(null);o.useEffect(()=>{if(!i)return;function onWheel(t){if(t.ctrlKey||!e||null==a.current)return;const n=t.deltaY,r=a.current.top>=-.5,o=a.current.bottom>=-.5,i=e.scrollHeight-e.clientHeight,c=n<0?-1:1,u=n<0?"max":"min";e.scrollHeight<=e.clientHeight||(!r&&n>0||!o&&n<0?(t.preventDefault(),l.flushSync(()=>{d(e=>e+Math[u](n,i*c))})):/firefox/i.test((0,s.getUserAgent)())&&(e.scrollTop+=n))}const e=(null==c?void 0:c.current)||r.floating;return n&&e?(e.addEventListener("wheel",onWheel),requestAnimationFrame(()=>{p.current=e.scrollTop,null!=a.current&&(m.current={...a.current})}),()=>{p.current=null,m.current=null,e.removeEventListener("wheel",onWheel)}):void 0},[i,n,r.floating,a,c,d]);const g=o.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const e=(null==c?void 0:c.current)||r.floating;if(a.current&&e&&f.current){if(null!==p.current){const t=e.scrollTop-p.current;(a.current.bottom<-.5&&t<-1||a.current.top<-.5&&t>1)&&l.flushSync(()=>d(e=>e+t))}requestAnimationFrame(()=>{p.current=e.scrollTop})}}}),[r.floating,d,a,c]);return o.useMemo(()=>i?{floating:g}:{},[i,g])}function getNodeChildren(e,t,n){void 0===n&&(n=!0);return e.filter(e=>{var r;return e.parentId===t&&(!n||(null==(r=e.context)?void 0:r.open))}).flatMap(t=>[t,...getNodeChildren(e,t.id,n)])}function isPointInPolygon(e,t){const[n,r]=e;let o=!1;const s=t.length;for(let e=0,i=s-1;e<s;i=e++){const[s,a]=t[e]||[0,0],[c,l]=t[i]||[0,0];a>=r!=l>=r&&n<=(c-s)*(r-a)/(l-a)+s&&(o=!o)}return o}function safePolygon(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,o={current:-1};let s=!1,i=null,c=null,l="undefined"!=typeof performance?performance.now():0;const fn=e=>{let{x:n,y:u,placement:d,elements:f,onClose:p,nodeId:m,tree:g}=e;return function onMouseMove(e){function close(){clearTimeoutIfSet(o),p()}if(clearTimeoutIfSet(o),!f.domReference||!f.floating||null==d||null==n||null==u)return;const{clientX:y,clientY:h}=e,v=[y,h],b=function getTarget(e){return"composedPath"in e?e.composedPath()[0]:e.target}(e),k="mouseleave"===e.type,w=contains(f.floating,b),E=contains(f.domReference,b),T=f.domReference.getBoundingClientRect(),x=f.floating.getBoundingClientRect(),R=d.split("-")[0],S=n>x.right-x.width/2,C=u>x.bottom-x.height/2,P=function isInside(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(v,T),I=x.width>T.width,O=x.height>T.height,L=(I?T:x).left,M=(I?T:x).right,A=(O?T:x).top,_=(O?T:x).bottom;if(w&&(s=!0,!k))return;if(E&&(s=!1),E&&!k)return void(s=!0);if(k&&(0,a.isElement)(e.relatedTarget)&&contains(f.floating,e.relatedTarget))return;if(g&&getNodeChildren(g.nodesRef.current,m).length)return;if("top"===R&&u>=T.bottom-1||"bottom"===R&&u<=T.top+1||"left"===R&&n>=T.right-1||"right"===R&&n<=T.left+1)return close();let D=[];switch(R){case"top":D=[[L,T.top+1],[L,x.bottom-1],[M,x.bottom-1],[M,T.top+1]];break;case"bottom":D=[[L,x.top+1],[L,T.bottom-1],[M,T.bottom-1],[M,x.top+1]];break;case"left":D=[[x.right-1,_],[x.right-1,A],[T.left+1,A],[T.left+1,_]];break;case"right":D=[[T.right-1,_],[T.right-1,A],[x.left+1,A],[x.left+1,_]]}if(!isPointInPolygon([y,h],D)){if(s&&!P)return close();if(!k&&r){const t=function getCursorSpeed(e,t){const n=performance.now(),r=n-l;if(null===i||null===c||0===r)return i=e,c=t,l=n,null;const o=e-i,s=t-c,a=Math.sqrt(o*o+s*s);return i=e,c=t,l=n,a/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return close()}isPointInPolygon([y,h],function getPolygon(e){let[n,r]=e;switch(R){case"top":return[[I?n+t/2:S?n+4*t:n-4*t,r+t+1],[I?n-t/2:S?n+4*t:n-4*t,r+t+1],...[[x.left,S||I?x.bottom-t:x.top],[x.right,S?I?x.bottom-t:x.top:x.bottom-t]]];case"bottom":return[[I?n+t/2:S?n+4*t:n-4*t,r-t],[I?n-t/2:S?n+4*t:n-4*t,r-t],...[[x.left,S||I?x.top+t:x.bottom],[x.right,S?I?x.top+t:x.bottom:x.top+t]]];case"left":{const e=[n+t+1,O?r+t/2:C?r+4*t:r-4*t],o=[n+t+1,O?r-t/2:C?r+4*t:r-4*t];return[...[[C||O?x.right-t:x.left,x.top],[C?O?x.right-t:x.left:x.right-t,x.bottom]],e,o]}case"right":return[[n-t,O?r+t/2:C?r+4*t:r-4*t],[n-t,O?r-t/2:C?r+4*t:r-4*t],...[[C||O?x.left+t:x.right,x.top],[C?O?x.left+t:x.right:x.left+t,x.bottom]]]}}([n,u]))?!s&&r&&(o.current=window.setTimeout(close,40)):close()}}};return fn.__options={blockPointerEvents:n},fn}},"./packages/node_modules/@floating-ui/react/dist/floating-ui.react.utils.mjs":function(e,t,n){var r;n.r(t),n.d(t,{activeElement:function(){return activeElement},contains:function(){return contains},createGridCellMap:function(){return createGridCellMap},disableFocusInside:function(){return disableFocusInside},enableFocusInside:function(){return enableFocusInside},findNonDisabledListIndex:function(){return findNonDisabledListIndex},getDeepestNode:function(){return getDeepestNode},getDocument:function(){return getDocument},getFloatingFocusElement:function(){return getFloatingFocusElement},getGridCellIndexOfCorner:function(){return getGridCellIndexOfCorner},getGridCellIndices:function(){return getGridCellIndices},getGridNavigatedIndex:function(){return getGridNavigatedIndex},getMaxListIndex:function(){return getMaxListIndex},getMinListIndex:function(){return getMinListIndex},getNextTabbable:function(){return getNextTabbable},getNodeAncestors:function(){return getNodeAncestors},getNodeChildren:function(){return getNodeChildren},getPlatform:function(){return getPlatform},getPreviousTabbable:function(){return getPreviousTabbable},getTabbableOptions:function(){return getTabbableOptions},getTarget:function(){return getTarget},getUserAgent:function(){return getUserAgent},isAndroid:function(){return isAndroid},isDifferentGridRow:function(){return isDifferentGridRow},isEventTargetWithin:function(){return isEventTargetWithin},isIndexOutOfListBounds:function(){return isIndexOutOfListBounds},isJSDOM:function(){return isJSDOM},isListIndexDisabled:function(){return isListIndexDisabled},isMac:function(){return isMac},isMouseLikePointerType:function(){return isMouseLikePointerType},isOutsideEvent:function(){return isOutsideEvent},isReactEvent:function(){return isReactEvent},isRootElement:function(){return isRootElement},isSafari:function(){return isSafari},isTypeableCombobox:function(){return isTypeableCombobox},isTypeableElement:function(){return isTypeableElement},isVirtualClick:function(){return isVirtualClick},isVirtualPointerEvent:function(){return isVirtualPointerEvent},matchesFocusVisible:function(){return matchesFocusVisible},stopEvent:function(){return stopEvent},useEffectEvent:function(){return useEffectEvent},useLatestRef:function(){return useLatestRef},useModernLayoutEffect:function(){return m}});var o=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs"),s=n("react"),i=n("./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs"),a=n("./packages/node_modules/tabbable/dist/index.esm.js");function getPlatform(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function getUserAgent(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function isSafari(){return/apple/i.test(navigator.vendor)}function isAndroid(){const e=/android/i;return e.test(getPlatform())||e.test(getUserAgent())}function isMac(){return getPlatform().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function isJSDOM(){return getUserAgent().includes("jsdom/")}const c="data-floating-ui-focusable",l="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",u="ArrowLeft",d="ArrowRight",f="ArrowUp",p="ArrowDown";function activeElement(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function contains(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,o.isShadowRoot)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function getTarget(e){return"composedPath"in e?e.composedPath()[0]:e.target}function isEventTargetWithin(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function isRootElement(e){return e.matches("html,body")}function getDocument(e){return(null==e?void 0:e.ownerDocument)||document}function isTypeableElement(e){return(0,o.isHTMLElement)(e)&&e.matches(l)}function isTypeableCombobox(e){return!!e&&("combobox"===e.getAttribute("role")&&isTypeableElement(e))}function matchesFocusVisible(e){if(!e||isJSDOM())return!0;try{return e.matches(":focus-visible")}catch(e){return!0}}function getFloatingFocusElement(e){return e?e.hasAttribute(c)?e:e.querySelector("["+c+"]")||e:null}function getNodeChildren(e,t,n){void 0===n&&(n=!0);return e.filter(e=>{var r;return e.parentId===t&&(!n||(null==(r=e.context)?void 0:r.open))}).flatMap(t=>[t,...getNodeChildren(e,t.id,n)])}function getDeepestNode(e,t){let n,r=-1;return function findDeepest(t,o){o>r&&(n=t,r=o),getNodeChildren(e,t).forEach(e=>{findDeepest(e.id,o+1)})}(t,0),e.find(e=>e.id===n)}function getNodeAncestors(e,t){var n;let r=[],o=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;o;){const t=e.find(e=>e.id===o);o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}function stopEvent(e){e.preventDefault(),e.stopPropagation()}function isReactEvent(e){return"nativeEvent"in e}function isVirtualClick(e){return!(0!==e.mozInputSource||!e.isTrusted)||(isAndroid()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function isVirtualPointerEvent(e){return!isJSDOM()&&(!isAndroid()&&0===e.width&&0===e.height||isAndroid()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function isMouseLikePointerType(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}var m="undefined"!=typeof document?s.useLayoutEffect:function noop(){};function useLatestRef(e){const t=s.useRef(e);return m(()=>{t.current=e}),t}const g={...r||(r=n.t(s,2))}.useInsertionEffect||(e=>e());function useEffectEvent(e){const t=s.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return g(()=>{t.current=e}),s.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function isDifferentGridRow(e,t,n){return Math.floor(e/t)!==n}function isIndexOutOfListBounds(e,t){return t<0||t>=e.current.length}function getMinListIndex(e,t){return findNonDisabledListIndex(e,{disabledIndices:t})}function getMaxListIndex(e,t){return findNonDisabledListIndex(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function findNonDisabledListIndex(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:s=1}=void 0===t?{}:t,i=n;do{i+=r?-s:s}while(i>=0&&i<=e.current.length-1&&isListIndexDisabled(e,i,o));return i}function getGridNavigatedIndex(e,t){let{event:n,orientation:r,loop:o,rtl:s,cols:a,disabledIndices:c,minIndex:l,maxIndex:m,prevIndex:g,stopEvent:y=!1}=t,h=g;if(n.key===f){if(y&&stopEvent(n),-1===g)h=m;else if(h=findNonDisabledListIndex(e,{startingIndex:h,amount:a,decrement:!0,disabledIndices:c}),o&&(g-a<l||h<0)){const e=g%a,t=m%a,n=m-(t-e);h=t===e?m:t>e?n:n-a}isIndexOutOfListBounds(e,h)&&(h=g)}if(n.key===p&&(y&&stopEvent(n),-1===g?h=l:(h=findNonDisabledListIndex(e,{startingIndex:g,amount:a,disabledIndices:c}),o&&g+a>m&&(h=findNonDisabledListIndex(e,{startingIndex:g%a-a,amount:a,disabledIndices:c}))),isIndexOutOfListBounds(e,h)&&(h=g)),"both"===r){const t=(0,i.floor)(g/a);n.key===(s?u:d)&&(y&&stopEvent(n),g%a!==a-1?(h=findNonDisabledListIndex(e,{startingIndex:g,disabledIndices:c}),o&&isDifferentGridRow(h,a,t)&&(h=findNonDisabledListIndex(e,{startingIndex:g-g%a-1,disabledIndices:c}))):o&&(h=findNonDisabledListIndex(e,{startingIndex:g-g%a-1,disabledIndices:c})),isDifferentGridRow(h,a,t)&&(h=g)),n.key===(s?d:u)&&(y&&stopEvent(n),g%a!==0?(h=findNonDisabledListIndex(e,{startingIndex:g,decrement:!0,disabledIndices:c}),o&&isDifferentGridRow(h,a,t)&&(h=findNonDisabledListIndex(e,{startingIndex:g+(a-g%a),decrement:!0,disabledIndices:c}))):o&&(h=findNonDisabledListIndex(e,{startingIndex:g+(a-g%a),decrement:!0,disabledIndices:c})),isDifferentGridRow(h,a,t)&&(h=g));const r=(0,i.floor)(m/a)===t;isIndexOutOfListBounds(e,h)&&(h=o&&r?n.key===(s?d:u)?m:findNonDisabledListIndex(e,{startingIndex:g-g%a-1,disabledIndices:c}):g)}return h}function createGridCellMap(e,t,n){const r=[];let o=0;return e.forEach((e,s)=>{let{width:i,height:a}=e;if(i>t)throw new Error("[Floating UI]: Invalid grid - item width at index "+s+" is greater than grid columns");let c=!1;for(n&&(o=0);!c;){const e=[];for(let n=0;n<i;n++)for(let r=0;r<a;r++)e.push(o+n+r*t);o%t+i<=t&&e.every(e=>null==r[e])?(e.forEach(e=>{r[e]=s}),c=!0):o++}}),[...r]}function getGridCellIndexOfCorner(e,t,n,r,o){if(-1===e)return-1;const s=n.indexOf(e),i=t[e];switch(o){case"tl":return s;case"tr":return i?s+i.width-1:s;case"bl":return i?s+(i.height-1)*r:s;case"br":return n.lastIndexOf(e)}}function getGridCellIndices(e,t){return t.flatMap((t,n)=>e.includes(t)?[n]:[])}function isListIndexDisabled(e,t,n){if("function"==typeof n)return n(t);if(n)return n.includes(t);const r=e.current[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}const getTabbableOptions=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function getTabbableIn(e,t){const n=(0,a.tabbable)(e,getTabbableOptions()),r=n.length;if(0===r)return;const o=activeElement(getDocument(e)),s=n.indexOf(o);return n[-1===s?1===t?0:r-1:s+t]}function getNextTabbable(e){return getTabbableIn(getDocument(e).body,1)||e}function getPreviousTabbable(e){return getTabbableIn(getDocument(e).body,-1)||e}function isOutsideEvent(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!contains(n,r)}function disableFocusInside(e){(0,a.tabbable)(e,getTabbableOptions()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function enableFocusInside(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}},"./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs":function(e,t,n){function hasWindow(){return"undefined"!=typeof window}function getNodeName(e){return isNode(e)?(e.nodeName||"").toLowerCase():"#document"}function getWindow(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function getDocumentElement(e){var t;return null==(t=(isNode(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function isNode(e){return!!hasWindow()&&(e instanceof Node||e instanceof getWindow(e).Node)}function isElement(e){return!!hasWindow()&&(e instanceof Element||e instanceof getWindow(e).Element)}function isHTMLElement(e){return!!hasWindow()&&(e instanceof HTMLElement||e instanceof getWindow(e).HTMLElement)}function isShadowRoot(e){return!(!hasWindow()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof getWindow(e).ShadowRoot)}n.r(t),n.d(t,{getComputedStyle:function(){return getComputedStyle},getContainingBlock:function(){return getContainingBlock},getDocumentElement:function(){return getDocumentElement},getFrameElement:function(){return getFrameElement},getNearestOverflowAncestor:function(){return getNearestOverflowAncestor},getNodeName:function(){return getNodeName},getNodeScroll:function(){return getNodeScroll},getOverflowAncestors:function(){return getOverflowAncestors},getParentNode:function(){return getParentNode},getWindow:function(){return getWindow},isContainingBlock:function(){return isContainingBlock},isElement:function(){return isElement},isHTMLElement:function(){return isHTMLElement},isLastTraversableNode:function(){return isLastTraversableNode},isNode:function(){return isNode},isOverflowElement:function(){return isOverflowElement},isShadowRoot:function(){return isShadowRoot},isTableElement:function(){return isTableElement},isTopLayer:function(){return isTopLayer},isWebKit:function(){return isWebKit}});const r=new Set(["inline","contents"]);function isOverflowElement(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=getComputedStyle(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!r.has(s)}const o=new Set(["table","td","th"]);function isTableElement(e){return o.has(getNodeName(e))}const s=[":popover-open",":modal"];function isTopLayer(e){return s.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const i=["transform","translate","scale","rotate","perspective"],a=["transform","translate","scale","rotate","perspective","filter"],c=["paint","layout","strict","content"];function isContainingBlock(e){const t=isWebKit(),n=isElement(e)?getComputedStyle(e):e;return i.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||a.some(e=>(n.willChange||"").includes(e))||c.some(e=>(n.contain||"").includes(e))}function getContainingBlock(e){let t=getParentNode(e);for(;isHTMLElement(t)&&!isLastTraversableNode(t);){if(isContainingBlock(t))return t;if(isTopLayer(t))return null;t=getParentNode(t)}return null}function isWebKit(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const l=new Set(["html","body","#document"]);function isLastTraversableNode(e){return l.has(getNodeName(e))}function getComputedStyle(e){return getWindow(e).getComputedStyle(e)}function getNodeScroll(e){return isElement(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function getParentNode(e){if("html"===getNodeName(e))return e;const t=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(t)?t.host:t}function getNearestOverflowAncestor(e){const t=getParentNode(e);return isLastTraversableNode(t)?e.ownerDocument?e.ownerDocument.body:e.body:isHTMLElement(t)&&isOverflowElement(t)?t:getNearestOverflowAncestor(t)}function getOverflowAncestors(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=getNearestOverflowAncestor(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),i=getWindow(o);if(s){const e=getFrameElement(i);return t.concat(i,i.visualViewport||[],isOverflowElement(o)?o:[],e&&n?getOverflowAncestors(e):[])}return t.concat(o,getOverflowAncestors(o,[],n))}function getFrameElement(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}},"./packages/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs":function(e,t,n){n.r(t),n.d(t,{alignments:function(){return o},clamp:function(){return clamp},createCoords:function(){return createCoords},evaluate:function(){return evaluate},expandPaddingObject:function(){return expandPaddingObject},floor:function(){return l},getAlignment:function(){return getAlignment},getAlignmentAxis:function(){return getAlignmentAxis},getAlignmentSides:function(){return getAlignmentSides},getAxisLength:function(){return getAxisLength},getExpandedPlacements:function(){return getExpandedPlacements},getOppositeAlignmentPlacement:function(){return getOppositeAlignmentPlacement},getOppositeAxis:function(){return getOppositeAxis},getOppositeAxisPlacements:function(){return getOppositeAxisPlacements},getOppositePlacement:function(){return getOppositePlacement},getPaddingObject:function(){return getPaddingObject},getSide:function(){return getSide},getSideAxis:function(){return getSideAxis},max:function(){return a},min:function(){return i},placements:function(){return s},rectToClientRect:function(){return rectToClientRect},round:function(){return c},sides:function(){return r}});const r=["top","right","bottom","left"],o=["start","end"],s=r.reduce((e,t)=>e.concat(t,t+"-"+o[0],t+"-"+o[1]),[]),i=Math.min,a=Math.max,c=Math.round,l=Math.floor,createCoords=e=>({x:e,y:e}),u={left:"right",right:"left",bottom:"top",top:"bottom"},d={start:"end",end:"start"};function clamp(e,t,n){return a(e,i(t,n))}function evaluate(e,t){return"function"==typeof e?e(t):e}function getSide(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return"x"===e?"y":"x"}function getAxisLength(e){return"y"===e?"height":"width"}const f=new Set(["top","bottom"]);function getSideAxis(e){return f.has(getSide(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function getAlignmentSides(e,t,n){void 0===n&&(n=!1);const r=getAlignment(e),o=getAlignmentAxis(e),s=getAxisLength(o);let i="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=getOppositePlacement(i)),[i,getOppositePlacement(i)]}function getExpandedPlacements(e){const t=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),t,getOppositeAlignmentPlacement(t)]}function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,e=>d[e])}const p=["left","right"],m=["right","left"],g=["top","bottom"],y=["bottom","top"];function getOppositeAxisPlacements(e,t,n,r){const o=getAlignment(e);let s=function getSideList(e,t,n){switch(e){case"top":case"bottom":return n?t?m:p:t?p:m;case"left":case"right":return t?g:y;default:return[]}}(getSide(e),"start"===n,r);return o&&(s=s.map(e=>e+"-"+o),t&&(s=s.concat(s.map(getOppositeAlignmentPlacement)))),s}function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,e=>u[e])}function expandPaddingObject(e){return{top:0,right:0,bottom:0,left:0,...e}}function getPaddingObject(e){return"number"!=typeof e?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}},"./packages/node_modules/react/cjs/react-jsx-runtime.development.js":function(e,t,n){(function(){var e=n("react"),r=Symbol.for("react.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y=Symbol.iterator;var h=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];!function printWarning(e,t,n){var r=h.ReactDebugCurrentFrame,o=r.getStackAddendum();""!==o&&(t+="%s",n=n.concat([o]));var s=n.map(function(e){return String(e)});s.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,s)}("error",e,n)}var v;function getContextName(e){return e.displayName||"Context"}function getComponentNameFromType(e){if(null==e)return null;if("number"==typeof e.tag&&error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case o:return"Portal";case a:return"Profiler";case i:return"StrictMode";case d:return"Suspense";case f:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return getContextName(e)+".Consumer";case c:return getContextName(e._context)+".Provider";case u:return function getWrappedName(e,t,n){var r=e.displayName;if(r)return r;var o=t.displayName||t.name||"";return""!==o?n+"("+o+")":n}(e,e.render,"ForwardRef");case p:var t=e.displayName||null;return null!==t?t:getComponentNameFromType(e.type)||"Memo";case m:var n=e,r=n._payload,g=n._init;try{return getComponentNameFromType(g(r))}catch(e){return null}}return null}v=Symbol.for("react.module.reference");var b,k,w,E,T,x,R,S=Object.assign,C=0;function disabledLog(){}disabledLog.__reactDisabledLog=!0;var P,I=h.ReactCurrentDispatcher;function describeBuiltInComponentFrame(e,t,n){if(void 0===P)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||""}return"\n"+P+e}var O,L=!1,M="function"==typeof WeakMap?WeakMap:Map;function describeNativeComponentFrame(e,t){if(!e||L)return"";var n,r=O.get(e);if(void 0!==r)return r;L=!0;var o,s=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=I.current,I.current=null,function disableLogs(){if(0===C){b=console.log,k=console.info,w=console.warn,E=console.error,T=console.group,x=console.groupCollapsed,R=console.groupEnd;var e={configurable:!0,enumerable:!0,value:disabledLog,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}C++}();try{if(t){var Fake=function(){throw Error()};if(Object.defineProperty(Fake.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(Fake,[])}catch(e){n=e}Reflect.construct(e,[],Fake)}else{try{Fake.call()}catch(e){n=e}e.call(Fake.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=n.stack.split("\n"),c=i.length-1,l=a.length-1;c>=1&&l>=0&&i[c]!==a[l];)l--;for(;c>=1&&l>=0;c--,l--)if(i[c]!==a[l]){if(1!==c||1!==l)do{if(c--,--l<0||i[c]!==a[l]){var u="\n"+i[c].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),"function"==typeof e&&O.set(e,u),u}}while(c>=1&&l>=0);break}}}finally{L=!1,I.current=o,function reenableLogs(){if(0===--C){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:S({},e,{value:b}),info:S({},e,{value:k}),warn:S({},e,{value:w}),error:S({},e,{value:E}),group:S({},e,{value:T}),groupCollapsed:S({},e,{value:x}),groupEnd:S({},e,{value:R})})}C<0&&error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=s}var d=e?e.displayName||e.name:"",f=d?describeBuiltInComponentFrame(d):"";return"function"==typeof e&&O.set(e,f),f}function describeUnknownElementTypeFrameInDEV(e,t,n){if(null==e)return"";if("function"==typeof e)return describeNativeComponentFrame(e,function shouldConstruct(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"==typeof e)return describeBuiltInComponentFrame(e);switch(e){case d:return describeBuiltInComponentFrame("Suspense");case f:return describeBuiltInComponentFrame("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case u:return function describeFunctionComponentFrame(e,t,n){return describeNativeComponentFrame(e,!1)}(e.render);case p:return describeUnknownElementTypeFrameInDEV(e.type,t,n);case m:var r=e,o=r._payload,s=r._init;try{return describeUnknownElementTypeFrameInDEV(s(o),t,n)}catch(e){}}return""}O=new M;var A=Object.prototype.hasOwnProperty,_={},D=h.ReactDebugCurrentFrame;function setCurrentlyValidatingElement(e){if(e){var t=e._owner,n=describeUnknownElementTypeFrameInDEV(e.type,e._source,t?t.type:null);D.setExtraStackFrame(n)}else D.setExtraStackFrame(null)}var N=Array.isArray;function isArray(e){return N(e)}function testStringCoercion(e){return""+e}function checkKeyStringCoercion(e){if(function willCoercionThrow(e){try{return testStringCoercion(e),!1}catch(e){return!0}}(e))return error("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function typeName(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),testStringCoercion(e)}var F,j,$,V=h.ReactCurrentOwner,W={key:!0,ref:!0,__self:!0,__source:!0};$={};function jsxDEV(e,t,n,o,s){var i,a={},c=null,l=null;for(i in void 0!==n&&(checkKeyStringCoercion(n),c=""+n),function hasValidKey(e){if(A.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(checkKeyStringCoercion(t.key),c=""+t.key),function hasValidRef(e){if(A.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(l=t.ref,function warnIfStringRefCannotBeAutoConverted(e,t){if("string"==typeof e.ref&&V.current&&t&&V.current.stateNode!==t){var n=getComponentNameFromType(V.current.type);$[n]||(error('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',getComponentNameFromType(V.current.type),e.ref),$[n]=!0)}}(t,s)),t)A.call(t,i)&&!W.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps){var u=e.defaultProps;for(i in u)void 0===a[i]&&(a[i]=u[i])}if(c||l){var d="function"==typeof e?e.displayName||e.name||"Unknown":e;c&&function defineKeyPropWarningGetter(e,t){var warnAboutAccessingKey=function(){F||(F=!0,error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};warnAboutAccessingKey.isReactWarning=!0,Object.defineProperty(e,"key",{get:warnAboutAccessingKey,configurable:!0})}(a,d),l&&function defineRefPropWarningGetter(e,t){var warnAboutAccessingRef=function(){j||(j=!0,error("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};warnAboutAccessingRef.isReactWarning=!0,Object.defineProperty(e,"ref",{get:warnAboutAccessingRef,configurable:!0})}(a,d)}return function(e,t,n,o,s,i,a){var c={$$typeof:r,type:e,key:t,ref:n,props:a,_owner:i,_store:{}};return Object.defineProperty(c._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(c,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(c,"_source",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(c.props),Object.freeze(c)),c}(e,c,l,s,o,V.current,a)}var B,z=h.ReactCurrentOwner,H=h.ReactDebugCurrentFrame;function setCurrentlyValidatingElement$1(e){if(e){var t=e._owner,n=describeUnknownElementTypeFrameInDEV(e.type,e._source,t?t.type:null);H.setExtraStackFrame(n)}else H.setExtraStackFrame(null)}function isValidElement(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}function getDeclarationErrorAddendum(){if(z.current){var e=getComponentNameFromType(z.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}B=!1;var U={};function validateExplicitKey(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function getCurrentComponentErrorInfo(e){var t=getDeclarationErrorAddendum();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!U[n]){U[n]=!0;var r="";e&&e._owner&&e._owner!==z.current&&(r=" It was passed a child from "+getComponentNameFromType(e._owner.type)+"."),setCurrentlyValidatingElement$1(e),error('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),setCurrentlyValidatingElement$1(null)}}}function validateChildKeys(e,t){if("object"==typeof e)if(isArray(e))for(var n=0;n<e.length;n++){var r=e[n];isValidElement(r)&&validateExplicitKey(r,t)}else if(isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=function getIteratorFn(e){if(null===e||"object"!=typeof e)return null;var t=y&&e[y]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var s,i=o.call(e);!(s=i.next()).done;)isValidElement(s.value)&&validateExplicitKey(s.value,t)}}function validatePropTypes(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==u&&n.$$typeof!==p)return;t=n.propTypes}if(t){var r=getComponentNameFromType(n);!function checkPropTypes(e,t,n,r,o){var s=Function.call.bind(A);for(var i in e)if(s(e,i)){var a=void 0;try{if("function"!=typeof e[i]){var c=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw c.name="Invariant Violation",c}a=e[i](t,i,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}!a||a instanceof Error||(setCurrentlyValidatingElement(o),error("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,i,typeof a),setCurrentlyValidatingElement(null)),a instanceof Error&&!(a.message in _)&&(_[a.message]=!0,setCurrentlyValidatingElement(o),error("Failed %s type: %s",n,a.message),setCurrentlyValidatingElement(null))}}(t,e.props,"prop",r,e)}else if(void 0!==n.PropTypes&&!B){B=!0,error("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",getComponentNameFromType(n)||"Unknown")}"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||error("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var q={};function jsxWithValidation(e,t,n,o,y,h){var b=function isValidElementType(e){return"string"==typeof e||"function"==typeof e||e===s||e===a||e===i||e===d||e===f||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===c||e.$$typeof===l||e.$$typeof===u||e.$$typeof===v||void 0!==e.getModuleId)}(e);if(!b){var k="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var w,E=function getSourceInfoErrorAddendum(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(y);k+=E||getDeclarationErrorAddendum(),null===e?w="null":isArray(e)?w="array":void 0!==e&&e.$$typeof===r?(w="<"+(getComponentNameFromType(e.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):w=typeof e,error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",w,k)}var T=jsxDEV(e,t,n,y,h);if(null==T)return T;if(b){var x=t.children;if(void 0!==x)if(o)if(isArray(x)){for(var R=0;R<x.length;R++)validateChildKeys(x[R],e);Object.freeze&&Object.freeze(x)}else error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else validateChildKeys(x,e)}if(A.call(t,"key")){var S=getComponentNameFromType(e),C=Object.keys(t).filter(function(e){return"key"!==e}),P=C.length>0?"{key: someKey, "+C.join(": ..., ")+": ...}":"{key: someKey}";if(!q[S+P])error('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',P,S,C.length>0?"{"+C.join(": ..., ")+": ...}":"{}",S),q[S+P]=!0}return e===s?function validateFragmentProps(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){setCurrentlyValidatingElement$1(e),error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),setCurrentlyValidatingElement$1(null);break}}null!==e.ref&&(setCurrentlyValidatingElement$1(e),error("Invalid attribute `ref` supplied to `React.Fragment`."),setCurrentlyValidatingElement$1(null))}(T):validatePropTypes(T),T}var K=function jsxWithValidationDynamic(e,t,n){return jsxWithValidation(e,t,n,!1)},G=function jsxWithValidationStatic(e,t,n){return jsxWithValidation(e,t,n,!0)};t.Fragment=s,t.jsx=K,t.jsxs=G})()},"./packages/node_modules/react/jsx-runtime.js":function(e,t,n){e.exports=n("./packages/node_modules/react/cjs/react-jsx-runtime.development.js")},"./packages/node_modules/tabbable/dist/index.esm.js":function(e,t,n){n.r(t),n.d(t,{focusable:function(){return T},getTabIndex:function(){return f},isFocusable:function(){return S},isTabbable:function(){return x},tabbable:function(){return E}});var r=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],o=r.join(","),s="undefined"==typeof Element,i=s?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=!s&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},c=function isInert(e,t){var n;void 0===t&&(t=!0);var r=null==e||null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,"inert");return""===r||"true"===r||t&&e&&c(e.parentNode)},l=function getCandidates(e,t,n){if(c(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(o));return t&&i.call(e,o)&&r.unshift(e),r=r.filter(n)},u=function getCandidatesIteratively(e,t,n){for(var r=[],s=Array.from(e);s.length;){var a=s.shift();if(!c(a,!1))if("SLOT"===a.tagName){var l=a.assignedElements(),d=l.length?l:a.children,f=u(d,!0,n);n.flatten?r.push.apply(r,f):r.push({scopeParent:a,candidates:f})}else{i.call(a,o)&&n.filter(a)&&(t||!e.includes(a))&&r.push(a);var p=a.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(a),m=!c(p,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(p&&m){var g=u(!0===p?a.children:p.children,!0,n);n.flatten?r.push.apply(r,g):r.push({scopeParent:a,candidates:g})}else s.unshift.apply(s,a.children)}}return r},d=function hasTabIndex(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},f=function getTabIndex(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function isContentEditable(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!d(e)?0:e.tabIndex},p=function sortOrderedTabbables(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},m=function isInput(e){return"INPUT"===e.tagName},g=function isNonTabbableRadio(e){return function isRadio(e){return m(e)&&"radio"===e.type}(e)&&!function isTabbableRadio(e){if(!e.name)return!0;var t,n=e.form||a(e),r=function queryRadios(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function getCheckedRadio(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)},y=function isZeroArea(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},h=function isHidden(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("full-native"===n&&"checkVisibility"in e)return!e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if("hidden"===getComputedStyle(e).visibility)return!0;var o=i.call(e,"details>summary:first-of-type")?e.parentElement:e;if(i.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"full-native"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return y(e)}else{if("function"==typeof r){for(var s=e;e;){var c=e.parentElement,l=a(e);if(c&&!c.shadowRoot&&!0===r(c))return y(e);e=e.assignedSlot?e.assignedSlot:c||l===e.ownerDocument?c:l.host}e=s}if(function isNodeAttached(e){var t,n,r,o,s=e&&a(e),i=null===(t=s)||void 0===t?void 0:t.host,c=!1;if(s&&s!==e)for(c=!!(null!==(n=i)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(i)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!c&&i;){var l,u,d;c=!(null===(u=i=null===(l=s=a(i))||void 0===l?void 0:l.host)||void 0===u||null===(d=u.ownerDocument)||void 0===d||!d.contains(i))}return c}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},v=function isNodeMatchingSelectorFocusable(e,t){return!(t.disabled||c(t)||function isHiddenInput(e){return m(e)&&"hidden"===e.type}(t)||h(t,e)||function isDetailsWithSummary(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function isDisabledFromFieldset(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!i.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},b=function isNodeMatchingSelectorTabbable(e,t){return!(g(t)||f(t)<0||!v(e,t))},k=function isShadowRootTabbable(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},w=function sortByOrder(e){var t=[],n=[];return e.forEach(function(e,r){var o=!!e.scopeParent,s=o?e.scopeParent:e,i=function getSortOrderTabIndex(e,t){var n=f(e);return n<0&&t&&!d(e)?0:n}(s,o),a=o?w(e.candidates):s;0===i?o?t.push.apply(t,a):t.push(s):n.push({documentOrder:r,tabIndex:i,item:e,isScope:o,content:a})}),n.sort(p).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(t)},E=function tabbable(e,t){var n;return n=(t=t||{}).getShadowRoot?u([e],t.includeContainer,{filter:b.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:k}):l(e,t.includeContainer,b.bind(null,t)),w(n)},T=function focusable(e,t){return(t=t||{}).getShadowRoot?u([e],t.includeContainer,{filter:v.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):l(e,t.includeContainer,v.bind(null,t))},x=function isTabbable(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==i.call(e,o)&&b(t,e)},R=r.concat("iframe").join(","),S=function isFocusable(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==i.call(e,R)&&v(t,e)}},"./packages/packages/core/editor-canvas/src/components/classes-rename.tsx":function(e,t,n){n.r(t),n.d(t,{ClassesRename:function(){return ClassesRename}});var r=n("react"),o=n("@elementor/editor-documents"),s=n("@elementor/editor-styles-repository"),i=n("@elementor/utils");const ClassesRename=()=>((0,r.useEffect)(()=>{const e=subscribeToStylesRepository();return()=>{e()}},[]),null),subscribeToStylesRepository=()=>s.stylesRepository.subscribe((e,t)=>{if(!e||!t)return;Object.keys(t).forEach(n=>{if(!(e[n]&&(0,i.hash)(e[n])!==(0,i.hash)(t[n])))return;const r=e[n],o=t[n];r.label!==o.label&&renameClass(r.label,o.label)})}),renameClass=(e,t)=>{Object.values((0,o.getV1DocumentsManager)().documents).forEach(n=>{const r=n.container;r.view?.el?.querySelectorAll(`.elementor .${e}`).forEach(n=>{n.classList.replace(e,t)})})}},"./packages/packages/core/editor-canvas/src/components/elements-overlays.tsx":function(e,t,n){n.r(t),n.d(t,{ElementsOverlays:function(){return ElementsOverlays}});var r=n("react"),o=n("@elementor/editor-elements"),s=n("@elementor/editor-v1-adapters"),i=n("./packages/packages/core/editor-canvas/src/utils/inline-editing-utils.ts"),a=n("./packages/packages/core/editor-canvas/src/components/inline-editor-overlay.tsx"),c=n("./packages/packages/core/editor-canvas/src/components/outline-overlay.tsx");const l="atomic",u=[{component:c.OutlineOverlay,shouldRender:()=>!0},{component:a.InlineEditorOverlay,shouldRender:({id:e,isSelected:t})=>t&&(0,i.hasInlineEditableProperty)(e)&&(0,s.isExperimentActive)("v4-inline-text-editing")}];function ElementsOverlays(){const e=(0,o.useSelectedElement)(),t=function useElementsDom(){return(0,s.__privateUseListenTo)([(0,s.windowEvent)("elementor/editor/element-rendered"),(0,s.windowEvent)("elementor/editor/element-destroyed")],()=>(0,o.getElements)().filter(e=>l in(e.view?.el?.dataset??{})).map(e=>[e.id,e.view?.getDomElement?.()?.get?.(0)]).filter(e=>!!e[1]))}(),n="edit"===(0,s.useEditMode)(),i=(0,s.__privateUseIsRouteActive)("panel/global");return n&&!i?t.map(([t,n])=>{const o=e.element?.id===t;return u.map(({shouldRender:e,component:s},i)=>e({id:t,element:n,isSelected:o})&&r.createElement(s,{key:`${t}-${i}`,id:t,element:n,isSelected:o}))}):null}},"./packages/packages/core/editor-canvas/src/components/inline-editor-overlay.tsx":function(e,t,n){n.r(t),n.d(t,{InlineEditorOverlay:function(){return InlineEditorOverlay}});var r=n("react"),o=n("@elementor/editor-controls"),s=n("@elementor/editor-elements"),i=n("@elementor/editor-props"),a=n("@elementor/ui"),c=n("@elementor/utils"),l=n("./packages/node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),u=n("./packages/packages/core/editor-canvas/src/hooks/use-floating-on-element.ts"),d=n("./packages/packages/core/editor-canvas/src/utils/inline-editing-utils.ts"),f=n("./packages/packages/core/editor-canvas/src/components/outline-overlay.tsx");const InlineEditorOverlay=({element:e,isSelected:t,id:n})=>{const{floating:p,isVisible:m}=(0,u.useFloatingOnElement)({element:e,isSelected:t}),g=r.useMemo(()=>{const e=(0,s.getContainer)(n);return(0,d.getInlineEditablePropertyName)(e)},[n]),y=(0,s.useElementSetting)(n,g),h=r.useMemo(()=>i.htmlPropTypeUtil.extract(y)||"",[y]),v=r.useRef(null),b=r.useRef("");r.useEffect(()=>(v.current=(0,c.debounce)(e=>{const t=""===e.replace(/<[^>]*>/g,"").trim()?"&nbsp;":e;(0,s.updateElementSettings)({id:n,props:{[g]:i.htmlPropTypeUtil.create(t)},withHistory:!0})},100),()=>{v.current?.cancel?.()}),[n,g]);const k=r.useCallback(e=>{b.current=e,v.current?.(e)},[]);return r.useEffect(()=>{!m&&v.current?.pending?.()&&v.current.flush(b.current)},[m]),m?r.createElement(l.FloatingPortal,{id:f.CANVAS_WRAPPER_ID},r.createElement(a.Box,{ref:p.setRef,style:{...p.styles,zIndex:1e3,pointerEvents:"auto"}},r.createElement(o.InlineEditor,{value:h,setValue:k,showToolbar:t}))):null}},"./packages/packages/core/editor-canvas/src/components/interactions-renderer.tsx":function(e,t,n){n.r(t),n.d(t,{InteractionsRenderer:function(){return InteractionsRenderer}});var r=n("react"),o=n("@elementor/editor-v1-adapters"),s=n("@elementor/ui"),i=n("./packages/packages/core/editor-canvas/src/hooks/use-interactions-items.ts"),a=n("./packages/packages/core/editor-canvas/src/sync/get-canvas-iframe-document.ts");function InteractionsRenderer(){const e=function usePortalContainer(){return(0,o.__privateUseListenTo)((0,o.commandEndEvent)("editor/documents/attach-preview"),()=>(0,a.getCanvasIframeDocument)()?.head)}(),t=(0,i.useInteractionsItems)();if(!e)return null;const n=JSON.stringify(Array.isArray(t)?t:[]);return r.createElement(s.Portal,{container:e},r.createElement("script",{type:"application/json","data-e-interactions":"true",dangerouslySetInnerHTML:{__html:n}}))}},"./packages/packages/core/editor-canvas/src/components/outline-overlay.tsx":function(e,t,n){n.r(t),n.d(t,{CANVAS_WRAPPER_ID:function(){return l},OutlineOverlay:function(){return OutlineOverlay}});var r=n("react"),o=n("@elementor/ui"),s=n("./packages/node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),i=n("./packages/packages/core/editor-canvas/src/hooks/use-bind-react-props-to-element.ts"),a=n("./packages/packages/core/editor-canvas/src/hooks/use-floating-on-element.ts"),c=n("./packages/packages/core/editor-canvas/src/hooks/use-has-overlapping.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(null,arguments)}const l="elementor-preview-responsive-wrapper",u=(0,o.styled)(o.Box,{shouldForwardProp:e=>"isSelected"!==e&&"isSmallerOffset"!==e})(({theme:e,isSelected:t,isSmallerOffset:n})=>({outline:`${t?"2px":"1px"} solid ${e.palette.primary.light}`,outlineOffset:t&&!n?"-2px":"-1px",pointerEvents:"none"})),OutlineOverlay=({element:e,isSelected:t,id:n})=>{const{context:o,floating:d,isVisible:f}=(0,a.useFloatingOnElement)({element:e,isSelected:t}),{getFloatingProps:p,getReferenceProps:m}=(0,s.useInteractions)([(0,s.useHover)(o)]),g=(0,c.useHasOverlapping)();(0,i.useBindReactPropsToElement)(e,m);const y=e.offsetHeight<=1;return f&&!g&&r.createElement(s.FloatingPortal,{id:l},r.createElement(u,_extends({ref:d.setRef,isSelected:t,style:d.styles,"data-element-overlay":n,role:"presentation",isSmallerOffset:y},p())))}},"./packages/packages/core/editor-canvas/src/components/style-renderer.tsx":function(e,t,n){n.r(t),n.d(t,{StyleRenderer:function(){return StyleRenderer}});var r=n("react"),o=n("@elementor/editor-v1-adapters"),s=n("@elementor/ui"),i=n("./packages/packages/core/editor-canvas/src/hooks/use-documents-css-links.ts"),a=n("./packages/packages/core/editor-canvas/src/hooks/use-style-items.ts"),c=n("./packages/packages/core/editor-canvas/src/sync/get-canvas-iframe-document.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(null,arguments)}function StyleRenderer(){const e=function usePortalContainer(){return(0,o.__privateUseListenTo)((0,o.commandEndEvent)("editor/documents/attach-preview"),()=>(0,c.getCanvasIframeDocument)()?.head)}(),t=(0,a.useStyleItems)(),n=(0,i.useDocumentsCssLinks)();return e?r.createElement(s.Portal,{container:e},t.map((e,t)=>r.createElement("style",{key:`${e.id}-${t}-${e.breakpoint}`},e.value)),n.map(e=>r.createElement("link",_extends({},e,{key:e.id})))):null}},"./packages/packages/core/editor-canvas/src/hooks/use-bind-react-props-to-element.ts":function(e,t,n){n.r(t),n.d(t,{useBindReactPropsToElement:function(){return useBindReactPropsToElement}});var r=n("react");function useBindReactPropsToElement(e,t){(0,r.useEffect)(()=>{const n=e,{events:r,attrs:o}=function groupProps(e){const t=/^on(?=[A-Z])/;return Object.entries(e).reduce((e,[n,r])=>{if(!t.test(n))return e.attrs.push([n,r]),e;const o=n.replace(t,"").toLowerCase(),s=r;return e.events.push([o,s]),e},{events:[],attrs:[]})}(t());return r.forEach(([e,t])=>n.addEventListener(e,t)),o.forEach(([e,t])=>n.setAttribute(e,t)),()=>{r.forEach(([e,t])=>n.removeEventListener(e,t)),o.forEach(([e])=>n.removeAttribute(e))}},[t,e])}},"./packages/packages/core/editor-canvas/src/hooks/use-documents-css-links.ts":function(e,t,n){n.r(t),n.d(t,{useDocumentsCssLinks:function(){return useDocumentsCssLinks}});var r=n("@elementor/editor-v1-adapters"),o=n("./packages/packages/core/editor-canvas/src/sync/get-canvas-iframe-document.ts");const s="data-e-removed",i="data-elementor-id",a="elementor-post-",c="-css";function useDocumentsCssLinks(){return(0,r.__privateUseListenTo)((0,r.commandEndEvent)("editor/documents/attach-preview"),()=>{const e=(0,o.getCanvasIframeDocument)();if(!e)return[];const t=function getDocumentsIdsInCanvas(e){return[...e.body.querySelectorAll(`[${i}]`)??[]].map(e=>e.getAttribute(i)||"")}(e).map(e=>`${a}${e}${c}`),n=function getDocumentsCssLinks(e){return[...e.head.querySelectorAll(`link[rel="stylesheet"][id^=${a}][id$=${c}]`)??[]]}(e).filter(e=>t.includes(e.getAttribute("id")??""));return n.forEach(e=>{e.hasAttribute(s)||e.remove()}),n.map(e=>({...getLinkAttrs(e),id:e.getAttribute("id")??"",[s]:!0}))})}function getLinkAttrs(e){const t=[...e.attributes].map(e=>[e.name,e.value]);return Object.fromEntries(t)}},"./packages/packages/core/editor-canvas/src/hooks/use-floating-on-element.ts":function(e,t,n){n.r(t),n.d(t,{useFloatingOnElement:function(){return useFloatingOnElement}});var r=n("react"),o=n("./packages/node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),s=n("./packages/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),i=n("./packages/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs");function useFloatingOnElement({element:e,isSelected:t}){const[n,a]=(0,r.useState)(!1),{refs:c,floatingStyles:l,context:u}=(0,o.useFloating)({open:n||t,onOpenChange:a,whileElementsMounted:s.autoUpdate,middleware:[(0,i.size)(()=>({apply({elements:e,rects:t}){Object.assign(e.floating.style,{width:`${t.reference.width+2}px`,height:`${t.reference.height+2}px`})}})),(0,i.offset)(({rects:e})=>-e.reference.height/2-e.floating.height/2)]});return(0,r.useEffect)(()=>{c.setReference(e)},[e,c]),{isVisible:n||t,context:u,floating:{setRef:c.setFloating,ref:c.floating,styles:l}}}},"./packages/packages/core/editor-canvas/src/hooks/use-has-overlapping.ts":function(e,t,n){n.r(t),n.d(t,{useHasOverlapping:function(){return useHasOverlapping}});const r=[".e-off-canvas"],useHasOverlapping=()=>{const e=window.elementor?.$preview?.[0];if(!e)return!1;return r.map(t=>Array.from(e?.contentWindow?.document.body.querySelectorAll(t)??[])).flat().some(e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}))}},"./packages/packages/core/editor-canvas/src/hooks/use-interactions-items.ts":function(e,t,n){n.r(t),n.d(t,{useInteractionsItems:function(){return useInteractionsItems}});var r=n("react"),o=n("@elementor/editor-interactions"),s=n("@elementor/editor-v1-adapters"),i=n("./packages/packages/core/editor-canvas/src/hooks/use-on-mount.ts");function useInteractionsItems(){const[e,t]=(0,r.useState)({}),n=(0,r.useMemo)(()=>{try{const e=o.interactionsRepository.getProviders();return e.map(e=>({provider:e,subscriber:createProviderSubscriber({provider:e,setInteractionItems:t})}))}catch{return[]}},[]);return(0,r.useEffect)(()=>{if(0===n.length)return;const e=n.map(({provider:e,subscriber:t})=>e.subscribe(()=>{try{t()}catch{}}));return()=>{e.forEach(e=>e())}},[n]),(0,i.useOnMount)(()=>{0!==n.length&&(0,s.registerDataHook)("after","editor/documents/attach-preview",async()=>{n.forEach(({subscriber:e})=>{try{e()}catch{}})})}),(0,r.useMemo)(()=>Object.values(e).sort(sortByProviderPriority).flatMap(({items:e})=>e),[e])}function sortByProviderPriority({provider:e},{provider:t}){return e.priority-t.priority}function createProviderSubscriber({provider:e,setInteractionItems:t}){return()=>{try{const n=e.actions.all(),r=e.getKey();t(t=>({...t,[r]:{provider:e,items:n}}))}catch{}}}},"./packages/packages/core/editor-canvas/src/hooks/use-on-mount.ts":function(e,t,n){n.r(t),n.d(t,{useOnMount:function(){return useOnMount}});var r=n("react");function useOnMount(e){const t=(0,r.useRef)(!1);(0,r.useEffect)(()=>{t.current||(t.current=!0,e())},[])}},"./packages/packages/core/editor-canvas/src/hooks/use-style-items.ts":function(e,t,n){n.r(t),n.d(t,{useStyleItems:function(){return useStyleItems}});var r=n("react"),o=n("@elementor/editor-responsive"),s=n("@elementor/editor-styles"),i=n("@elementor/editor-styles-repository"),a=n("@elementor/editor-v1-adapters"),c=n("./packages/packages/core/editor-canvas/src/utils/abort-previous-runs.ts"),l=n("./packages/packages/core/editor-canvas/src/utils/signalized-process.ts"),u=n("./packages/packages/core/editor-canvas/src/hooks/use-on-mount.ts"),d=n("./packages/packages/core/editor-canvas/src/hooks/use-style-prop-resolver.ts"),f=n("./packages/packages/core/editor-canvas/src/hooks/use-style-renderer.ts");function useStyleItems(){const e=(0,d.useStylePropResolver)(),t=(0,f.useStyleRenderer)(e),[n,s]=(0,r.useState)({}),c=(0,r.useMemo)(()=>i.stylesRepository.getProviders().map(e=>({provider:e,subscriber:createProviderSubscriber({provider:e,renderStyles:t,setStyleItems:s})})),[t]);(0,r.useEffect)(()=>{const e=c.map(({provider:e,subscriber:t})=>e.subscribe(t));return()=>{e.forEach(e=>e())}},[c]),(0,u.useOnMount)(()=>{(0,a.registerDataHook)("after","editor/documents/attach-preview",async()=>{const e=c.map(async({subscriber:e})=>e());await Promise.all(e)})});const l=(0,o.getBreakpoints)().map(e=>e.id);return(0,r.useMemo)(()=>Object.values(n).sort(sortByProviderPriority).flatMap(({items:e})=>e).sort(sortByStateType).sort(function sortByBreakpoint(e){return({breakpoint:t},{breakpoint:n})=>e.indexOf(t)-e.indexOf(n)}(l)),[n,l.join("-")])}function sortByProviderPriority({provider:e},{provider:t}){return e.priority-t.priority}function sortByStateType({state:e},{state:t}){return(0,s.isClassState)(e)&&!(0,s.isClassState)(t)?-1:!(0,s.isClassState)(e)&&(0,s.isClassState)(t)?1:0}function createProviderSubscriber({provider:e,renderStyles:t,setStyleItems:n}){return(0,c.abortPreviousRuns)(r=>(0,l.signalizedProcess)(r.signal).then((n,r)=>{const o=e.actions.all().map((t,n,r)=>{const o=r[r.length-1-n];return{...o,cssName:e.actions.resolveCssName(o.id)}});return t({styles:breakToBreakpoints(o),signal:r})}).then(t=>{n(n=>({...n,[e.getKey()]:{provider:e,items:t}}))}).execute());function breakToBreakpoints(e){return Object.values(e.reduce((e,t)=>(t.variants.forEach(n=>{const r=n.meta.breakpoint||"desktop";e[t.id]||(e[t.id]={}),e[t.id][r]||(e[t.id][r]={...t,variants:[]}),e[t.id][r].variants.push(n)}),e),{})).flatMap(e=>Object.values(e))}}},"./packages/packages/core/editor-canvas/src/hooks/use-style-prop-resolver.ts":function(e,t,n){n.r(t),n.d(t,{useStylePropResolver:function(){return useStylePropResolver}});var r=n("react"),o=n("@elementor/editor-styles"),s=n("./packages/packages/core/editor-canvas/src/renderers/create-props-resolver.ts"),i=n("./packages/packages/core/editor-canvas/src/style-transformers-registry.ts"),a=n("./packages/packages/core/editor-canvas/src/sync/enqueue-font.ts");function useStylePropResolver(){return(0,r.useMemo)(()=>(0,s.createPropsResolver)({transformers:i.styleTransformersRegistry,schema:(0,o.getStylesSchema)(),onPropResolve:({key:e,value:t})=>{"font-family"===e&&"string"==typeof t&&(0,a.enqueueFont)(t)}}),[])}},"./packages/packages/core/editor-canvas/src/hooks/use-style-renderer.ts":function(e,t,n){n.r(t),n.d(t,{useStyleRenderer:function(){return useStyleRenderer}});var r=n("react"),o=n("@elementor/editor-responsive"),s=n("./packages/packages/core/editor-canvas/src/renderers/create-styles-renderer.ts");const i=".elementor";function useStyleRenderer(e){const t=(0,o.useBreakpointsMap)();return(0,r.useMemo)(()=>(0,s.createStylesRenderer)({selectorPrefix:i,breakpoints:t,resolve:e}),[e,t])}},"./packages/packages/core/editor-canvas/src/init-settings-transformers.ts":function(e,t,n){n.r(t),n.d(t,{initSettingsTransformers:function(){return initSettingsTransformers}});var r=n("./packages/packages/core/editor-canvas/src/settings-transformers-registry.ts"),o=n("./packages/packages/core/editor-canvas/src/transformers/settings/attributes-transformer.ts"),s=n("./packages/packages/core/editor-canvas/src/transformers/settings/classes-transformer.ts"),i=n("./packages/packages/core/editor-canvas/src/transformers/settings/date-time-transformer.ts"),a=n("./packages/packages/core/editor-canvas/src/transformers/settings/link-transformer.ts"),c=n("./packages/packages/core/editor-canvas/src/transformers/settings/query-transformer.ts"),l=n("./packages/packages/core/editor-canvas/src/transformers/shared/image-src-transformer.ts"),u=n("./packages/packages/core/editor-canvas/src/transformers/shared/image-transformer.ts"),d=n("./packages/packages/core/editor-canvas/src/transformers/shared/plain-transformer.ts");function initSettingsTransformers(){r.settingsTransformersRegistry.register("classes",(0,s.createClassesTransformer)()).register("link",a.linkTransformer).register("query",c.queryTransformer).register("image",u.imageTransformer).register("image-src",l.imageSrcTransformer).register("attributes",o.attributesTransformer).register("date-time",i.dateTimeTransformer).registerFallback(d.plainTransformer)}},"./packages/packages/core/editor-canvas/src/init-style-transformers.ts":function(e,t,n){n.r(t),n.d(t,{initStyleTransformers:function(){return initStyleTransformers}});var r=n("./packages/packages/core/editor-canvas/src/style-transformers-registry.ts"),o=n("./packages/packages/core/editor-canvas/src/transformers/shared/image-src-transformer.ts"),s=n("./packages/packages/core/editor-canvas/src/transformers/shared/image-transformer.ts"),i=n("./packages/packages/core/editor-canvas/src/transformers/shared/plain-transformer.ts"),a=n("./packages/packages/core/editor-canvas/src/transformers/styles/background-color-overlay-transformer.ts"),c=n("./packages/packages/core/editor-canvas/src/transformers/styles/background-gradient-overlay-transformer.ts"),l=n("./packages/packages/core/editor-canvas/src/transformers/styles/background-image-overlay-transformer.ts"),u=n("./packages/packages/core/editor-canvas/src/transformers/styles/background-image-size-scale-transformer.ts"),d=n("./packages/packages/core/editor-canvas/src/transformers/styles/background-overlay-transformer.ts"),f=n("./packages/packages/core/editor-canvas/src/transformers/styles/background-transformer.ts"),p=n("./packages/packages/core/editor-canvas/src/transformers/styles/color-stop-transformer.ts"),m=n("./packages/packages/core/editor-canvas/src/transformers/styles/create-combine-array-transformer.ts"),g=n("./packages/packages/core/editor-canvas/src/transformers/styles/create-multi-props-transformer.ts"),y=n("./packages/packages/core/editor-canvas/src/transformers/styles/filter-transformer.ts"),h=n("./packages/packages/core/editor-canvas/src/transformers/styles/flex-transformer.ts"),v=n("./packages/packages/core/editor-canvas/src/transformers/styles/perspective-origin-transformer.ts"),b=n("./packages/packages/core/editor-canvas/src/transformers/styles/position-transformer.ts"),k=n("./packages/packages/core/editor-canvas/src/transformers/styles/shadow-transformer.ts"),w=n("./packages/packages/core/editor-canvas/src/transformers/styles/size-transformer.ts"),E=n("./packages/packages/core/editor-canvas/src/transformers/styles/stroke-transformer.ts"),T=n("./packages/packages/core/editor-canvas/src/transformers/styles/transform-functions-transformer.ts"),x=n("./packages/packages/core/editor-canvas/src/transformers/styles/transform-move-transformer.ts"),R=n("./packages/packages/core/editor-canvas/src/transformers/styles/transform-origin-transformer.ts"),S=n("./packages/packages/core/editor-canvas/src/transformers/styles/transform-rotate-transformer.ts"),C=n("./packages/packages/core/editor-canvas/src/transformers/styles/transform-scale-transformer.ts"),P=n("./packages/packages/core/editor-canvas/src/transformers/styles/transform-skew-transformer.ts"),I=n("./packages/packages/core/editor-canvas/src/transformers/styles/transition-transformer.ts");function initStyleTransformers(){r.styleTransformersRegistry.register("size",w.sizeTransformer).register("shadow",k.shadowTransformer).register("stroke",E.strokeTransformer).register("dimensions",(0,g.createMultiPropsTransformer)(["block-start","block-end","inline-start","inline-end"],({propKey:e,key:t})=>`${e}-${t}`)).register("filter",y.filterTransformer).register("backdrop-filter",y.filterTransformer).register("box-shadow",(0,m.createCombineArrayTransformer)(",")).register("background",f.backgroundTransformer).register("background-overlay",d.backgroundOverlayTransformer).register("background-color-overlay",a.backgroundColorOverlayTransformer).register("background-image-overlay",l.backgroundImageOverlayTransformer).register("background-gradient-overlay",c.backgroundGradientOverlayTransformer).register("gradient-color-stop",(0,m.createCombineArrayTransformer)(",")).register("color-stop",p.colorStopTransformer).register("background-image-position-offset",b.positionTransformer).register("background-image-size-scale",u.backgroundImageSizeScaleTransformer).register("image-src",o.imageSrcTransformer).register("image",s.imageTransformer).register("object-position",b.positionTransformer).register("transform-origin",R.transformOriginTransformer).register("perspective-origin",v.perspectiveOriginTransformer).register("transform-move",x.transformMoveTransformer).register("transform-scale",C.transformScaleTransformer).register("transform-rotate",S.transformRotateTransformer).register("transform-skew",P.transformSkewTransformer).register("transform-functions",T.transformFunctionsTransformer).register("transform",(0,g.createMultiPropsTransformer)(["transform-functions","transform-origin","perspective","perspective-origin"],({key:e})=>"transform-functions"===e?"transform":e)).register("transition",I.transitionTransformer).register("layout-direction",(0,g.createMultiPropsTransformer)(["row","column"],({propKey:e,key:t})=>`${t}-${e}`)).register("flex",h.flexTransformer).register("border-width",(0,g.createMultiPropsTransformer)(["block-start","block-end","inline-start","inline-end"],({key:e})=>`border-${e}-width`)).register("border-radius",(0,g.createMultiPropsTransformer)(["start-start","start-end","end-start","end-end"],({key:e})=>`border-${e}-radius`)).registerFallback(i.plainTransformer)}},"./packages/packages/core/editor-canvas/src/init.tsx":function(e,t,n){n.r(t),n.d(t,{init:function(){return init}});var r=n("@elementor/editor"),o=n("@elementor/editor-interactions"),s=n("@elementor/editor-mcp"),i=n("./packages/packages/core/editor-canvas/src/components/classes-rename.tsx"),a=n("./packages/packages/core/editor-canvas/src/components/elements-overlays.tsx"),c=n("./packages/packages/core/editor-canvas/src/components/interactions-renderer.tsx"),l=n("./packages/packages/core/editor-canvas/src/components/style-renderer.tsx"),u=n("./packages/packages/core/editor-canvas/src/init-settings-transformers.ts"),d=n("./packages/packages/core/editor-canvas/src/init-style-transformers.ts"),f=n("./packages/packages/core/editor-canvas/src/legacy/init-legacy-views.ts"),p=n("./packages/packages/core/editor-canvas/src/mcp/canvas-mcp.ts"),m=n("./packages/packages/core/editor-canvas/src/mcp/mcp-description.ts"),g=n("./packages/packages/core/editor-canvas/src/prevent-link-in-link-commands.ts"),y=n("./packages/packages/core/editor-canvas/src/style-commands/init-style-commands.ts");function init(){(0,d.initStyleTransformers)(),(0,y.initStyleCommands)(),(0,g.initLinkInLinkPrevention)(),(0,f.initLegacyViews)(),(0,u.initSettingsTransformers)(),(0,o.init)(),(0,r.injectIntoTop)({id:"elements-overlays",component:a.ElementsOverlays}),(0,r.injectIntoTop)({id:"canvas-style-render",component:l.StyleRenderer}),(0,r.injectIntoTop)({id:"canvas-interactions-render",component:c.InteractionsRenderer}),(0,r.injectIntoLogic)({id:"classes-rename",component:i.ClassesRename}),(0,p.initCanvasMcp)((0,s.getMCPByDomain)("canvas",{instructions:m.mcpDescription}))}},"./packages/packages/core/editor-canvas/src/legacy/create-element-type.ts":function(e,t,n){function createElementType(e){const t=window;return class extends t.elementor.modules.elements.types.Widget{getType(){return e}getView(){return createElementViewClassDeclaration()}}}function createElementViewClassDeclaration(){const e=window;return class extends e.elementor.modules.elements.views.Widget{onRender(...e){super.onRender(...e),this.#e("elementor/preview/atomic-widget/render"),this.#t("elementor/element/render")}onDestroy(...e){super.onDestroy(...e),this.#e("elementor/preview/atomic-widget/destroy"),this.#t("elementor/element/destroy")}attributes(){return{...super.attributes(),"data-atomic":"",style:"display: contents !important;"}}behaviors(){const e=["InlineEditing","Draggable","Resizable"],t=Object.entries(super.behaviors()).filter(([t])=>!e.includes(t));return Object.fromEntries(t)}getDomElement(){return this.$el.find(":first-child")}getHandlesOverlay(){return null}#e(e){window.top?.dispatchEvent(new CustomEvent(e,{detail:{id:this.model.get("id")}}))}#t(t){e.elementor?.$preview?.[0]?.contentWindow.dispatchEvent(new CustomEvent(t,{detail:{id:this.model.get("id"),type:this.model.get("widgetType"),element:this.getDomElement().get(0)}}))}getContextMenuGroups(){return super.getContextMenuGroups().filter(e=>"save"!==e.name)}}}n.r(t),n.d(t,{createElementType:function(){return createElementType},createElementViewClassDeclaration:function(){return createElementViewClassDeclaration}})},"./packages/packages/core/editor-canvas/src/legacy/create-templated-element-type.ts":function(e,t,n){n.r(t),n.d(t,{canBeTemplated:function(){return canBeTemplated},createTemplatedElementType:function(){return createTemplatedElementType},createTemplatedElementView:function(){return createTemplatedElementView}});var r=n("./packages/packages/core/editor-canvas/src/renderers/create-props-resolver.ts"),o=n("./packages/packages/core/editor-canvas/src/settings-transformers-registry.ts"),s=n("./packages/packages/core/editor-canvas/src/utils/signalized-process.ts"),i=n("./packages/packages/core/editor-canvas/src/legacy/create-element-type.ts");function createTemplatedElementType({type:e,renderer:t,element:n}){const r=window;return class extends r.elementor.modules.elements.types.Widget{getType(){return e}getView(){return createTemplatedElementView({type:e,renderer:t,element:n})}}}function canBeTemplated(e){return!!(e.atomic_props_schema&&e.twig_templates&&e.twig_main_template&&e.base_styles_dictionary)}function createTemplatedElementView({type:e,renderer:t,element:n}){const a=(0,i.createElementViewClassDeclaration)(),c=n.twig_main_template,l=n.base_styles_dictionary;Object.entries(n.twig_templates).forEach(([e,n])=>{t.register(e,n)});const u=(0,r.createPropsResolver)({transformers:o.settingsTransformersRegistry,schema:n.atomic_props_schema});return class extends a{#n=null;getTemplateType(){return"twig"}renderOnChange(){this.render()}render(){this.#n?.abort(),this.#n=new AbortController;return(0,s.signalizedProcess)(this.#n.signal).then(()=>this.#r()).then(()=>this._renderTemplate()).then(()=>{this._renderChildren(),this.#o()}).execute()}async _renderTemplate(){this.triggerMethod("before:render:template");const n=(0,s.signalizedProcess)(this.#n?.signal).then((e,t)=>{const n=this.model.get("settings").toJSON();return u({props:n,signal:t})}).then(e=>this.afterSettingsResolve(e)).then(async n=>{const r={id:this.model.get("id"),type:e,settings:n,base_styles:l};return t.render(c,r)}).then(e=>this.$el.html(e));await n.execute(),this.bindUIElements(),this.triggerMethod("render:template")}afterSettingsResolve(e){return e}#r(){this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this)}#o(){this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this)}}}},"./packages/packages/core/editor-canvas/src/legacy/init-legacy-views.ts":function(e,t,n){n.r(t),n.d(t,{elementsLegacyTypes:function(){return c},initLegacyViews:function(){return initLegacyViews},registerElementType:function(){return registerElementType}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-v1-adapters"),s=n("./packages/packages/core/editor-canvas/src/renderers/create-dom-renderer.ts"),i=n("./packages/packages/core/editor-canvas/src/legacy/create-element-type.ts"),a=n("./packages/packages/core/editor-canvas/src/legacy/create-templated-element-type.ts");const c={};function registerElementType(e,t){c[e]=t}function initLegacyViews(){(0,o.__privateListenTo)((0,o.v1ReadyEvent)(),()=>{const e=(0,r.getWidgetsCache)()??{},t=window,n=(0,s.createDomRenderer)();Object.entries(e).forEach(([e,r])=>{if(!r.atomic)return;let o;o=c[e]&&(0,a.canBeTemplated)(r)?c[e]({type:e,renderer:n,element:r}):(0,a.canBeTemplated)(r)?(0,a.createTemplatedElementType)({type:e,renderer:n,element:r}):(0,i.createElementType)(e),t.elementor.elementsManager.registerElementType(new o)})})}},"./packages/packages/core/editor-canvas/src/legacy/types.ts":function(e,t,n){n.r(t)},"./packages/packages/core/editor-canvas/src/mcp/canvas-mcp.ts":function(e,t,n){n.r(t),n.d(t,{initCanvasMcp:function(){return initCanvasMcp}});var r=n("./packages/packages/core/editor-canvas/src/mcp/resources/widgets-schema-resource.ts"),o=n("./packages/packages/core/editor-canvas/src/mcp/tools/build-composition/tool.ts"),s=n("./packages/packages/core/editor-canvas/src/mcp/tools/configure-element/tool.ts"),i=n("./packages/packages/core/editor-canvas/src/mcp/tools/get-element-config/tool.ts");const initCanvasMcp=e=>{const{setMCPDescription:t}=e;t('Everything related to creative design, layout, styling and building the pages, specifically element of type "widget"'),(0,r.initWidgetsSchemaResource)(e),(0,o.initBuildCompositionsTool)(e),(0,i.initGetElementConfigTool)(e),(0,s.initConfigureElementTool)(e)}},"./packages/packages/core/editor-canvas/src/mcp/mcp-description.ts":function(e,t,n){n.r(t),n.d(t,{mcpDescription:function(){return o}});var r=n("./packages/packages/core/editor-canvas/src/mcp/resources/widgets-schema-resource.ts");const o=`Canvas MCP - Working with widgets and styles: how to use the PropType schemas and generate PropValue structures\n\n# Elementor's PropValue configuration system\n\nEvery widget in Elementor has a set of properties that can be configured, defined in a STRICT SCHEMA we call "PropType".\nAll widget configuration values are represented using a structure we call "PropValue".\n\nTo correctly configure a widget's properties, FOLLOW THE PropType schema defined for that widget. This schema outlines the expected structure and types for each property, ensuring that the values you provide are valid and can be properly interpreted by Elementor.\nEvery widget has it's own PropType schema, retreivable from the resource [${r.WIDGET_SCHEMA_URI}].\nALL WIDGETS share a common _styles property with a uniform styles schema, retreivable from the resource [${r.STYLE_SCHEMA_URI}].\nThe style schema is grouped by categories, such as "typography", "background", "border", etc.\n\n# Tools and usage\n- Use the "get-element-configuration-values" tool to retrieve the current configuration of a specific element, including its PropValues and styles. It is recommended to use this tool when you are required to make changes to an existing element, to ensure you have the correct current configuration schema.\n  If a PropValue changes it's type (only on union PropTypes), read the new schema from the resources mentioned above, and adjust the PropValue structure accordingly.\n- Use the "build-composition" tool to create a NEW ELEMENTS in a composition on the page. You can use this tool to also create a new single element.\n- Use the "configure-element" tool to update the configuration of an EXISTING element on the page.\n\nAll array types that can receive union types, are typed as mixed array, which means that each item in the array can be of any of the allowed types defined in the PropType schema.\nExample: the "background" can have a background-overlay property, which can contain multiple overlays, such as color, gradient, image, etc. Each item in the array must follow the PropType schema for each overlay type.\nAll _style properties are OPTIONAL. When a _style is defined, we MERGE the values with existing styles, so only the properties you define will be changed, and the rest will remain as is.\n\n# Styling best practices\nPrefer using "em" and "rem" values for text-related sizes, padding and spacing. Use percentages for dynamic sizing relative to parent containers.\nThis flexboxes are by default "flex" with "stretch" alignment. To ensure proper layout, define the "justify-content" and "align-items" as in the schema.\n\nAdditionaly, some PropTypes have metadata information (meta property) that can help in understaind the PropType usage, such as description or other useful information.\n\nExample of null values:\n{\n  $$type: 'as-defined-for-propValue',\n  value: null\n}\n\nExample of "image" PropValue structure:\n{$$type:'image',value:{src:{$$type:'image-src',value:{url:{$$type:'url',value:'https://example.com/image.jpg'}}},size:{$$type:'string',value:'full'}}}\n\n`},"./packages/packages/core/editor-canvas/src/mcp/resources/widgets-schema-resource.ts":function(e,t,n){n.r(t),n.d(t,{BEST_PRACTICES_URI:function(){return l},STYLE_SCHEMA_URI:function(){return c},WIDGET_SCHEMA_URI:function(){return a},initWidgetsSchemaResource:function(){return initWidgetsSchemaResource}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-mcp"),s=n("@elementor/editor-props"),i=n("@elementor/editor-styles");const a="elementor://widgets/schema/{widgetType}",c="elementor://styles/schema/{category}",l="elementor://styles/best-practices",initWidgetsSchemaResource=e=>{const{mcpServer:t}=e;t.resource("styles-best-practices",l,async()=>({contents:[{uri:l,text:'# Styling best practices\nPrefer using "em" and "rem" values for text-related sizes, padding and spacing. Use percentages for dynamic sizing relative to parent containers.\nThis flexboxes are by default "flex" with "stretch" alignment. To ensure proper layout, define the "justify-content" and "align-items" as in the schema, or in custom_css, depends on your needs.\n\nWhen applicable for styles, use the "custom_css" property for free-form CSS styling. This property accepts a string of CSS rules that will be applied directly to the element.\nThe css string must follow standard CSS syntax, with properties and values separated by semicolons, no selectors, or nesting rules allowed.'}]})),t.resource("styles-schema",new o.ResourceTemplate(c,{list:()=>({resources:[...Object.keys((0,i.getStylesSchema)()),"custom_css"].map(e=>({uri:`elementor://styles/schema/${e}`,name:"Style schema for "+e}))})}),{description:"Common styles schema for the specified category"},async(e,t)=>{const n="string"==typeof t.category?t.category:t.category?.[0];if("custom_css"===n)return{contents:[{uri:e.toString(),text:"Free style inline CSS string of properties and their values. Applicable for a single element, only the properties and values are accepted. Use this as a last resort for properties that are not covered with the schema."}]};const r=(0,i.getStylesSchema)()[n];if(!r)throw new Error(`No styles schema found for category: ${n}`);const o=cleanupPropType(r),a=s.Schema.propTypeToJsonSchema(o);return{contents:[{uri:e.toString(),text:JSON.stringify(a)}]}}),t.resource("widget-schema-by-type",new o.ResourceTemplate(a,{list:()=>{const e=(0,r.getWidgetsCache)()||{};return{resources:Object.keys(e||{}).filter(t=>e[t]?.atomic_props_schema).map(e=>({uri:`elementor://widgets/schema/${e}`,name:"Widget schema for "+e}))}}}),{description:"PropType schema for the specified widget type"},async(e,t)=>{const n="string"==typeof t.widgetType?t.widgetType:t.widgetType?.[0],o=(0,r.getWidgetsCache)()?.[n]?.atomic_props_schema;if(!o)throw new Error(`No prop schema found for element type: ${n}`);const i=cleanupPropSchema(o),a=Object.fromEntries(Object.entries(i).map(([e,t])=>[e,s.Schema.propTypeToJsonSchema(t)]));return s.Schema.nonConfigurablePropKeys.forEach(e=>{delete a[e]}),{contents:[{uri:e.toString(),text:JSON.stringify(a)}]}})};function cleanupPropSchema(e){const t={};return Object.keys(e).forEach(n=>{t[n]=cleanupPropType(e[n])}),t}function cleanupPropType(e){const t={};if(Object.keys(e).forEach(n=>{switch(n){case"key":case"kind":t[n]=e[n];break;case"meta":case"settings":Object.keys(e[n]||{}).length>0&&(t[n]=e[n])}}),"plain"===t.kind)Object.defineProperty(t,"kind",{value:"string"});else if("array"===t.kind)t.item_prop_type=cleanupPropType(e.item_prop_type);else if("object"===t.kind){const n=cleanupPropSchema(e.shape);t.shape=n}else if("union"===t.kind){const n=e.prop_types,r={};Object.keys(n).forEach(e=>{r[e]=cleanupPropType(n[e])}),t.prop_types=r}return t}},"./packages/packages/core/editor-canvas/src/mcp/tools/build-composition/prompt.ts":function(e,t,n){n.r(t),n.d(t,{generatePrompt:function(){return generatePrompt}});var r=n("@elementor/editor-mcp"),o=n("./packages/packages/core/editor-canvas/src/mcp/resources/widgets-schema-resource.ts");const generatePrompt=()=>{const e=(0,r.toolPrompts)("build-compositions");return e.description(`\nBuild entire elementor widget comositions representing complex structures of nested elements.\n\n# When to use this tool\nAlways prefer this tool when the user requires to build a composition of elements, such as cards, heros, or inspired from other pages or HTML compositions.\nPrefer this tool over any other tool for building HTML structure, unless you are specified to use a different tool.\n\n# **CRITICAL - REQUIRED RESOURCES (Must read before using this tool)**\n1. [${o.WIDGET_SCHEMA_URI}]\n   Required to understand which widgets are available, and what are their configuration schemas.\n   Every widgetType (i.e. e-heading, e-button) that is supported has it's own property schema, that you must follow in order to apply property values correctly.\n2. [${o.STYLE_SCHEMA_URI}]\n   Required to understand the styles schema for the widgets. All widgets share the same styles schema.\n3. List of allowed custom tags for building the structure is derived from the list of widgets schema resources.\n\n# Instructions\n1. Understand the user requirements carefully.\n2. Build a valid XML structure using only the allowed custom tags provided. For example, if you\n   use the "e-button" element, it would be represented as <e-button></e-button> in the XML structure.\n3. Plan the configuration for each element according to the user requirements, using the configuration schema provided for each custom tag.\n   Every widget type has it's own configuration schema, retreivable from the resource [${o.WIDGET_SCHEMA_URI}].\n   PropValues must follow the exact PropType schema provided in the resource.\n4. For every element, provide a "configuration-id" attribute. For example:\n   \`<e-flexbox configuration-id="flex1"><e-heading configuration-id="heading2"></e-heading></e-flexbox>\`\n   In the elementConfig property, provide the actual configuration object for each configuration-id used in the XML structure.\n   In the stylesConfig property, provide the actual styles configuration object for each configuration-id used in the XML structure.\n5. Ensure the XML structure is valid and parsable.\n6. Do not add any attribute nodes, classes, id's, and no text nodes allowed.\n   Layout properties, such as margin, padding, align, etc. must be applied using the [${o.STYLE_SCHEMA_URI}] PropValues.\n7. Some elements allow nesting of other elements, and most of the DO NOT. The allowed elements that can have nested children are "e-div-block" and "e-flexbox".\n8. Make sure that non-container elements do NOT have any nested elements.\n9. Unsless the user specifically requires structure only, BE EXPRESSIVE AND VISUALLY CREATIVE AS POSSIBLE IN APPLYING STYLE CONFIGURATION.\n   In the case of doubt, prefer adding more styles to make the composition visually appealing.\n\n# Additional Guidelines\n- Most users expect the structure to be well designed and visually appealing.\n- Use layout properties, ensure "white space" design approach is followed, and make sure the composition is visually balanced.\n- Use appropriate spacing, alignment, and sizing to create a harmonious layout.\n- Consider the visual hierarchy of elements to guide the user's attention effectively.\n- You are encouraged to use colors, typography, and other style properties to enhance the visual appeal, as long as they are part of the configuration schema for the elements used.\n- Always aim for a clean and professional look that aligns with modern design principles.\n- When you are required to create placeholder texts, use texts that have a length that fits the goal. When long texts are required, use longer placeholder texts. When the user specifies exact texts, use the exact texts.\n- Image size does not affect the actual size on the screen, only which quality to use. If you use images, specifically add _styles PropValues to define the image sizes.\n- Attempt to use layout, margin, padding, size properties from the styles schema.\n- If your elements library is limited, encourage use of nesting containers to achieve complex layouts.\n\n# CONSTRAINTS\nWhen a tool execution fails, retry up to 10 more times, read the error message carefully, and adjust the XML structure or the configurations accordingly.\nIf a "$$type" is missing, update the invalid object, if the XML has parsing errors, fix it, etc. and RETRY.\nVALIDATE the XML structure before delivering it as the final result.\nVALIDATE the JSON structure used in the "configuration" attributes for each element before delivering the final result. The configuration must MATCH the PropValue schemas.\nNO LINKS ALLOWED. Never apply links to elements, even if they appear in the PropType schema.\nelementConfig values must align with the widget's PropType schema, available at the resource [${o.WIDGET_SCHEMA_URI}].\nstylesConfig values must align with the common styles PropType schema, available at the resource [${o.STYLE_SCHEMA_URI}].\n\n# Parameters\nAll parameters are MANDATORY.\n- xmlStructure\n- elementConfig\n- stylesConfig\n\nIf unsure about the configuration of a specific property, read the schema resources carefully.\n\n\n  `),e.example('\nA Heading and a button inside a flexbox\n{\n  xmlStructure: "<e-flexbox configuration-id="flex1"><e-heading configuration-id="heading1"></e-heading><e-button configuration-id="button1"></e-button></e-flexbox>"\n  elementConfig: {\n    "flex1": {\n      "tag": {\n        "$$type": "string",\n        "value": "section"\n      },\n  },\n  stylesConfig: {\n    "heading1": {\n      "font-size": {\n        "$$type": "size",\n        "value": {\n          "size": { "$$type": "number", "value": 24 },\n          "unit": { "$$type": "string", "value": "px" }\n        }\n      },\n      "color": {\n        "$$type": "color",\n        "value": { "$$type": "string", "value": "#333" }\n      }\n    }\n  },\n}\n'),e.parameter("xmlStructure","**MANDATORY** A valid XML structure representing the composition to be built, using custom elementor tags, styling and configuration PropValues."),e.parameter("elementConfig","**MANDATORY** A record mapping configuration IDs to their corresponding configuration objects, defining the PropValues for each element created."),e.parameter("stylesConfig","**MANDATORY** A record mapping style PropTypes to their corresponding style configuration objects, defining the PropValues for styles to be applied to elements."),e.instruction("You will be provided the XML structure with element IDs. These IDs represent the actual elementor widgets created on the page/post.\nYou should use these IDs as reference for further configuration, styling or changing elements later on."),e.instruction("You must use styles/variables/classes that are available in the project resources, you should prefer using them over inline styles, and you are welcome to execute relevant tools AFTER this tool execution, to apply global classes to the created elements."),e.prompt()}},"./packages/packages/core/editor-canvas/src/mcp/tools/build-composition/schema.ts":function(e,t,n){n.r(t),n.d(t,{inputSchema:function(){return s},outputSchema:function(){return i}});var r=n("@elementor/schema"),o=n("./packages/packages/core/editor-canvas/src/mcp/resources/widgets-schema-resource.ts");const s={xmlStructure:r.z.string().describe("The XML structure representing the composition to be built"),elementConfig:r.z.record(r.z.string().describe("The configuration id"),r.z.record(r.z.string().describe("property name"),r.z.any().describe("The PropValue for the property"))).describe("A record mapping element IDs to their configuration objects. REQUIRED"),stylesConfig:r.z.record(r.z.string().describe("The configuration id"),r.z.record(r.z.string().describe("_styles property name"),r.z.any().describe("The PropValue for the style property. MANDATORY"))).describe(`A record mapping element IDs to their styles configuration objects. Use the actual styles schema from [${o.STYLE_SCHEMA_URI}].`).default({})},i={errors:r.z.string().describe("Error message if the composition building failed").optional(),xmlStructure:r.z.string().describe("The built XML structure as a string").optional(),llmInstructions:r.z.string().describe("Instructions used to further actions for you").optional()}},"./packages/packages/core/editor-canvas/src/mcp/tools/build-composition/tool.ts":function(e,t,n){n.r(t),n.d(t,{initBuildCompositionsTool:function(){return initBuildCompositionsTool}});var r=n("@elementor/editor-elements"),o=n("./packages/packages/core/editor-canvas/src/mcp/utils/do-update-element-property.ts"),s=n("./packages/packages/core/editor-canvas/src/mcp/tools/build-composition/prompt.ts"),i=n("./packages/packages/core/editor-canvas/src/mcp/tools/build-composition/schema.ts");const initBuildCompositionsTool=e=>{const{addTool:t}=e;t({name:"build-compositions",description:(0,s.generatePrompt)(),schema:i.inputSchema,outputSchema:i.outputSchema,handler:async e=>{let t=null;const{xmlStructure:n,elementConfig:s,stylesConfig:i}=e,a=[],c=[],l=[],u=(0,r.getWidgetsCache)()||{},d=(0,r.getContainer)("document");try{t=(new DOMParser).parseFromString(n,"application/xml");const e=t.querySelector("parsererror");if(e)throw new Error("Failed to parse XML structure: "+e.textContent);const f=Array.from(t.children),iterate=(e,t=d)=>{const n=e.tagName;u[n]||a.push(new Error(`Unknown widget type: ${n}`));const f="e-flexbox"===n||"e-div-block"===n,p=f?(0,r.createElement)({containerId:t.id,model:{elType:n,id:(0,r.generateElementId)()},options:{useHistory:!1}}):(0,r.createElement)({containerId:t.id,model:{elType:"widget",widgetType:n,id:(0,r.generateElementId)()},options:{useHistory:!1}});t===d&&l.push(p),e.setAttribute("id",p.id);const m=e.getAttribute("configuration-id")||"";try{const t=s[m]||{},r=i[m]||{};t._styles=r;for(const[e,r]of Object.entries(t)){const t=u[n];if(t?.atomic_props_schema?.[e]||"_styles"===e||"custom_css"===e)try{(0,o.doUpdateElementProperty)({elementId:p.id,propertyName:e,propertyValue:"custom_css"===e?{_styles:r}:r,elementType:n})}catch(e){c.push(e)}else c.push(new Error(`Property "${e}" does not exist on element type "${n}".`))}if(f)for(const t of e.children)iterate(t,p);else e.innerHTML="",e.removeAttribute("configuration")}finally{}};for(const e of f)iterate(e,d)}catch(e){a.push(e)}if(a.length&&l.forEach(e=>{(0,r.deleteElement)({elementId:e.id,options:{useHistory:!1}})}),a.length>0){const e=`Failed to build composition with the following errors:\n\n\n${a.map(e=>"string"==typeof e?e:e.message).join("\n\n")}\n"Missing $$type" errors indicate that the configuration objects are invalid. Try again and apply **ALL** object entries with correct $$type.\nNow that you have these errors, fix them and try again. Errors regarding configuration objects, please check again the PropType schemas`;throw new Error(e)}if(!t)throw new Error("XML structure is null after parsing.");return{xmlStructure:(new XMLSerializer).serializeToString(t),llmInstructions:(c.length?`The composition was built successfully, but there were some issues with the provided configurations:\n\n${c.map(e=>`- ${e.message}`).join("\n")}\n\nPlease use confiugure-element tool to fix these issues. Now that you have information about these issues, use the configure-element tool to fix them!`:"")+'\nNext Steps:\n- Use "apply-global-class" tool as there may be global styles ready to be applied to elements.\n- Use "configure-element" tool to further configure elements as needed, including styles.\n'}}})}},"./packages/packages/core/editor-canvas/src/mcp/tools/configure-element/prompt.ts":function(e,t,n){n.r(t),n.d(t,{configureElementToolPrompt:function(){return o}});var r=n("./packages/packages/core/editor-canvas/src/mcp/resources/widgets-schema-resource.ts");const o=`Configure an existing element on the page.\n\n# **CRITICAL - REQUIRED INFORMATION (Must read before using this tool)**\n1. [${r.WIDGET_SCHEMA_URI}]\n   Required to understand which widgets are available, and what are their configuration schemas.\n   Every widgetType (i.e. e-heading, e-button) that is supported has it's own property schema, that you must follow in order to apply property values correctly.\n2. [${r.STYLE_SCHEMA_URI}]\n   Required to understand the styles schema for the widgets. All widgets share the same styles schema, grouped by categories.\n   Use this resource to understand which style properties are available for each element, and how to structure the "_styles" configuration property.\n3. If not sure about the PropValues schema, you can use the "get-element-configuration-values" tool to retreive the current PropValues configuration of the element.\n\nBefore using this tool, check the definitions of the elements PropTypes at the resource "widget-schema-by-type" at editor-canvas__elementor://widgets/schema/{widgetType}\nAll widgets share a common _style property for styling, which uses the common styles schema.\nRetreive and check the common styles schema at the resource list "styles-schema" at editor-canvas__elementor://styles/schema/{category}\n\n# Parameters\n- propertiesToChange: An object containing the properties to change, with their new values. MANDATORY\n- elementId: The ID of the element to configure. MANDATORY\n- elementType: The type of the element to configure (i.e. e-heading, e-button). MANDATORY\n\n# When to use this tool\nWhen a user requires to change anything in an element, such as updating text, colors, sizes, or other configurable properties.\nThis tool handles elements of type "widget".\nThis tool handles styling elements, using the _styles property in the configuration.\n\nThe element's schema must be known before using this tool.\n\nAttached resource link describing how PropType schema should be parsed as PropValue for this tool.\n\nRead carefully the PropType Schema of the element and it's styles, then apply correct PropValue according to the schema.\n\nPropValue structure:\n{\n    "$$type": string, // MANDATORY as defined in the PropType schema under the "key" property\n    value: unknown // The value according to the PropType schema for kinds of "array", use array with PropValues items inside. For "object", read the shape property of the PropType schema. For "plain", use strings.\n}\n\n<IMPORTANT>\nALWAYS MAKE SURE you have the PropType schemas for the element you are configuring, and the common-styles schema for styling. If you are not sure, retreive the schema from the resources mentioned above.\n</IMPORTANT>\n\nYou can use multiple property changes at once by providing multiple entries in the propertiesToChange object, including _style alongside non-style props.\nSome properties are nested, use the root property name, then objects with nested values inside, as the complete schema suggests.\nNested properties, such as for the _styles, should include a "_styles" property with object containing the definitions to change.\n\nMake sure you have the "widget-schema-by-type" resource available to retreive the PropType schema for the element type you are configuring.\n\n# How to configure elements\nWe use a dedicated PropType Schema for configuring elements, including styles. When you configure an element, you must use the EXACT PropType Value as defined in the schema.\nFor _styles, use the style schema provided, as it also uses the PropType format.\nFor all non-primitive types, provide the key property as defined in the schema as $$type in the generated objecct, as it is MANDATORY for parsing.\n\nUse the EXACT "PROP-TYPE" Schema given, and ALWAYS include the "key" property from the original configuration for every property you are changing.\n\n# Example\n\`\`\`json\n{\n  propertiesToChange: {\n    // List of properties TO CHANGE, following the PropType schema for the element as defined in the resource [${r.WIDGET_SCHEMA_URI}]\n    title: {\n      $$type: 'string',\n      value: 'New Title Text'\n    },\n    border: {\n      $$type: 'boolean',\n      value: false\n    },\n    _styles: {\n      // List of available keys available at the [${r.STYLE_SCHEMA_URI}] dynamic resource\n      'line-height': {\n        $$type: 'size', // MANDATORY do not forget to include the correct $$type for every property\n        value: {\n          size: {\n            $$type: 'number',\n            value: 20\n          },\n          unit: {\n            $$type: 'string',\n            value: 'px'\n          }\n        }\n      }\n    }\n  }\n};\n\`\`\`\n\n<IMPORTANT>\nThe $$type property is MANDATORY for every value, it is required to parse the value and apply application-level effects.\n</IMPORTANT>\n`},"./packages/packages/core/editor-canvas/src/mcp/tools/configure-element/schema.ts":function(e,t,n){n.r(t),n.d(t,{inputSchema:function(){return o},outputSchema:function(){return s}});var r=n("@elementor/schema");const o={propertiesToChange:r.z.record(r.z.string().describe("The property name. If nested property, provide the root property name, and the object delta only."),r.z.any().describe("The property's value")).describe("An object record containing property names and their new values to be set on the element").optional(),elementType:r.z.string().describe("The type of the element to retreive the schema"),elementId:r.z.string().describe("The unique id of the element to configure")},s={success:r.z.boolean().describe("Whether the configuration change was successful, only if propertyName and propertyValue are provided")}},"./packages/packages/core/editor-canvas/src/mcp/tools/configure-element/tool.ts":function(e,t,n){n.r(t),n.d(t,{initConfigureElementTool:function(){return initConfigureElementTool}});var r=n("./packages/packages/core/editor-canvas/src/mcp/resources/widgets-schema-resource.ts"),o=n("./packages/packages/core/editor-canvas/src/mcp/utils/do-update-element-property.ts"),s=n("./packages/packages/core/editor-canvas/src/mcp/tools/configure-element/prompt.ts"),i=n("./packages/packages/core/editor-canvas/src/mcp/tools/configure-element/schema.ts");const initConfigureElementTool=e=>{const{addTool:t}=e;t({name:"configure-element",description:s.configureElementToolPrompt,schema:i.inputSchema,outputSchema:i.outputSchema,handler:({elementId:e,propertiesToChange:t,elementType:n})=>{if(!t)throw new Error("propertiesToChange is required to configure an element. Now that you have this information, ensure you have the schema and try again.");const r=Object.entries(t);for(const[t,s]of r){if(!t&&!e&&!n)throw new Error("propertyName, elementId, elementType are required to configure an element. If you want to retreive the schema, use the get-element-configuration-schema tool.");try{(0,o.doUpdateElementProperty)({elementId:e,elementType:n,propertyName:t,propertyValue:s})}catch(r){const o=createUpdateErrorMessage({propertyName:t,elementId:e,elementType:n,error:r});throw new Error(o)}}return{success:!0}}})};function createUpdateErrorMessage(e){const{propertyName:t,elementId:n,elementType:o,error:s}=e;return`Failed to update property "${t}" on element "${n}": ${s.message}.\nCheck the element's PropType schema at the resource [${r.WIDGET_SCHEMA_URI.replace("{widgetType}",o)}] for type "${o}" to ensure the property exists and the value matches the expected PropType.\nNow that you have this information, ensure you have the schema and try again.`}},"./packages/packages/core/editor-canvas/src/mcp/tools/get-element-config/tool.ts":function(e,t,n){n.r(t),n.d(t,{initGetElementConfigTool:function(){return initGetElementConfigTool}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-props"),s=n("@elementor/schema");const i={elementId:s.z.string()},a={propValues:s.z.record(s.z.string(),s.z.any()).describe("A record mapping PropTypes to their corresponding PropValues, with _styles record for style-related PropValues")},initGetElementConfigTool=e=>{const{addTool:t}=e;t({name:"get-element-configuration-values",description:"Retrieve the element's configuration PropValues for a specific element by unique ID.",schema:i,outputSchema:a,handler:async({elementId:e})=>{const t=(0,r.getContainer)(e);if(!t)throw new Error(`Element with ID ${e} not found.`);const n=t.settings,s=(0,r.getWidgetsCache)()?.[t.model.get("widgetType")||""]?.atomic_props_schema;if(!n||!s)throw new Error(`No settings or prop schema found for element ID: ${e}`);const i={},a={};o.Schema.configurableKeys(s).forEach(e=>{i[e]=structuredClone(n.get(e))});const c=(0,r.getElementStyles)(e)||{},l=Object.values(c).find(e=>"local"===e.label);if(l){const e=l.variants.find(e=>"desktop"===e.meta.breakpoint&&!e.meta.state);if(e){const t=e.props||{};Object.keys(t).forEach(e=>{void 0!==t[e]&&(a[e]=structuredClone(t[e]))})}}return{propValues:{...i,_styles:a}}}})}},"./packages/packages/core/editor-canvas/src/mcp/utils/do-update-element-property.ts":function(e,t,n){n.r(t),n.d(t,{doUpdateElementProperty:function(){return doUpdateElementProperty}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-props"),s=n("@elementor/editor-styles");function resolvePropValue(e,t){return o.Schema.adjustLlmPropValueSchema(e,t)}const doUpdateElementProperty=e=>{const{elementId:t,propertyName:n,propertyValue:i,elementType:a}=e;if("_styles"===n){const e=(0,r.getElementStyles)(t)||{},n=i,a=(0,s.getStylesSchema)(),c=Object.fromEntries(Object.entries(n).map(([e,t])=>{if("custom_css"===e)return[e,t];const{key:n,kind:r}=a?.[e]||{};if(!n&&"union"!==r)throw new Error(`_styles property ${e} is not supported.`);return[e,resolvePropValue(t,n)]}));let l;Object.keys(n).forEach(e=>{const t=a[e];if("custom_css"===e){let t=n[e];return"object"==typeof t&&(t=o.stringPropTypeUtil.extract(t)||t?.value||""),void(l={raw:btoa(t)})}if(!!!t)throw new Error(`_styles property ${e} is not supported.`);if("plain"===t.kind&&"object"!=typeof n[e]){const r=(0,o.getPropSchemaFromCache)(t.key);if(r){const t=r.create(n[e]);n[e]=t}}});const u=Object.values(e).find(e=>"local"===e.label);return void(u?(0,r.updateElementStyle)({elementId:t,styleId:u.id,meta:{breakpoint:"desktop",state:null},...void 0!==l?{custom_css:l}:{},props:{...c}}):(0,r.createElementStyle)({elementId:t,...void 0!==l?{custom_css:l}:{},classesProp:"classes",label:"local",meta:{breakpoint:"desktop",state:null},props:{...c}}))}const c=(0,r.getWidgetsCache)()?.[a]?.atomic_props_schema;if(!c)throw new Error(`No prop schema found for element type: ${a}`);if(!c[n]){const e=Object.keys(c);throw new Error(`Property "${n}" does not exist on element type "${a}". Available properties are: ${e.join(", ")}`)}const l=resolvePropValue(i);(0,r.updateElementSettings)({id:t,props:{[n]:l},withHistory:!1})}},"./packages/packages/core/editor-canvas/src/prevent-link-in-link-commands.ts":function(e,t,n){n.r(t),n.d(t,{initLinkInLinkPrevention:function(){return initLinkInLinkPrevention}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-notifications"),s=n("@elementor/editor-v1-adapters"),i=n("@wordpress/i18n");function initLinkInLinkPrevention(){(0,s.blockCommand)({command:"document/elements/paste",condition:blockLinkInLinkPaste}),(0,s.blockCommand)({command:"document/elements/move",condition:blockLinkInLinkMove})}const a={href:"https://go.elementor.com/element-link-inside-link-infotip",target:"_blank",color:"inherit",variant:"text",sx:{marginInlineStart:"20px"},children:"Learn more"};function blockLinkInLinkPaste(e){const{containers:t=[e.container],storageType:n}=e,r=t;if("localstorage"!==n)return!1;const s=window?.elementorCommon?.storage?.get();if(!s?.clipboard?.elements)return!1;const c=s.clipboard.elements,l={type:"default",message:(0,i.__)("To paste a link to this element, first remove the link from it's parent container.","elementor"),id:"paste-in-link-blocked",additionalActionProps:[a]},u=shouldBlock(c,r);return u&&(0,o.notify)(l),u}function blockLinkInLinkMove(e){const{containers:t=[e.container],target:n}=e,r=t,s=n,c={type:"default",message:(0,i.__)("To drag a link to this element, first remove the link from it's parent container.","elementor"),id:"move-in-link-blocked",additionalActionProps:[a]},l=shouldBlock(r,[s]);return l&&(0,o.notify)(c),l}function shouldBlock(e,t){if(!e?.length||!t?.length)return!1;if(!e.some(e=>!!e?.id&&((0,r.isElementAnchored)(e.id)||!!(0,r.getAnchoredDescendantId)(e.id))))return!1;return t.some(e=>!!e?.id&&((0,r.isElementAnchored)(e.id)||!!(0,r.getAnchoredAncestorId)(e.id)))}},"./packages/packages/core/editor-canvas/src/renderers/create-dom-renderer.ts":function(e,t,n){n.r(t),n.d(t,{createDomRenderer:function(){return createDomRenderer}});var r=n("@elementor/twing");function createDomRenderer(){const e=(0,r.createArrayLoader)({}),t=(0,r.createEnvironment)(e);return t.registerEscapingStrategy(escapeHtmlTag,"html_tag"),t.registerEscapingStrategy(escapeURL,"full_url"),{register:e.setTemplate,render:t.render}}function escapeHtmlTag(e){return["a","article","aside","button","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"].includes(e)?e:"div"}function escapeURL(e){const t=["http:","https:","mailto:","tel:"];try{const n=new URL(e);return t.includes(n.protocol)?e:""}catch{return""}}},"./packages/packages/core/editor-canvas/src/renderers/create-props-resolver.ts":function(e,t,n){n.r(t),n.d(t,{createPropsResolver:function(){return createPropsResolver}});var r=n("@elementor/editor-props"),o=n("./packages/packages/core/editor-canvas/src/renderers/multi-props.ts");const s=3;function createPropsResolver({transformers:e,schema:t,onPropResolve:n}){async function resolve({props:e,schema:r,signal:s}){r=r??t;const i=Promise.all(Object.entries(r).map(async([t,r])=>{const i=e[t]??r.default,a=await transform({value:i,key:t,type:r,signal:s});return n?.({key:t,value:a}),(0,o.isMultiProps)(a)?(0,o.getMultiPropsValue)(a):{[t]:a}}));return Object.assign({},...(await i).filter(Boolean))}async function transform({value:t,key:n,type:o,signal:i,depth:a=0}){if(null==t)return null;if(!(0,r.isTransformable)(t))return t;if(a>s)return null;if(!0===t.disabled)return null;if(t=(0,r.migratePropValue)(t,o),!(0,r.isTransformable)(t))return t;if("union"===o.kind&&!(o=o.prop_types[t.$$type]))return null;if(t.$$type!==o.key)return null;let c=t.value;"object"===o.kind&&(c=await resolve({props:c,schema:o.shape,signal:i})),"array"===o.kind&&(c=await Promise.all(c.map(e=>transform({value:e,key:n,type:o.item_prop_type,depth:a,signal:i}))));const l=e.get(t.$$type);if(!l)return null;try{return transform({value:await l(c,{key:n,signal:i}),key:n,type:o,signal:i,depth:a+1})}catch{return null}}return resolve}},"./packages/packages/core/editor-canvas/src/renderers/create-styles-renderer.ts":function(e,t,n){n.r(t),n.d(t,{createStylesRenderer:function(){return createStylesRenderer}});var r=n("@elementor/editor-styles"),o=n("@elementor/utils"),s=n("./packages/packages/core/editor-canvas/src/renderers/errors.ts");const i={class:"."};function createStylesRenderer({resolve:e,breakpoints:t,selectorPrefix:n=""}){return async({styles:r,signal:s})=>{const i=r.map(async r=>{const i=Object.values(r.variants).map(async i=>{const a=await async function propsToCss({props:e,resolve:t,signal:n}){const r=await t({props:e,signal:n});return Object.entries(r).reduce((e,[t,n])=>(null===n||e.push(t+":"+n+";"),e),[]).join("")}({props:i.props,resolve:e,signal:s}),c=function customCssToString(e){const t=(0,o.decodeString)(e?.raw||"");if(!t.trim())return"";return t+"\n"}(i.custom_css);return createStyleWrapper().for(r.cssName,r.type).withPrefix(n).withState(i.meta.state).withMediaQuery(i.meta.breakpoint?t[i.meta.breakpoint]:null).wrap(a+c)}),a=await Promise.all(i);return{id:r.id,breakpoint:r?.variants[0]?.meta?.breakpoint||"desktop",value:a.join(""),state:r?.variants[0]?.meta?.state||null}});return await Promise.all(i)}}function createStyleWrapper(e="",t){return{for:(n,r)=>{const o=i[r];if(!o)throw new s.UnknownStyleTypeError({context:{type:r}});return createStyleWrapper(`${e}${o}${n}`,t)},withPrefix:n=>createStyleWrapper([n,e].filter(Boolean).join(" "),t),withState:n=>{if(!n)return createStyleWrapper(e,t);if((0,r.isClassState)(n))return createStyleWrapper(`${e}.${n}`,t);if((0,r.isPseudoState)(n))return createStyleWrapper(`${e}:${n}`,t);throw new s.UnknownStyleStateError({context:{state:n}})},withMediaQuery:n=>{if(!n?.type)return createStyleWrapper(e,t);const r=`${n.type}:${n.width}px`;return createStyleWrapper(e,e=>`@media(${r}){${e}}`)},wrap:n=>{const r=`${e}{${n}}`;return t?t(r):r}}}},"./packages/packages/core/editor-canvas/src/renderers/errors.ts":function(e,t,n){n.r(t),n.d(t,{UnknownStyleStateError:function(){return s},UnknownStyleTypeError:function(){return o}});var r=n("@elementor/utils");const o=(0,r.createError)({code:"unknown_style_type",message:"Unknown style type"}),s=(0,r.createError)({code:"unknown_style_state",message:"Unknown style state"})},"./packages/packages/core/editor-canvas/src/renderers/multi-props.ts":function(e,t,n){n.r(t),n.d(t,{createMultiPropsValue:function(){return createMultiPropsValue},getMultiPropsValue:function(){return getMultiPropsValue},isMultiProps:function(){return isMultiProps}});const isMultiProps=e=>!!e&&"object"==typeof e&&"$$multi-props"in e&&!0===e["$$multi-props"],createMultiPropsValue=e=>({"$$multi-props":!0,value:e}),getMultiPropsValue=e=>e.value},"./packages/packages/core/editor-canvas/src/settings-transformers-registry.ts":function(e,t,n){n.r(t),n.d(t,{settingsTransformersRegistry:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformers-registry.ts").createTransformersRegistry)()},"./packages/packages/core/editor-canvas/src/style-commands/init-style-commands.ts":function(e,t,n){n.r(t),n.d(t,{initStyleCommands:function(){return initStyleCommands}});var r=n("./packages/packages/core/editor-canvas/src/style-commands/paste-style.ts"),o=n("./packages/packages/core/editor-canvas/src/style-commands/reset-style.ts");function initStyleCommands(){(0,r.initPasteStyleCommand)(),(0,o.initResetStyleCommand)()}},"./packages/packages/core/editor-canvas/src/style-commands/paste-style.ts":function(e,t,n){n.r(t),n.d(t,{initPasteStyleCommand:function(){return initPasteStyleCommand}});var r=n("@elementor/editor-v1-adapters"),o=n("./packages/packages/core/editor-canvas/src/style-commands/undoable-actions/paste-element-style.ts"),s=n("./packages/packages/core/editor-canvas/src/style-commands/utils.ts");function initPasteStyleCommand(){const e=(0,o.undoablePasteElementStyle)();(0,r.blockCommand)({command:"document/elements/paste-style",condition:s.hasAtomicWidgets}),(0,r.__privateListenTo)((0,r.commandStartEvent)("document/elements/paste-style"),t=>function pasteStyles(e,t){const{containers:n=[e.container],storageKey:r}=e,o=(0,s.getClipboardElements)(r),[i]=o??[];if(!i)return;const a=i.styles,c=Object.values(a??{})[0];if(!c)return;const l=n.filter(s.isAtomicWidget);if(!l.length)return;t({containers:l,newStyle:c})}(t.args,e))}},"./packages/packages/core/editor-canvas/src/style-commands/reset-style.ts":function(e,t,n){n.r(t),n.d(t,{initResetStyleCommand:function(){return initResetStyleCommand}});var r=n("@elementor/editor-v1-adapters"),o=n("./packages/packages/core/editor-canvas/src/style-commands/undoable-actions/reset-element-style.ts"),s=n("./packages/packages/core/editor-canvas/src/style-commands/utils.ts");function initResetStyleCommand(){const e=(0,o.undoableResetElementStyle)();(0,r.blockCommand)({command:"document/elements/reset-style",condition:s.hasAtomicWidgets}),(0,r.__privateListenTo)((0,r.commandStartEvent)("document/elements/reset-style"),t=>function resetStyles(e,t){const{containers:n=[e.container]}=e,r=n.filter(s.isAtomicWidget);if(!r.length)return;t({containers:r})}(t.args,e))}},"./packages/packages/core/editor-canvas/src/style-commands/undoable-actions/paste-element-style.ts":function(e,t,n){n.r(t),n.d(t,{undoablePasteElementStyle:function(){return undoablePasteElementStyle}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-styles-repository"),s=n("@elementor/editor-v1-adapters"),i=n("@wordpress/i18n"),a=n("./packages/packages/core/editor-canvas/src/style-commands/utils.ts");const undoablePasteElementStyle=()=>(0,s.undoable)({do:({containers:e,newStyle:t})=>e.map(e=>{const n=e.id,s=(0,a.getClassesProp)(e);if(!s)return null;const i=(0,r.getElementStyles)(e.id),[c,l]=Object.entries(i??{})[0]??[],u=Object.keys(l??{}).length?l:null,d={styleId:c,originalStyle:u};if(c)t.variants.forEach(({meta:e,props:t,custom_css:o})=>{(0,r.updateElementStyle)({elementId:n,styleId:c,meta:e,props:t,custom_css:o})});else{const[e]=t.variants,i=t.variants.slice(1);d.styleId=(0,r.createElementStyle)({elementId:n,classesProp:s,label:o.ELEMENTS_STYLES_RESERVED_LABEL,...e,additionalVariants:i})}return d}),undo:({containers:e},t)=>{e.forEach((e,n)=>{const s=t[n];if(!s)return;if(!s.originalStyle)return void(0,r.deleteElementStyle)(e.id,s.styleId);const i=(0,a.getClassesProp)(e);if(!i)return;const[c]=s.originalStyle.variants,l=s.originalStyle.variants.slice(1);(0,r.createElementStyle)({elementId:e.id,classesProp:i,label:o.ELEMENTS_STYLES_RESERVED_LABEL,styleId:s.styleId,...c,additionalVariants:l})})}},{title:({containers:e})=>(0,a.getTitleForContainers)(e),subtitle:(0,i.__)("Style Pasted","elementor")})},"./packages/packages/core/editor-canvas/src/style-commands/undoable-actions/reset-element-style.ts":function(e,t,n){n.r(t),n.d(t,{undoableResetElementStyle:function(){return undoableResetElementStyle}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-styles-repository"),s=n("@elementor/editor-v1-adapters"),i=n("@wordpress/i18n"),a=n("./packages/packages/core/editor-canvas/src/style-commands/utils.ts");const undoableResetElementStyle=()=>(0,s.undoable)({do:({containers:e})=>e.map(e=>{const t=e.model.get("id"),n=(0,r.getElementStyles)(t);return Object.keys(n??{}).forEach(e=>(0,r.deleteElementStyle)(t,e)),n}),undo:({containers:e},t)=>{e.forEach((e,n)=>{const s=(0,a.getClassesProp)(e);if(!s)return;const i=e.model.get("id"),c=t[n];Object.entries(c??{}).forEach(([e,t])=>{const[n]=t.variants,a=t.variants.slice(1);(0,r.createElementStyle)({elementId:i,classesProp:s,styleId:e,label:o.ELEMENTS_STYLES_RESERVED_LABEL,...n,additionalVariants:a})})})}},{title:({containers:e})=>(0,a.getTitleForContainers)(e),subtitle:(0,i.__)("Style Reset","elementor")})},"./packages/packages/core/editor-canvas/src/style-commands/utils.ts":function(e,t,n){n.r(t),n.d(t,{getClassesProp:function(){return getClassesProp},getClipboardElements:function(){return getClipboardElements},getTitleForContainers:function(){return getTitleForContainers},hasAtomicWidgets:function(){return hasAtomicWidgets},isAtomicWidget:function(){return isAtomicWidget}});var r=n("@elementor/editor-elements"),o=n("@elementor/editor-props"),s=n("@wordpress/i18n");function hasAtomicWidgets(e){const{containers:t=[e.container]}=e;return t.some(isAtomicWidget)}function isAtomicWidget(e){return!!e&&Boolean(getContainerSchema(e))}function getClassesProp(e){const t=getContainerSchema(e);if(!t)return null;const[n]=Object.entries(t).find(([,e])=>"plain"===e.kind&&e.key===o.CLASSES_PROP_KEY)??[];return n??null}function getContainerSchema(e){const t=e?.model.get("widgetType")||e?.model.get("elType"),n=(0,r.getWidgetsCache)(),o=n?.[t];return o?.atomic_props_schema??null}function getClipboardElements(e="clipboard"){try{const t=JSON.parse(localStorage.getItem("elementor")??"{}");return t[e]?.elements}catch{return}}function getTitleForContainers(e){return e.length>1?(0,s.__)("Elements","elementor"):(0,r.getElementLabel)(e[0].id)}},"./packages/packages/core/editor-canvas/src/style-transformers-registry.ts":function(e,t,n){n.r(t),n.d(t,{styleTransformersRegistry:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformers-registry.ts").createTransformersRegistry)()},"./packages/packages/core/editor-canvas/src/sync/drag-element-from-panel.ts":function(e,t,n){n.r(t),n.d(t,{endDragElementFromPanel:function(){return endDragElementFromPanel},startDragElementFromPanel:function(){return startDragElementFromPanel}});const startDragElementFromPanel=e=>{const t=getElementorChannels();t?.editor.reply("element:dragged",null),t?.panelElements.reply("element:selected",getLegacyPanelElementView(e)).trigger("element:drag:start")},endDragElementFromPanel=()=>{getElementorChannels()?.panelElements?.trigger("element:drag:end")},getElementorChannels=()=>{const e=window,t=e.elementor?.channels;if(!t)throw new Error("Elementor channels not found: Elementor editor is not initialized or channels are unavailable.");return t},getLegacyPanelElementView=({settings:e,...t})=>{const n=window,r=n.elementor?.modules?.elements?.models?.Element;if(!r)throw new Error("Elementor legacy Element model not found in editor modules");return{model:new r({...t,custom:{isPreset:!!e,preset_settings:e}})}}},"./packages/packages/core/editor-canvas/src/sync/enqueue-font.ts":function(e,t,n){n.r(t),n.d(t,{enqueueFont:function(){return enqueueFont}});const enqueueFont=(e,t="preview")=>{const n=window;return n.elementor?.helpers?.enqueueFont?.(e,t)??null}},"./packages/packages/core/editor-canvas/src/sync/get-canvas-iframe-document.ts":function(e,t,n){function getCanvasIframeDocument(){const e=window;return e.elementor?.$preview?.[0]?.contentDocument}n.r(t),n.d(t,{getCanvasIframeDocument:function(){return getCanvasIframeDocument}})},"./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts":function(e,t,n){function createTransformer(e){return e}n.r(t),n.d(t,{createTransformer:function(){return createTransformer}})},"./packages/packages/core/editor-canvas/src/transformers/create-transformers-registry.ts":function(e,t,n){function createTransformersRegistry(){const e={};let t=null;return{register(t,n){return e[t]=n,this},registerFallback(e){return t=e,this},get(n){return e[n]??t},all(){return{...e}}}}n.r(t),n.d(t,{createTransformersRegistry:function(){return createTransformersRegistry}})},"./packages/packages/core/editor-canvas/src/transformers/settings/attributes-transformer.ts":function(e,t,n){n.r(t),n.d(t,{attributesTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(()=>"")},"./packages/packages/core/editor-canvas/src/transformers/settings/classes-transformer.ts":function(e,t,n){n.r(t),n.d(t,{createClassesTransformer:function(){return createClassesTransformer}});var r=n("@elementor/editor-styles-repository"),o=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");function createClassesTransformer(){const e=new Map;return(0,o.createTransformer)(t=>t.map(t=>function transformClassId(e,t){if(!t.has(e)){const n=r.stylesRepository.getProviders().find(t=>t.actions.all().find(t=>t.id===e));if(!n)return e;t.set(e,n.getKey())}const n=t.get(e),o=r.stylesRepository.getProviderByKey(n);return o?.actions.resolveCssName(e)??e}(t,e)).filter(Boolean))}},"./packages/packages/core/editor-canvas/src/transformers/settings/date-time-transformer.ts":function(e,t,n){n.r(t),n.d(t,{dateTimeTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>e.map(e=>{const t=(e.date||"").trim(),n=(e.time||"").trim();return t||n?`${t} ${n}`.trim():""}).join(" "))},"./packages/packages/core/editor-canvas/src/transformers/settings/link-transformer.ts":function(e,t,n){n.r(t),n.d(t,{linkTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(({destination:e,isTargetBlank:t})=>({href:"number"==typeof e?"#post-id-"+e:e,target:t?"_blank":"_self"}))},"./packages/packages/core/editor-canvas/src/transformers/settings/query-transformer.ts":function(e,t,n){n.r(t),n.d(t,{queryTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(({id:e})=>e??null)},"./packages/packages/core/editor-canvas/src/transformers/shared/image-src-transformer.ts":function(e,t,n){n.r(t),n.d(t,{imageSrcTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>({id:e.id??null,url:e.url??null}))},"./packages/packages/core/editor-canvas/src/transformers/shared/image-transformer.ts":function(e,t,n){n.r(t),n.d(t,{imageTransformer:function(){return o}});var r=n("@elementor/wp-media");const o=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(async e=>{const{src:t,size:n}=e;if(!t?.id)return t?.url?{src:t.url}:null;const o=await(0,r.getMediaAttachment)({id:t.id}),s=o?.sizes?.[n??""];return s?{src:s.url,height:s.height,width:s.width}:o?{src:o.url,height:o.height,width:o.width}:null})},"./packages/packages/core/editor-canvas/src/transformers/shared/plain-transformer.ts":function(e,t,n){n.r(t),n.d(t,{plainTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>e)},"./packages/packages/core/editor-canvas/src/transformers/styles/background-color-overlay-transformer.ts":function(e,t,n){n.r(t),n.d(t,{backgroundColorOverlayTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>{const{color:t=null}=e;return t?`linear-gradient(${t}, ${t})`:null})},"./packages/packages/core/editor-canvas/src/transformers/styles/background-gradient-overlay-transformer.ts":function(e,t,n){n.r(t),n.d(t,{backgroundGradientOverlayTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>"radial"===e.type?`radial-gradient(circle at ${e.positions}, ${e.stops})`:`linear-gradient(${e.angle}deg, ${e.stops})`)},"./packages/packages/core/editor-canvas/src/transformers/styles/background-image-overlay-transformer.ts":function(e,t,n){n.r(t),n.d(t,{backgroundImageOverlayTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>{const{image:t,size:n=null,position:r=null,repeat:o=null,attachment:s=null}=e;if(!t)return null;return{src:t.src?`url(${t.src})`:null,repeat:o,attachment:s,size:n,position:r}})},"./packages/packages/core/editor-canvas/src/transformers/styles/background-image-size-scale-transformer.ts":function(e,t,n){n.r(t),n.d(t,{backgroundImageSizeScaleTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(({width:e,height:t})=>`${e??"auto"} ${t??"auto"}`)},"./packages/packages/core/editor-canvas/src/transformers/styles/background-overlay-transformer.ts":function(e,t,n){n.r(t),n.d(t,{backgroundOverlayTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>{if(!e||0===e.length)return null;const t=function normalizeOverlayValues(e){return e.map(e=>"string"==typeof e?{src:e,repeat:null,attachment:null,size:null,position:null}:e).filter(e=>e&&!!e.src)}(e);if(0===t.length)return null;return{"background-image":getValuesString(t,"src","none",!0),"background-repeat":getValuesString(t,"repeat","repeat"),"background-attachment":getValuesString(t,"attachment","scroll"),"background-size":getValuesString(t,"size","auto auto"),"background-position":getValuesString(t,"position","0% 0%")}});function getValuesString(e,t,n,r=!1){if(0===e.filter(e=>e?.[t]).length)return n;const o=e.map(e=>e[t]??n);if(!r){if(o.every(e=>e===o[0]))return o[0]}return o.join(",")}},"./packages/packages/core/editor-canvas/src/transformers/styles/background-transformer.ts":function(e,t,n){n.r(t),n.d(t,{backgroundTransformer:function(){return o}});var r=n("./packages/packages/core/editor-canvas/src/renderers/multi-props.ts");const o=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>{const{color:t=null,"background-overlay":n=null,clip:o=null}=e;return(0,r.createMultiPropsValue)({...n,"background-color":t,"background-clip":o})})},"./packages/packages/core/editor-canvas/src/transformers/styles/color-stop-transformer.ts":function(e,t,n){n.r(t),n.d(t,{colorStopTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>`${e?.color} ${e?.offset??0}%`)},"./packages/packages/core/editor-canvas/src/transformers/styles/create-combine-array-transformer.ts":function(e,t,n){n.r(t),n.d(t,{createCombineArrayTransformer:function(){return createCombineArrayTransformer}});var r=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");const createCombineArrayTransformer=e=>(0,r.createTransformer)(t=>t?.length?t.filter(Boolean).join(e):null)},"./packages/packages/core/editor-canvas/src/transformers/styles/create-multi-props-transformer.ts":function(e,t,n){n.r(t),n.d(t,{createMultiPropsTransformer:function(){return createMultiPropsTransformer}});var r=n("./packages/packages/core/editor-canvas/src/renderers/multi-props.ts"),o=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");const createMultiPropsTransformer=(e,t)=>(0,o.createTransformer)((n,{key:o})=>{const s=e.filter(e=>n[e]).map(e=>[t({propKey:o,key:e}),n[e]]);return(0,r.createMultiPropsValue)(Object.fromEntries(s))})},"./packages/packages/core/editor-canvas/src/transformers/styles/filter-transformer.ts":function(e,t,n){n.r(t),n.d(t,{filterTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>e?.length<1?null:e.filter(Boolean).map(mapToFilterFunctionString).join(" ")),mapToFilterFunctionString=e=>{if("drop-shadow"===e.func){const{xAxis:t,yAxis:n,blur:r,color:o}=e.args;return`drop-shadow(${t||"0px"} ${n||"0px"} ${r||"10px"} ${o||"transparent"})`}const t=e.args?.size;return e.func&&t?`${e.func}(${t})`:""}},"./packages/packages/core/editor-canvas/src/transformers/styles/flex-transformer.ts":function(e,t,n){n.r(t),n.d(t,{flexTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>{const t=e.flexGrow,n=e.flexShrink,r=e.flexBasis,o=null!=t,s=null!=n,i=null!=r;return o||s||i?o&&s&&i?`${t} ${n} ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:o&&s&&!i?`${t} ${n}`:o&&!s&&i?`${t} 1 ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:!o&&s&&i?`0 ${n} ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:!o||s||i?o||!s||i?o||s||!i?null:`0 1 ${"object"==typeof r&&void 0!==r.size?`${r.size}${r.unit||""}`:r}`:`0 ${n}`:`${t}`:null})},"./packages/packages/core/editor-canvas/src/transformers/styles/perspective-origin-transformer.ts":function(e,t,n){n.r(t),n.d(t,{perspectiveOriginTransformer:function(){return o}});var r=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");function getVal(e){return`${e??"0px"}`}const o=(0,r.createTransformer)(e=>`${getVal(e?.x)} ${getVal(e?.y)}`)},"./packages/packages/core/editor-canvas/src/transformers/styles/position-transformer.ts":function(e,t,n){n.r(t),n.d(t,{positionTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(({x:e,y:t})=>`${e??"0px"} ${t??"0px"}`)},"./packages/packages/core/editor-canvas/src/transformers/styles/shadow-transformer.ts":function(e,t,n){n.r(t),n.d(t,{shadowTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>[e.hOffset,e.vOffset,e.blur,e.spread,e.color,e.position].filter(Boolean).join(" "))},"./packages/packages/core/editor-canvas/src/transformers/styles/size-transformer.ts":function(e,t,n){n.r(t),n.d(t,{sizeTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>"custom"===e.unit?e.size:`${e.size}${e.unit}`)},"./packages/packages/core/editor-canvas/src/transformers/styles/stroke-transformer.ts":function(e,t,n){n.r(t),n.d(t,{strokeTransformer:function(){return o}});var r=n("./packages/packages/core/editor-canvas/src/renderers/multi-props.ts");const o=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>{const t={"-webkit-text-stroke":`${e.width} ${e.color}`,stroke:`${e.color}`,"stroke-width":`${e.width}`};return(0,r.createMultiPropsValue)(t)})},"./packages/packages/core/editor-canvas/src/transformers/styles/transform-functions-transformer.ts":function(e,t,n){n.r(t),n.d(t,{transformFunctionsTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>e?.length<1?null:e.join(" "))},"./packages/packages/core/editor-canvas/src/transformers/styles/transform-move-transformer.ts":function(e,t,n){n.r(t),n.d(t,{transformMoveTransformer:function(){return s}});var r=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");const o="0px",s=(0,r.createTransformer)(e=>`translate3d(${e.x??o}, ${e.y??o}, ${e.z??o})`)},"./packages/packages/core/editor-canvas/src/transformers/styles/transform-origin-transformer.ts":function(e,t,n){n.r(t),n.d(t,{transformOriginTransformer:function(){return o}});var r=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");function getVal(e){return`${e??"0px"}`}const o=(0,r.createTransformer)(e=>{const t=getVal(e.x),n=getVal(e.y),r=getVal(e.z);return"50%"===t&&"50%"===n&&"0px"===r?null:`${t} ${n} ${r}`})},"./packages/packages/core/editor-canvas/src/transformers/styles/transform-rotate-transformer.ts":function(e,t,n){n.r(t),n.d(t,{transformRotateTransformer:function(){return s}});var r=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");const o="0deg",s=(0,r.createTransformer)(e=>[`rotateX(${e?.x??o})`,`rotateY(${e?.y??o})`,`rotateZ(${e?.z??o})`].join(" "))},"./packages/packages/core/editor-canvas/src/transformers/styles/transform-scale-transformer.ts":function(e,t,n){n.r(t),n.d(t,{transformScaleTransformer:function(){return r}});const r=(0,n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts").createTransformer)(e=>`scale3d(${e.x??1}, ${e.y??1}, ${e.z??1})`)},"./packages/packages/core/editor-canvas/src/transformers/styles/transform-skew-transformer.ts":function(e,t,n){n.r(t),n.d(t,{transformSkewTransformer:function(){return s}});var r=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");const o="0deg",s=(0,r.createTransformer)(e=>`skew(${e?.x??o}, ${e?.y??o})`)},"./packages/packages/core/editor-canvas/src/transformers/styles/transition-transformer.ts":function(e,t,n){n.r(t),n.d(t,{transitionTransformer:function(){return s}});var r=n("@elementor/editor-controls"),o=n("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts");const s=(0,o.createTransformer)(e=>{if(e?.length<1)return null;const t=(()=>{const e=new Set;return r.transitionProperties.forEach(t=>{t.properties.forEach(t=>{e.add(t.value)})}),e})(),n=e.map(e=>mapToTransitionString(e,t)).filter(Boolean);return 0===n.length?null:n.join(", ")}),mapToTransitionString=(e,t)=>{if(!e.selection||!e.size)return"";const n=e.selection.value;return t.has(n)?`${n} ${e.size}`:""}},"./packages/packages/core/editor-canvas/src/utils/abort-previous-runs.ts":function(e,t,n){function abortPreviousRuns(e){let t=null;return(...n)=>(t&&t.abort(),t=new AbortController,e(t,...n))}n.r(t),n.d(t,{abortPreviousRuns:function(){return abortPreviousRuns}})},"./packages/packages/core/editor-canvas/src/utils/inline-editing-utils.ts":function(e,t,n){n.r(t),n.d(t,{getInlineEditablePropertyName:function(){return getInlineEditablePropertyName},hasInlineEditableProperty:function(){return hasInlineEditableProperty}});var r=n("@elementor/editor-elements");const o={"e-heading":"title","e-paragraph":"paragraph"},hasInlineEditableProperty=e=>{const t=(0,r.getContainer)(e),n=t?.model?.get("widgetType")??t?.model?.get("elType");return!!n&&n in o},getInlineEditablePropertyName=e=>(e=>{const t=e?.model?.get("widgetType")??e?.model?.get("elType");if(!t)return"";if(o[t])return o[t];const n=(0,r.getElementType)(t)?.propsSchema;if(!n)return"";const s=Object.entries(n).find(([,e])=>"html"===e.key);return s?.[0]??""})(e)},"./packages/packages/core/editor-canvas/src/utils/signalized-process.ts":function(e,t,n){function signalizedProcess(e,t=[]){return{then:n=>(t.push(n),signalizedProcess(e,t)),execute:async()=>{let n;for(const r of t){if(e.aborted)break;n=await r(n,e)}}}}n.r(t),n.d(t,{signalizedProcess:function(){return signalizedProcess}})},"@elementor/editor":function(e){e.exports=window.elementorV2.editor},"@elementor/editor-controls":function(e){e.exports=window.elementorV2.editorControls},"@elementor/editor-documents":function(e){e.exports=window.elementorV2.editorDocuments},"@elementor/editor-elements":function(e){e.exports=window.elementorV2.editorElements},"@elementor/editor-interactions":function(e){e.exports=window.elementorV2.editorInteractions},"@elementor/editor-mcp":function(e){e.exports=window.elementorV2.editorMcp},"@elementor/editor-notifications":function(e){e.exports=window.elementorV2.editorNotifications},"@elementor/editor-props":function(e){e.exports=window.elementorV2.editorProps},"@elementor/editor-responsive":function(e){e.exports=window.elementorV2.editorResponsive},"@elementor/editor-styles":function(e){e.exports=window.elementorV2.editorStyles},"@elementor/editor-styles-repository":function(e){e.exports=window.elementorV2.editorStylesRepository},"@elementor/editor-v1-adapters":function(e){e.exports=window.elementorV2.editorV1Adapters},"@elementor/schema":function(e){e.exports=window.elementorV2.schema},"@elementor/twing":function(e){e.exports=window.elementorV2.twing},"@elementor/ui":function(e){e.exports=window.elementorV2.ui},"@elementor/utils":function(e){e.exports=window.elementorV2.utils},"@elementor/wp-media":function(e){e.exports=window.elementorV2.wpMedia},"@wordpress/i18n":function(e){e.exports=window.wp.i18n},react:function(e){e.exports=window.React},"react-dom":function(e){e.exports=window.ReactDOM}},r={};function __webpack_require__(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);__webpack_require__.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(function(e){s[e]=function(){return n[e]}});return s.default=function(){return n},__webpack_require__.d(o,s),o},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){__webpack_require__.r(o),__webpack_require__.d(o,{createPropsResolver:function(){return i.createPropsResolver},createTemplatedElementView:function(){return l.createTemplatedElementView},createTransformer:function(){return r.createTransformer},createTransformersRegistry:function(){return s.createTransformersRegistry},endDragElementFromPanel:function(){return a.endDragElementFromPanel},getCanvasIframeDocument:function(){return u.getCanvasIframeDocument},init:function(){return e.init},registerElementType:function(){return c.registerElementType},settingsTransformersRegistry:function(){return n.settingsTransformersRegistry},startDragElementFromPanel:function(){return a.startDragElementFromPanel},styleTransformersRegistry:function(){return t.styleTransformersRegistry}});var e=__webpack_require__("./packages/packages/core/editor-canvas/src/init.tsx"),t=__webpack_require__("./packages/packages/core/editor-canvas/src/style-transformers-registry.ts"),n=__webpack_require__("./packages/packages/core/editor-canvas/src/settings-transformers-registry.ts"),r=__webpack_require__("./packages/packages/core/editor-canvas/src/transformers/create-transformer.ts"),s=__webpack_require__("./packages/packages/core/editor-canvas/src/transformers/create-transformers-registry.ts"),i=__webpack_require__("./packages/packages/core/editor-canvas/src/renderers/create-props-resolver.ts"),a=__webpack_require__("./packages/packages/core/editor-canvas/src/sync/drag-element-from-panel.ts"),c=__webpack_require__("./packages/packages/core/editor-canvas/src/legacy/init-legacy-views.ts"),l=__webpack_require__("./packages/packages/core/editor-canvas/src/legacy/create-templated-element-type.ts"),u=__webpack_require__("./packages/packages/core/editor-canvas/src/sync/get-canvas-iframe-document.ts");__webpack_require__("./packages/packages/core/editor-canvas/src/legacy/types.ts")}(),(window.elementorV2=window.elementorV2||{}).editorCanvas=o}(),window.elementorV2.editorCanvas?.init?.();
//# sourceMappingURL=editor-canvas.js.map